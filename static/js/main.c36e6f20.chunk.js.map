{"version":3,"sources":["assets-offline/icons/star.svg","containers/ZekrList/ZekrList.tsx","common/webJsonRequestXhr.ts","services/MemoryCache.ts","services/Zekr/ZekrWebService.ts","components/ErrorMessage/ErrorMessage.tsx","components/Loading/Loading.tsx","services/Zekr/ZekrSearch.ts","containers/SiteSearch/SiteSearch.tsx","containers/Header/Header.tsx","containers/Footer/Footer.tsx","services/Storage.ts","services/Settings/settings.ts","services/Settings/models/AppSettings.ts","services/Settings/userInformation.ts","services/Settings/models/UserInformation.ts","store/Actions/SettingsActions.ts","components/VersionNumber.tsx","assets-offline/icons/tasbih.svg","containers/Layout/SidebarAppDrawer.tsx","common/themeManager.ts","common/helpers/mediaQuery.ts","containers/AboutDialog/AboutDialog.tsx","containers/ShareItDialog/ShareItDialog.tsx","containers/Layout/Layout.tsx","containers/Layout/OffCanvasSwipe.ts","assets-offline/icons/back.svg","components/BackButton/BackButton.tsx","services/Zekr/ZekrService.ts","containers/CategoryList/CategoryListBigIcon.tsx","containers/CategoryList/CategoryList.tsx","containers/CategoryContainer/CategoryContainer.tsx","containers/PageMeta/PageMeta.tsx","containers/ZekrListSummary/ZekrListSummary.tsx","assets-offline/icons/more-rewind.svg","containers/ZekrListFavorites/ZekrListFavorites.tsx","pages/HomePage/HomePage.tsx","components/Conditional/Conditional.tsx","components/DiacriticsText/DiacriticsText.tsx","components/ZekrBodyText/ZekrBodyText.tsx","containers/CategoryList/CategoryListSmallIcon.tsx","common/helpers/positionSticky.ts","assets-offline/icons/add-favourite.svg","containers/BookmarkZekrButton/BookmarkZekrButton.tsx","common/EnableBootstrapToast.js","common/helpers/numbers.ts","components/ZekrCounter/ZekrCounterComponent.tsx","common/helpers/uid.ts","containers/ZekrInlineCounter/ZekrInlineCounter.tsx","assets-offline/icons/add.svg","assets-offline/icons/remove.svg","containers/TextZoomButtons/TextZoomButtons.tsx","assets-offline/icons/arrow-up.svg","components/ScrollTop/ScrollTop.tsx","assets-offline/icons/home.svg","assets-offline/icons/islam-star.svg","components/ZekrVoicePlayer/ZekrVoicePlayer.tsx","pages/ZekrPage/ZekrPage.tsx","pages/NotFoundPage/NotFoundPage.tsx","containers/ZekrListSearchable/ZekrListSearchable.tsx","pages/ZekrCategoryPage/ZekrCategoryPage.tsx","store/Reducers/SettingsReducer.ts","store/Reducers/rootReducer.ts","services/Zekr/ZekrRecommendationService.ts","components/ZekrRecommendations/ZekrRecommendations.tsx","pages/ZekrCounter/ZekrCounter.tsx","pages/FavoritesPage/FavoritesPage.tsx","App.tsx","store/store.ts","serviceWorkerRegistration.ts","index.tsx"],"names":["ZekrList","data","onItemClick","displayRemoveButton","onRemoveClick","className","map","zekr","to","uid","title","metaTitle","onClick","imageClass","imageUrl","src","alt","StarImage","fullName","e","preventDefault","onRemoveButtonClick","defaultWebRequestTimeout","errorResponse","xhr","message","ok","status","statusText","headers","getAllResponseHeaders","parsedBody","undefined","webJsonRequestXhr","config","Promise","resolve","reject","XMLHttpRequest","open","method","url","accessToken","setRequestHeader","ignoreCache","timeout","onload","evt","responseText","getResponseHeader","includes","JSON","parse","parseXHRResult","onerror","console","warn","ontimeout","body","send","stringify","CacheHolder","saveCacheItem","key","value","retrieveCacheItem","a","toLowerCase","getZekrIndexList","then","categories","values","filter","c","category","catch","err","getWebZekrCategoryList","_getCategoryIndexList","parent","length","keyName","cachedItem","response","retryType","ErrorMessage","retry","retryFunction","navigator","onLine","reloadPage","window","location","reload","Loading","searchZekrIndex","zekrIndexList","searchText","limit","result","remaining","push","SiteSearch","modalId","searchLimit","searchTimeout","useState","loading","setLoading","setZekrIndexList","setSearchText","zekrSearchResult","setZekrSearchResult","onSearchInput","event","clearTimeout","setTimeout","doSearch","val","document","getElementById","searchResult","useEffect","loadedZekrIndexList","doGetZekrList","searchModal","searchInput","addEventListener","focus","select","autoFocusInput","id","tabIndex","aria-labelledby","aria-hidden","type","data-bs-dismiss","aria-label","onSubmit","autoFocus","onInput","onChange","onKeyDown","blur","name","placeholder","accessKey","autoComplete","htmlFor","click","Header","data-bs-toggle","data-bs-target","Footer","React","Component","href","saveStorageItem","localStorage","setItem","retrieveStorageItem","item","getItem","AppSettingsStorageKey","readSettingsFromServer","settings","colouredDiacritics","enableTranslations","homePage","displayFavorites","displayTodayPlan","displayTodaySuggestions","textSettings","alternateBodyFont","alternateBodyFontSize","bodyFont","bodyFontSize","benefitsFontSize","stackedZekrBody","theme","isDarkMode","userFavorites","selectedVoices","completeSettings","Object","assign","saveSettingsInServer","UserInformationStorageKey","readUserInformationFromServer","userInfo","prayerTimesWeekly","found","latitude","longitude","elevation","ip_address","city","country","country_code","timezone","local_offset","saveUserInformationInServer","Action_ReadSettings","Action_ReadingSettings","Action_SaveSettings","Action_SavingSettings","readSettingsActionCreator","dispatch","userInformation","saveSettingsActionCreator","VersionNumber","openOffCanvas","openButton","ThemeStatus","connect","store","settingsState","settingsLoading","readSettings","saveSettings","toggleSidebar","applyTheme","saveChanges","setColouredDiacritics","setEnableTranslations","setStackedZekrBody","setDisplayFavorites","setDisplayTodayPlan","setDisplayTodaySuggestions","themeName","data-bs-scroll","data-bs-backdrop","style","display","checked","currentTarget","disabled","innerWidth","TasbihImage","AboutDialog","target","rel","ShareItDialog","pageTitle","querySelector","innerText","escape","toString","appliedThemeName","setBrowserColorTimeout","THEME_DARK_ID","THEME_BROWN_ID","THEME_FIXES_ID","themeConfig","dark","Disabled","brown","fixes","isDark","AlwaysEnabled","PrefersDark","matchMedia","matches","getThemeConfig","updateThemeStylesheet","head","getElementsByTagName","forEach","link","appendChild","ensureThemeStylesheetsAtEnd","replace","markDarkTheme","setBrowserColorNow","setBrowserColor","linkId","themeStatus","media","removeAttribute","setAttribute","PrefersLight","siteHeader","metaThemeColor","color","getComputedStyle","backgroundColor","content","children","onSwipeRight","onSwipeLeft","onSwipeUp","onSwipeDown","swipeThreshold","handleTouchStart","handleTouchMove","xDown","yDown","getTouches","touches","originalEvent","firstTouch","clientX","clientY","xUp","yUp","xDiff","yDiff","Math","abs","enableOffCanvasSwipe","BackButton","returnUrl","doNotShowButton","h","readHistory","current","previous","pushHistory","backHistory","isUrlFromMe","referrer","URL","origin","index","indexOf","substring","invalid_url_error","removeMyOrigin","BackImage","getZekrByUid","getWebZekrByUid","getZekrParentCategoryList","getWebZekrParentCategoryList","getZekrByCategoryUid","getWebZekrByCategoryUi","getZekrCategoryByUid","find","getWebZekrCategoryByUid","getZekrCategoryChainToTopByUid","cat","parentUid","reverse","getWebZekrCategoryChainToTopByUid","getZekrCategoryChildrenByParentUid","childrenCats","getWebZekrCategoryChildrenByParentUid","CategoryListBigIcon","iconClass","CategoryList","CategoryContainer","setCategories","doGet","PageMeta","description","Helmet","ZekrListSummary","displayMoreButton","moreButtonText","moreButtonLink","moreButtonImage","onMoreClick","sectionTitle","displayLimit","zekrFavorites","setZekrFavorites","forceReload","foundZekr","fav","z","zekrUid","reloadZekrFavorites","MoreButtonImage","HomePage","aria-describedby","role","Conditional","condition","removeAccent","str","diacritics","findNonAccentChar","searchStep","DiacriticsText","unsafeHtmlText","styles","languageKey","lang","dangerouslySetInnerHTML","__html","ZekrBodyText","lineSeparator","optional","displayOptional","setDisplayOptional","textCss","textTranslationCss","fontFamily","fontSize","displayTranslation","translationBody","optionalText","alternateBodyList","altBody","CategoryListSmallIcon","detectPositionSticky","elementSelector","stickyElm","IntersectionObserver","classList","toggle","intersectionRatio","threshold","observe","bookmarked","displayToast","bodyElm","bootstrap","toastEl","toast","Toast","show","enableBootstrapToast","aria-live","aria-atomic","f","ArrowUpImage","toPersianNumber","num","toLocaleString","useGrouping","zekrClickStatus","zekrVibrateWarmed","ZekrCounterComponent","zekrCounts","onCloseRequested","count","setCount","countHistory","setCountHistory","activeCountsDetail","setActiveCountsDetail","zekrCountsDetails","setZekrCountsDetails","increaseCount","batchStatus","isVibrated","resetCount","passed","foundIndex","selectNextCountDetails","vibrate","increaseCountBatch","dontVibrate","resetCountBatch","vibrateLong","onClickCounts","counterDetail","arr","r","random","onTouchStart","onMouseDown","counter","i","decreaseCountBatch","ZekrInlineCounter","fontUnit","parseFloat","alternateFontSize","AddImage","RemoveImage","ScrollTop","el","elem","scrollY","opacity","fade","requestAnimationFrame","fadeIn","scrollTo","top","behavior","ZekrVoicePlayer","fileUrl","setFileUrl","voiceName","setVoiceName","playPosition","setPlayPosition","playing","setPlaying","player","setPlayer","played","setPlayed","duration","setDuration","error","setError","buffering","setBuffering","zekrVoices","selectedVoice","v","voiceFile","voice","file","setVoice","filename","formatTime","seconds","floor","m","s","round","Boolean","join","position","seekTo","stopPropagation","onTouchMove","onTouchEnd","max","min","onReady","p","onDuration","seek","onStart","onPause","onEnded","onProgress","state","playedSeconds","onError","onBuffer","onBufferEnd","width","height","history","match","setZekr","benefitsOpen","setBenefitsOpen","voicePlayerOpen","setVoicePlayerOpen","zekrCounterVisible","setZekrCounterVisible","params","closeZekrBenefits","modal","backdrop","getElementsByClassName","remove","loadedZkr","loadedCategoryChain","doGetZekr","showZekrCounter","suffix","getPageTitle","metaDescription","HomeImage","benefits","IslamStarImage","zekrBody","source","zekrBenefitsDialog","NotFoundPage","ZekrListSearchable","textBoxId","zekrList","displaySearchInputLimit","items","ZekrCategoryPage","setZekrList","childrenCategories","setChildrenCategories","setCategory","catParents","setCatParents","categoryUid","categoriesPromise","categoryPromise","loadedZekrList","parents","initialSettingsState","rootReducer","combineReducers","action","getRandomRecommendations","categoryList","randomCategories","getRandomItems","filteredZekr","array","sort","slice","ZekrRecommendations","recommendations","setRecommendations","loadRecommendations","ZekrCounter","userFavList","zekrIndex","findIndex","confirm","splice","App","createStore","applyMiddleware","thunk","addFontStyleSheets","cssFile","createElement","createBrowserHistory","ReactGA","initialize","testMode","process","listen","set","page","pathname","pageview","log","fontsStylesheet","reAddFontStyleSheets","basename","path","exact","component","ZekrPage","FavoritesPage","isLocalhost","hostname","registerValidSW","swUrl","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","onUpdate","onSuccess","ReactDOM","render","StrictMode","fetch","contentType","get","ready","unregister","checkValidServiceWorker","serviceWorkerRegistration"],"mappings":"sNAAe,G,MAAA,IAA0B,kC,OCc5BA,EAAsB,SAAC,GAA+D,IAA7DC,EAA4D,EAA5DA,KAAMC,EAAsD,EAAtDA,YAAaC,EAAyC,EAAzCA,oBAAqBC,EAAoB,EAApBA,cAK7E,OACC,qBAAKC,UAAU,sBAAf,SACEJ,EAAKK,KAAI,SAACC,GACV,OACC,eAAC,IAAD,CACCC,GAAI,SAAWD,EAAKE,IAEpBJ,UAAU,cACVK,MAAOH,EAAKI,UACZC,QAASV,EALV,UAOEK,EAAKM,WACL,mBAAGR,UAAWE,EAAKM,YAAc,iBAC9BN,EAAKO,SACR,qBACCT,UAAU,2BACVU,IAAK,iBAAmBR,EAAKO,SAC7BE,IAAKT,EAAKI,YAGX,qBAAKN,UAAU,2BAA2BU,IAAKE,EAAWD,IAAKT,EAAKI,YAEpEJ,EAAKW,SACLf,GACA,wBAAQE,UAAU,wBAAwBO,QAAS,SAACO,GAAD,OA5BzD,SAA6BA,EAAQZ,GACpCY,EAAEC,iBACEhB,GAAeA,EAAcG,GA0B8Bc,CAAoBF,EAAGZ,IAAjF,SACC,mBAAGF,UAAU,qBAnBVE,EAAKE,WCRHa,EAA2B,IAaxC,SAASC,EAAmBC,GAAwE,IAAnDC,EAAkD,uDAAzB,KACzE,MAAO,CACNC,IAAI,EACJC,OAAQH,EAAIG,OACZC,WAAYJ,EAAII,WAChBC,QAASL,EAAIM,wBACb7B,KAAMwB,GAAWD,EAAII,WACrBG,gBAAYC,GAKP,SAASC,EAA4BC,GAC3C,OAAO,IAAIC,SAAQ,SAACC,EAASC,GAC5B,IAAMb,EAAM,IAAIc,eAChBd,EAAIe,KAAKL,EAAOM,QAAU,MAAON,EAAOO,KAEpCP,EAAOQ,aACVlB,EAAImB,iBAAiB,gBAArB,iBAAgDT,EAAOQ,cAEpDR,EAAOU,aACVpB,EAAImB,iBAAiB,gBAAiB,YAEnCT,EAAOW,UACVrB,EAAIqB,QAAUX,EAAOW,SAGtBrB,EAAIsB,OAAS,SAACC,GACbX,EAvCH,SAA6BZ,GAAyC,IAAD,EACpE,MAAO,CACNE,GAAIF,EAAIG,QAAU,KAAOH,EAAIG,OAAS,IACtCA,OAAQH,EAAIG,OACZC,WAAYJ,EAAII,WAChBC,QAASL,EAAIM,wBACb7B,KAAMuB,EAAIwB,aACVjB,YAAY,UAAAP,EAAIyB,kBAAkB,uBAAtB,eAAuCC,SAAS,SAAWC,KAAKC,MAAM5B,EAAIwB,mBAAwBhB,GAgCrGqB,CAAe7B,KAGxBA,EAAI8B,QAAU,SAACP,GACdQ,QAAQC,KAAK,iCAAmCtB,EAAOO,IAAKM,GAC5DV,EAAOd,EAAcC,EAAK,6BAG3BA,EAAIiC,UAAY,SAACV,GAChBQ,QAAQC,KAAK,oCAAsCtB,EAAOO,IAAKM,GAC/DV,EAAOd,EAAcC,EAAK,wCAGL,SAAlBU,EAAOM,QAAqBN,EAAOwB,MACtClC,EAAImB,iBAAiB,eAAgB,oBACrCnB,EAAImC,KAAKR,KAAKS,UAAU1B,EAAOwB,QAE/BlC,EAAImC,UC3EP,IAAME,EAAmB,GAElB,SAASC,EAAiBC,EAAaC,GAC7CH,EAAYE,GAAOC,EAIb,SAASC,EAAqBF,GACpC,OAAOF,EAAYE,G,4CC8Bb,WAAsCtD,GAAtC,SAAAyD,EAAA,yDACDzD,EADC,yCACW0B,QAAQC,aAAQJ,IAD3B,cAENvB,EAAMA,EAAI0D,cAFJ,kBAIC,IAAIhC,SAAQ,SAACC,EAASC,GAC5B+B,IACEC,MAAK,SAACC,GACN,IAAIC,EAAM,OAAGD,QAAH,IAAGA,OAAH,EAAGA,EAAYE,QAAO,SAACC,GAAD,OAAOA,EAAEC,WAAajE,KACtD2B,EAAQmC,MAERI,OAAM,SAACC,GACPvC,EAAOuC,UAXJ,4C,sBAmBA,SAASC,IACf,OAAO,IAAI1C,SAAQ,SAACC,EAASC,GAC5ByC,IACET,MAAK,SAACC,GACN,IAAIC,EAAM,OAAGD,QAAH,IAAGA,OAAH,EAAGA,EAAYE,QAAO,SAACC,GAAD,OAAQA,EAAEM,SAAWN,EAAEM,OAAOC,UAC9D5C,EAAQmC,MAERI,OAAM,SAACC,GACPvC,EAAOuC,SAiGX,SAASE,IACR,IAAIG,EAAO,iBACPC,EAAajB,EAAkCgB,GACnD,GAAIC,EAEH,OAAO/C,QAAQC,QAAQ8C,GAGxB,IAAIzC,EAAG,UAlKY,GAkKZ,oBAA6BwC,EAA7B,SACP,OAAO,IAAI9C,SAAQ,SAACC,EAASC,GAC5BJ,EAA6C,CAC5CQ,IAAKA,EACLI,QAASvB,IAER+C,MAAK,SAACc,GACN,IAAInB,EAAQmB,EAASpD,WACjBiC,GACHF,EAAcmB,EAASjB,GAExB5B,EAAQ4B,MAERW,OAAM,SAACC,GACPvC,EAAOuC,SAKJ,SAASR,IACf,IAAIa,EAAO,aACPC,EAAajB,EAA+BgB,GAChD,GAAIC,EAEH,OAAO/C,QAAQC,QAAQ8C,GAGxB,IAAIzC,EAAG,UA7LY,GA6LZ,oBAA6BwC,EAA7B,SACP,OAAO,IAAI9C,SAAQ,SAACC,EAASC,GAC5BJ,EAA0C,CACzCQ,IAAKA,EACLI,QAASvB,IAER+C,MAAK,SAACc,GACN,IAAInB,EAAQmB,EAASpD,WACjBiC,GACHF,EAAcmB,EAASjB,GAExB5B,EAAQ4B,MAERW,OAAM,SAACC,GACPvC,EAAOuC,S,IC/MCQ,E,gBAAAA,O,eAAAA,I,2BAAAA,I,kCAAAA,M,KAYL,IAAMC,EAA0B,SAAC,GAAuC,IAArC5D,EAAoC,EAApCA,QAAS6D,EAA2B,EAA3BA,MAAOC,EAAoB,EAApBA,cAgBzD,OAfK9D,IAEHA,EADG+D,UAAUC,OACH,yOAEA,uaAYX,sBAAKpF,UAAU,qCAAf,UACC,oBAAIA,UAAU,cAAd,SAA6BoB,IAC7B,uBACC6D,IAAUF,EAAUM,YACpB,wBAAQrF,UAAU,sCAAsCO,QAZ3D,WACC+E,OAAOC,SAASC,UAWd,uFAIAP,IAAUF,EAAUG,eACpB,wBAAQlF,UAAU,sCAAsCO,QAd3D,WACK2E,GAAeA,KAajB,mECtCSO,G,MAAc,WAC1B,OACC,sBAAKzF,UAAU,UAAf,UACC,sBAAKA,UAAU,mBAAf,UACC,wBACA,wBACA,wBACA,2BAED,2H,QCXI,SAAS0F,EAAgBC,EAA4BC,EAAoBC,GAC/E,IAD2G,EACvGC,EAAsB,GACtBC,EAAYF,EAF2F,cAGxFF,GAHwF,IAG3G,2BAAkC,CAAC,IAAD,IAAvBzF,EAAuB,QAKjC,KAJI,UAAAA,EAAKW,gBAAL,eAAegC,SAAS+C,MAAxB,UAAuC1F,EAAKI,iBAA5C,aAAuC,EAAgBuC,SAAS+C,OACnEE,EAAOE,KAAK9F,GACZ6F,KAEGA,GAAa,EAAG,OARsF,8BAU3G,OAAOD,ECED,IAAMG,EAAwB,SAAC,GAA8B,IAA5BC,EAA2B,EAA3BA,QAASC,EAAkB,EAAlBA,YAC5CN,EAAQ,GACRM,IACHN,EAAQM,GAGT,IAwBIC,EAxBJ,EAA8BC,oBAAkB,GAAhD,mBAAOC,EAAP,KAAgBC,EAAhB,KACA,EAA0CF,mBAAsB,IAAhE,mBAAOV,EAAP,KAAsBa,EAAtB,KACA,EAAoCH,mBAAiB,IAArD,mBAAOT,EAAP,KAAmBa,EAAnB,KACA,EAAgDJ,mBAAsB,IAAtE,mBAAOK,EAAP,KAAyBC,EAAzB,KAuBA,SAASC,EAAcC,GACtBA,EAAM9F,iBAEFqF,GACHU,aAAaV,GAEdA,EAAgBW,WAAWC,EAAU,KAetC,SAASA,IACR,IAAIC,EAAOC,SAASC,eAAe,eAAoCxD,MACvE,IAAKsD,EAGJ,OAFAR,EAAcQ,QACdN,EAAoB,IAIrB,IAAIS,EAAe1B,EAAgBC,EAAesB,EAAKpB,GAEvDc,EAAoBS,GACpBX,EAAcQ,GAgBf,OArEAI,qBAAU,WAAM,4CACf,4BAAAxD,EAAA,6DACC0C,GAAW,GADZ,SAEiCxC,IAFjC,QAEKuD,EAFL,SAKEd,EAAiBc,GAGlBf,GAAW,GARZ,4CADe,uBAAC,WAAD,wBAWfgB,GA6CD,WACC,IAAIC,EAAcN,SAASC,eAAejB,GACtCuB,EAAcP,SAASC,eAAe,eAEtCK,GACHA,EAAYE,iBAAiB,kBAAkB,WAC1CD,IACHA,EAAYE,QACZF,EAAYG,aApDfC,KACE,IAyDF,qBAAK7H,UAAU,aAAa8H,GAAI5B,EAAS6B,UAAW,EAAGC,kBAAiB9B,EAAU,SAAU+B,cAAY,OAAxG,SACC,qBAAKjI,UAAU,eAAf,SACC,sBAAKA,UAAU,gBAAf,UACC,sBAAKA,UAAU,eAAf,UACC,oBAAIA,UAAU,cAAc8H,GAAI5B,EAAU,SAA1C,0IAGA,wBAAQgC,KAAK,SAASlI,UAAU,YAAYmI,kBAAgB,QAAQC,aAAW,aAEhF,sBAAKpI,UAAU,aAAf,UACC,sBAAMqI,SAjEX,SAAwBxB,GACvBA,EAAM9F,kBAgE8B+G,GAAG,mBAAmB9H,UAAU,GAAhE,SACC,sBAAKA,UAAU,qBAAf,UACC,uBACCsI,WAAS,EACTC,QAAS3B,EACT4B,SAAU5B,EACV6B,UAvDR,SAA8B5B,GACF,IAAD,IAAT,SAAbA,EAAMnD,MACTsD,IACA,UAAAE,SAASC,eAAe,sBAAxB,SAAwCuB,OACxC,UAAAxB,SAASC,eAAe,wBAAxB,SAA0CQ,UAoDpCO,KAAK,SACLS,KAAK,SACLC,YAAY,kIACZC,UAAU,IACVf,GAAG,cACHgB,aAAa,MACb9I,UAAU,iBAEX,uBAAO+I,QAAQ,cAAf,+IAGF,sBAAKjB,GAAG,gBAAR,UACExB,GAAW,cAAC,EAAD,KACVA,KAAaX,IAAkBA,EAAchB,SAC9C,cAAC,EAAD,CAAcM,MAAOF,EAAUM,aAE/BO,IAAec,EAAiB/B,QAChC,qBAAK3E,UAAU,GAAf,8SAEA0G,GAAoB,cAAC,EAAD,CAAU9G,KAAM8G,EAAkB7G,YApE7D,WAA8B,IAAD,EAC5B,UAAAqH,SAASC,eAAe,6BAAxB,SAA+C6B,iBAsE5C,qBAAKhJ,UAAU,gCAAf,SACC,wBAAQ8H,GAAG,qBAAqBI,KAAK,SAASlI,UAAU,oBAAoBmI,kBAAgB,QAA5F,gDClIOc,G,MAAa,WACzB,OACC,sBAAKjJ,UAAU,cAAf,UACC,wBACCA,UAAU,iDACVkI,KAAK,SACLgB,iBAAe,YACfC,iBAAe,sBACff,aAAW,qBALZ,SAOC,mBAAGpI,UAAU,kBAEd,cAAC,IAAD,CAAMG,GAAG,IAAIiI,aAAW,oDAAxB,SACC,oBAAIpI,UAAU,aAAd,oFAED,wBACCA,UAAU,iDACVkI,KAAK,SACLgB,iBAAe,QACfC,iBAAe,qBACff,aAAW,iCALZ,SAOC,mBAAGpI,UAAU,oBAEd,cAAC,EAAD,CAAYkG,QAAQ,2B,gCCnBVkD,G,MANOC,IAAMC,UAMA,WACzB,OACC,yBAAQtJ,UAAU,cAAlB,UACC,cAAC,IAAD,CAAMG,GAAG,IAAT,gEADD,UAEC,cAAC,IAAD,CAAMA,GAAG,IAAT,+DAFD,UAGC,cAAC,IAAD,CAAMA,GAAG,IAAT,+DACA,gCACC,sBAAMH,UAAU,YAAhB,kBADD,oIAGC,mBAAGuJ,KAAK,gBAAR,sBAHD,6DCVI,SAASC,EAAmB9F,EAAaC,GAC/CF,EAAcC,EAAKC,GACnB8F,aAAaC,QAAQhG,EAAKZ,KAAKS,UAAUI,IAOnC,SAASgG,EAAuBjG,GACtC,IAAIC,EAAQC,EAAqBF,GACjC,GAAIC,EAAO,OAAOA,EAGlB,IAAIiG,EAAOH,aAAaI,QAAQnG,GAChC,OAAIkG,GAIHnG,EAAcC,EAHdC,EAAQb,KAAKC,MAAM6G,IAIZjG,QALR,EClBD,IAAMmG,EAAwB,oBAEvB,SAAeC,IAAtB,+B,4CAAO,8BAAAlG,EAAA,sEACe8F,EAAiCG,GADhD,cAEU,OADZE,EADE,QAGLA,ECGM,CACNC,oBAAoB,EACpBC,oBAAoB,EACpBC,SAAU,CACTC,kBAAkB,EAClBC,kBAAkB,EAClBC,yBAAyB,GAE1BC,aAAc,CACbC,kBAAmB,QACnBC,sBAAuB,UACvBC,SAAU,WACVC,aAAc,SACdC,iBAAkB,OAClBC,iBAAiB,GAElBC,MAAO,CACNC,YAAY,EACZpC,KAAM,WAEPqC,cAAe,GACfC,eAAgB,KDtBZC,ECCE,CACNjB,oBAAoB,EACpBC,oBAAoB,EACpBC,SAAU,CACTC,kBAAkB,EAClBC,kBAAkB,EAClBC,yBAAyB,GAE1BC,aAAc,CACbC,kBAAmB,QACnBC,sBAAuB,UACvBC,SAAU,WACVC,aAAc,SACdC,iBAAkB,OAClBC,iBAAiB,GAElBC,MAAO,CACNC,YAAY,EACZpC,KAAM,WAEPqC,cAAe,GACfC,eAAgB,IDnBhBE,OAAOC,OAAOF,EAAkBlB,GAChCA,EAAWkB,GATN,kBAYClB,GAZD,4C,sBAeA,SAAeqB,EAAtB,kC,4CAAO,WAAoCrB,GAApC,SAAAnG,EAAA,sEACA2F,EAAgBM,EAAuBE,GADvC,4C,sBEjBP,IAAMsB,EAA4B,wBAE3B,SAAeC,IAAtB,+B,4CAAO,8BAAA1H,EAAA,sEACe8F,EAAqC2B,GADpD,cAEU,OADZE,EADE,QAGLA,ECFM,CACNC,kBAAmB,GACnBlG,SAAU,CACTmG,OAAO,EACPC,SAAU,EACVC,UAAW,EACXC,UAAW,EACXC,WAAY,GACZC,KAAM,GACNC,QAAS,GACTC,aAAc,GACdC,SAAU,GACVC,aAAc,KDRXjB,ECJE,CACNO,kBAAmB,GACnBlG,SAAU,CACTmG,OAAO,EACPC,SAAU,EACVC,UAAW,EACXC,UAAW,EACXC,WAAY,GACZC,KAAM,GACNC,QAAS,GACTC,aAAc,GACdC,SAAU,GACVC,aAAc,IDLfhB,OAAOC,OAAOF,EAAkBM,GAChCA,EAAWN,GATN,kBAYCM,GAZD,4C,sBAeA,SAAeY,EAAtB,kC,4CAAO,WAA2CZ,GAA3C,SAAA3H,EAAA,sEACA2F,EAAgB8B,EAA2BE,GAD3C,4C,sBEbA,IAAMa,EAAsB,eACtBC,EAAyB,kBACzBC,EAAsB,eACtBC,GAAwB,iBAYxBC,GAA2G,WACvH,8CAAO,WAAOC,GAAP,iBAAA7I,EAAA,6DAKN6I,EAJqD,CACpDxE,KAAMoE,IAFD,SAQiBvC,IARjB,cAQAC,EARA,gBASwBuB,IATxB,OASAoB,EATA,OAiBND,EAL+C,CAC9CxE,KAAMmE,EACNrC,SAAUA,EACV2C,gBAAiBA,IAfZ,4CAAP,uDAqBYC,GAA2G,SACvH5C,EACAwB,GAEA,8CAAO,WAAOkB,GAAP,SAAA7I,EAAA,6DAIN6I,EAHmD,CAClDxE,KAAMsE,KAFD,SAOAnB,EAAqBrB,GAPrB,WAQFwB,EARE,gCASCY,EAA4BZ,GAT7B,OAgBNkB,EAH+C,CAC9CxE,KAAMqE,IAdD,2CAAP,uD,QC9CYM,I,MAAoB,WAChC,OAAO,yCCHO,OAA0B,mCCmBlC,SAASC,KACf,IAAIC,EAAa7F,SAASC,eAAe,6BAC/B,OAAV4F,QAAU,IAAVA,KAAY/D,QAGb,IChBKgE,GD6RUC,iBAZS,SAACC,GACxB,MAAO,CACNlD,SAAUkD,EAAMC,cAAcnD,SAC9BoD,gBAAiBF,EAAMC,cAAc7G,YAGZ,SAACoG,GAC3B,MAAO,CACNW,aAAc,kBAAMX,EAASD,OAC7Ba,aAAc,SAACtD,GAAD,OAA2B0C,EAASE,GAA0B5C,QAG/DiD,EA7QqB,SAAC,GAAiD,IAA/CG,EAA8C,EAA9CA,gBAAiBpD,EAA6B,EAA7BA,SAAUsD,EAAmB,EAAnBA,aACjE,SAASC,IAAiB,IAAD,EACxB,UAAArG,SAASC,eAAe,oCAAxB,SAAsD6B,QAavD,SAASwE,EAAW7E,GACdqB,IACLA,EAASc,MAAMnC,KAAOA,EACtB8E,KAGD,SAASA,IACJzD,GAAUsD,EAAatD,GAE5B,MAAoD3D,oBAA0B,OAAR2D,QAAQ,IAARA,OAAA,EAAAA,EAAUC,sBAAsB,GAAtG,mBAAOA,EAAP,KAA2ByD,EAA3B,KACA,EAAoDrH,oBAA0B,OAAR2D,QAAQ,IAARA,OAAA,EAAAA,EAAUE,sBAAsB,GAAtG,mBAAOA,EAAP,KAA2ByD,EAA3B,KACA,EAA8CtH,oBAA0B,OAAR2D,QAAQ,IAARA,OAAA,EAAAA,EAAUO,aAAaM,mBAAmB,GAA1G,mBAAOA,EAAP,KAAwB+C,EAAxB,KACA,EAAgDvH,oBAA0B,OAAR2D,QAAQ,IAARA,OAAA,EAAAA,EAAUG,SAASC,oBAAoB,GAAzG,mBAAOA,EAAP,KAAyByD,EAAzB,KACA,EAAgDxH,oBAA0B,OAAR2D,QAAQ,IAARA,OAAA,EAAAA,EAAUG,SAASE,oBAAoB,GAAzG,mBAAOA,EAAP,KAAyByD,EAAzB,KACA,EAA8DzH,oBACrD,OAAR2D,QAAQ,IAARA,OAAA,EAAAA,EAAUG,SAASG,2BAA2B,GAD/C,mBAAOA,EAAP,KAAgCyD,EAAhC,MAIKX,GAAmBpD,IAEnBC,GAAsBD,EAASC,oBAClCyD,EAAsB1D,EAASC,oBAE5BC,GAAsBF,EAASE,oBAClCyD,EAAsB3D,EAASE,oBAE5BW,IAAe,OAAIb,QAAJ,IAAIA,OAAJ,EAAIA,EAAUO,aAAaM,kBAC7C+C,EAAmB5D,EAASO,aAAaM,iBAEtCT,GAAoBJ,EAASG,SAASC,kBACzCyD,EAAoB7D,EAASG,SAASC,kBAEnCC,GAAoBL,EAASG,SAASE,kBACzCyD,EAAoB9D,EAASG,SAASE,kBAEnCC,GAA2BN,EAASG,SAASG,yBAChDyD,EAA2B/D,EAASG,SAASG,0BAI/C,IAAI0D,EAAS,OAAGhE,QAAH,IAAGA,OAAH,EAAGA,EAAUc,MAAMnC,KAGhC,MAFkB,WAAdqF,IAAwBA,EAAY,WAGvC,sBACChO,UAAU,4BACV+H,UAAW,EACXD,GAAG,qBACHE,kBAAgB,2BAChBiG,iBAAe,OACfC,mBAAiB,OANlB,UAQC,wBACCpG,GAAG,4BACHqG,MAAO,CAAEC,QAAS,QAClBlF,iBAAe,YACfC,iBAAe,wBAEhB,qBAAKnJ,UAAU,mBAAf,SACC,wBAAQkI,KAAK,SAASlI,UAAU,uBAAuBmI,kBAAgB,YAAYC,aAAW,YAE/F,sBAAKpI,UAAU,iBAAf,UACC,qBAAKA,UAAU,cAAckJ,iBAAe,YAAYC,iBAAe,sBAAvE,SACC,cAAC,IAAD,CAAMhJ,GAAG,IAAIiI,aAAW,oDAAxB,SACC,qBAAKpI,UAAU,OAAOU,IAAI,8BAA8BC,IAAI,eAG9D,sBAAKX,UAAU,yBAAf,UACC,uBACCA,UAAU,mBACVkI,KAAK,WACLJ,GAAG,wBACHuG,QAASpE,EACTzB,SAAU,SAAC1H,GACNkJ,IACHA,EAASC,mBAAqBnJ,EAAEwN,cAAcD,QAC9CZ,KAEDC,EAAsB5M,EAAEwN,cAAcD,YAGxC,uBAAOrO,UAAU,mBAAmB+I,QAAQ,wBAA5C,iGAID,sBAAK/I,UAAU,yBAAf,UACC,uBACCA,UAAU,mBACVkI,KAAK,WACLJ,GAAG,wBACHuG,QAASnE,EACT1B,SAAU,SAAC1H,GACNkJ,IACHA,EAASE,mBAAqBpJ,EAAEwN,cAAcD,QAC9CZ,KAEDE,EAAsB7M,EAAEwN,cAAcD,YAGxC,uBAAOrO,UAAU,mBAAmB+I,QAAQ,wBAA5C,8EAID,sBAAK/I,UAAU,yBAAf,UACC,uBACCA,UAAU,mBACVkI,KAAK,WACLJ,GAAG,qBACHyG,WElJEjJ,OAAOkJ,YAAc,KFmJvBH,QAASxD,EACTrC,SAAU,SAAC1H,GACNkJ,IACHA,EAASO,aAAaM,gBAAkB/J,EAAEwN,cAAcD,QACxDZ,KAEDG,EAAmB9M,EAAEwN,cAAcD,YAGrC,wBAAOrO,UAAU,mBAAmB+I,QAAQ,qBAA5C,UACC,mBAAG/I,UAAU,mBADd,2FAID,uBAEA,sBAAKA,UAAU,yBAAf,UACC,uBACCA,UAAU,mBACVkI,KAAK,WACLJ,GAAG,sBACHuG,QAASjE,EACT5B,SAAU,SAAC1H,GACNkJ,IACHA,EAASG,SAASC,iBAAmBtJ,EAAEwN,cAAcD,QACrDZ,KAEDI,EAAoB/M,EAAEwN,cAAcD,YAGtC,uBAAOrO,UAAU,mBAAmB+I,QAAQ,sBAA5C,2FAID,sBAAK/I,UAAU,yBAAf,UACC,uBACCA,UAAU,mBACVkI,KAAK,WACLJ,GAAG,sBACHuG,QAAShE,EACT7B,SAAU,SAAC1H,GACNkJ,IACHA,EAASG,SAASE,iBAAmBvJ,EAAEwN,cAAcD,QACrDZ,KAEDK,EAAoBhN,EAAEwN,cAAcD,YAGtC,uBAAOrO,UAAU,mBAAmB+I,QAAQ,sBAA5C,mHAID,sBAAK/I,UAAU,yBAAf,UACC,uBACCA,UAAU,mBACVkI,KAAK,WACLJ,GAAG,6BACHuG,QAAS/D,EACT9B,SAAU,SAAC1H,GACNkJ,IACHA,EAASG,SAASG,wBAA0BxJ,EAAEwN,cAAcD,QAC5DZ,KAEDM,EAA2BjN,EAAEwN,cAAcD,YAG7C,uBAAOrO,UAAU,mBAAmB+I,QAAQ,6BAA5C,yHAID,uBACA,qBAAK/I,UAAU,YAAYkJ,iBAAe,YAAYC,iBAAe,sBAArE,SACC,eAAC,IAAD,CAAMhJ,GAAG,WAAT,UACC,sBAAMH,UAAU,wBAAhB,SACC,qBAAKU,IAAK+N,GAAa9N,IAAI,IAAIX,UAAU,cAF3C,mDAOD,qBAAKA,UAAU,YAAYkJ,iBAAe,YAAYC,iBAAe,sBAArE,SACC,eAAC,IAAD,CAAMhJ,GAAG,aAAT,UACC,sBAAMH,UAAU,wBAAhB,SACC,mBAAGA,UAAU,yBAFf,qGAOD,uBACA,sBAAKA,UAAU,aAAf,UACC,uGACA,sBAAKA,UAAU,mCAAf,UACC,qBACCO,QAAS,kBAAMiN,EAAW,WAC1BxN,UAAW,uBAAuC,WAAdgO,EAAyB,WAAa,MAE3E,qBACCzN,QAAS,kBAAMiN,EAAW,YAC1BxN,UAAW,wBAAwC,YAAdgO,EAA0B,WAAa,MAE7E,qBACCzN,QAAS,kBAAMiN,EAAW,UAC1BxN,UAAW,sBAAsC,UAAdgO,EAAwB,WAAa,MAEzE,qBACCzN,QAAS,kBAAMiN,EAAW,SAC1BxN,UAAW,qBAAqC,SAAdgO,EAAuB,WAAa,YAIzE,uBACA,qBAAKhO,UAAU,aAAf,SACC,eAAC,IAAD,CAAMG,GAAG,IAAII,QAjOjB,SAA0BO,GAAS,IAAD,EACjCA,EAAEC,iBACFwM,IACA,UAAArG,SAASC,eAAe,+BAAxB,SAAiD6B,SA8N9C,UACC,sBAAMhJ,UAAU,YAAhB,SACC,mBAAGA,UAAU,uBAFf,oGAOD,qBAAKA,UAAU,aAAf,SACC,eAAC,IAAD,CAAMG,GAAG,IAAII,QA9OjB,SAAsBO,GAAS,IAAD,EAC7BA,EAAEC,iBACFwM,IACA,UAAArG,SAASC,eAAe,6BAAxB,SAA+C6B,SA2O5C,UACC,sBAAMhJ,UAAU,YAAhB,SACC,mBAAGA,UAAU,yBAFf,4CAOD,sBAAKA,UAAU,iDAAf,uCACO,cAAC,GAAD,gB,SG9QE0O,GAAyB,SAAC,GACtC,OAD8C,gBAE7C,sBAAK1O,UAAU,aAAa8H,GAAG,cAAcC,UAAW,EAAGC,kBAAgB,oBAAoBC,cAAY,OAA3G,UACC,wBAAQH,GAAG,qBAAqBqG,MAAO,CAAEC,QAAS,QAAUlF,iBAAe,QAAQC,iBAAe,iBAClG,qBAAKnJ,UAAU,eAAf,SACC,sBAAKA,UAAU,gBAAf,UACC,sBAAKA,UAAU,eAAf,UACC,oBAAIA,UAAU,cAAc8H,GAAG,oBAA/B,gJAGA,wBAAQI,KAAK,SAASlI,UAAU,YAAYmI,kBAAgB,QAAQC,aAAW,aAEhF,qBAAKpI,UAAU,aAAf,SACC,kjBAGC,uBAHD,wRAI2D,IAC1D,oBAAGuJ,KAAK,sCAAsCoF,OAAO,SAASC,IAAI,+BAAlE,UACC,qBACClO,IAAI,qDACJC,IAAI,SACJX,UAAU,gBAJZ,yCALD,oFAcC,uBAdD,wHAkBD,qBAAKA,UAAU,gCAAf,SACC,wBAAQkI,KAAK,SAASlI,UAAU,oBAAoBmI,kBAAgB,QAApE,iDCxBO0G,I,MAA2B,SAAC,GAAQ,IAAD,kBAC/C,IAAIC,EAAS,UAAI5H,SAAS6H,cAAc,qBAA3B,aAAG,EAA+CC,UAC3D5M,EAAM6M,OAAO/H,SAAS3B,SAAS2J,YAEnC,OACC,sBAAKlP,UAAU,aAAa8H,GAAG,gBAAgBC,UAAW,EAAGC,kBAAgB,sBAAsBC,cAAY,OAA/G,UACC,wBACCH,GAAG,uBACHqG,MAAO,CAAEC,QAAS,QAClBlF,iBAAe,QACfC,iBAAe,mBAEhB,qBAAKnJ,UAAU,eAAf,SACC,sBAAKA,UAAU,gBAAf,UACC,sBAAKA,UAAU,eAAf,UACC,qBAAIA,UAAU,cAAc8H,GAAG,sBAA/B,UACC,mBAAG9H,UAAU,qBADd,gIAGA,wBAAQkI,KAAK,SAASlI,UAAU,YAAYmI,kBAAgB,QAAQC,aAAW,aAEhF,qBAAKpI,UAAU,aAAf,SACC,oBAAGA,UAAU,cAAb,UACC,oBACC4O,IAAI,WACJrF,KAAM,qCAAuCnH,EAC7CpC,UAAU,wBACV2O,OAAO,SAJR,UAMC,mBAAG3O,UAAU,8BAAiC,IAC9C,sBAAMA,UAAU,gCAAhB,qDAED,oBACC4O,IAAI,WACJrF,KAAI,+BAA0BuF,EAA1B,cAAyC1M,GAC7CpC,UAAU,wBAHX,UAKC,mBAAGA,UAAU,iCAAoC,IACjD,sBAAMA,UAAU,gCAAhB,yBAED,oBAAG4O,IAAI,WAAWrF,KAAI,0BAAqBuF,EAArB,iBAAuC1M,GAAOpC,UAAU,wBAA9E,UACC,mBAAGA,UAAU,iCAAoC,IACjD,sBAAMA,UAAU,gCAAhB,+CAED,oBACCuJ,KAAI,0CAAqCuF,EAArC,YAAkD1M,GACtDpC,UAAU,wBACV2O,OAAO,SAHR,UAKC,mBAAG3O,UAAU,6BAAgC,IAC7C,sBAAMA,UAAU,gCAAhB,0DAIH,qBAAKA,UAAU,gCAAf,SACC,wBAAQkI,KAAK,SAASlI,UAAU,oBAAoBmI,kBAAgB,QAApE,kDHlEFgH,GAAmB,GACnBC,GAAgD,KAG9CC,GAAgB,aAChBC,GAAiB,cACjBC,GAAiB,cAShB,SAAS/B,GAAWQ,GAC1B,GAAIA,IAAcmB,GAAlB,CAEAA,GAAmBnB,EAEnB,IAAMwB,EAsEP,SAAwB7G,GACvB,IAAKA,EAAM,OAAO,KAElB,OAAQA,EAAK7E,eACZ,IAAK,SACL,IAAK,UACL,IAAK,QACJ,MAAO,CACN2L,KAAMzC,GAAY0C,SAClBC,MAAO3C,GAAY0C,SACnBE,MAAO5C,GAAY0C,SACnBG,QAAQ,GAEV,IAAK,OACJ,MAAO,CACNJ,KAAMzC,GAAY8C,cAClBH,MAAO3C,GAAY0C,SACnBE,MAAO5C,GAAY8C,cACnBD,QAAQ,GAEV,IAAK,QACJ,MAAO,CACNJ,KAAMzC,GAAY0C,SAClBC,MAAO3C,GAAY8C,cACnBF,MAAO5C,GAAY8C,cACnBD,QAAQ,GAEV,IAAK,SACJ,MAAO,CACNJ,KAAMzC,GAAY+C,YAClBJ,MAAO3C,GAAY0C,SACnBE,MAAO5C,GAAY+C,YACnBF,OAAQvK,OAAO0K,WAAW,gCAAgCC,SAG7D,OAAO,KAzGaC,CAAelC,GAC9BwB,IAGLW,GAAsBd,GAAeG,EAAYC,MACjDU,GAAsBb,GAAgBE,EAAYG,OAClDQ,GAAsBZ,GAAgBC,EAAYI,OAqCnD,WACC,IAAMQ,EAAOlJ,SAASmJ,qBAAqB,QAAQ,GAClC,CAAChB,GAAeC,GAAgBC,IAGxCe,SAAQ,SAACxI,GACjB,IAAMyI,EAAOrJ,SAASC,eAAeW,GACjCyI,GACHH,EAAKI,YAAYD,MA1CnBE,GA+CD,SAAuBZ,GACtB,IAAIxM,EAAO6D,SAASmJ,qBAAqB,QAAQ,GAE7CrQ,EAAYqD,EAAKrD,UACjB6P,EACE7P,EAAU6C,SAAS,gBACvB7C,GAAa,eAGdA,EAAYA,EAAU0Q,QAAQ,aAAc,IAE7CrN,EAAKrD,UAAYA,EAxDjB2Q,CAAcnB,EAAYK,QAiG3B,WACCe,KAEIxB,IACHtI,aAAasI,IAGdA,GAAyBrI,WAAW6J,GAAoB,KAvGxDC,KAGD,SAASV,GAAsBW,EAAgBC,GAC9C,IAAMR,EAAOrJ,SAASC,eAAe2J,GACrC,GAAIP,EAAM,CACT,OAAQQ,GACP,KAAK/D,GAAY8C,cAChBS,EAAKS,MAAQ,MACbT,EAAKU,gBAAgB,YACrB,MACD,KAAKjE,GAAY0C,SAChBa,EAAKS,MAAQ,UACbT,EAAKW,aAAa,WAAY,IAC9B,MACD,KAAKlE,GAAY+C,YAChBQ,EAAKS,MAAQ,+BACbT,EAAKU,gBAAgB,YACrB,MACD,KAAKjE,GAAYmE,aAChBZ,EAAKS,MAAQ,gCACbT,EAAKU,gBAAgB,YAKV/J,SAASmJ,qBAAqB,QAAQ,GAC9CG,YAAYD,IA+EnB,SAASK,KACR,IAAIQ,EAAalK,SAAS6H,cAAc,gBACpCsC,EAAiBnK,SAAS6H,cAAc,4BAC5C,GAAKqC,GAAeC,EAApB,CAEA,IACIC,EADShM,OAAOiM,iBAAiBH,GAClBI,gBACdF,IAELD,EAAeI,QAAUH,K,SA3IrBtE,O,iCAAAA,I,uBAAAA,I,6BAAAA,I,gCAAAA,Q,KIcL,IA0CeC,iBAXS,SAACC,GACxB,MAAO,CACNlD,SAAUkD,EAAMC,cAAcnD,SAC9BoD,gBAAiBF,EAAMC,cAAc7G,YAGZ,SAACoG,GAC3B,MAAO,CACNW,aAAc,kBAAMX,EAASD,UAGhBQ,EA1CW,SAAC,GAAmE,IAAjEyE,EAAgE,EAAhEA,SAAU1H,EAAsD,EAAtDA,SAAUqD,EAA4C,EAA5CA,aAA4C,EAA9BD,gBAW9D,OAVA/F,qBAAU,WAELgG,GAAcA,ICxBb,WAMJ,IALFsE,EAKC,uDAL+B,KAChCC,EAIC,uDAJ8B,KAC/BC,EAGC,uDAH4B,KAC7BC,EAEC,uDAF8B,KAC/BC,EACC,uDADwB,IAEzB7K,SAASQ,iBAAiB,aAAcsK,GAAkB,GAC1D9K,SAASQ,iBAAiB,YAAauK,GAAiB,GAExD,IAAIC,EAAuB,KACvBC,EAAuB,KAE3B,SAASC,EAAW1P,GACnB,OACCA,EAAI2P,SACJ3P,EAAI4P,cAAcD,QAIpB,SAASL,EAAiCtP,GACzC,IAAM6P,EAAaH,EAAW1P,GAAK,GACnCwP,EAAQK,EAAWC,QACnBL,EAAQI,EAAWE,QAGpB,SAASR,EAAgCvP,GACxC,GAAKwP,GAAUC,EAAf,CAIA,IAAIO,EAAMhQ,EAAI2P,QAAQ,GAAGG,QACrBG,EAAMjQ,EAAI2P,QAAQ,GAAGI,QAErBG,EAAQV,EAAQQ,EAChBG,EAAQV,EAAQQ,EAEhBG,KAAKC,IAAIH,GAASE,KAAKC,IAAIF,GAASd,IACnCe,KAAKC,IAAIH,GAASE,KAAKC,IAAIF,GAE1BD,EAAQ,EACPhB,GAAaA,IAEbD,GAAcA,IAGfkB,EAAQ,EACPf,GAAaA,IAEbD,GAAWA,IAIjBK,EAAQ,KACRC,EAAQ,QD7BTa,CAAqB,KAAMlG,MACzB,CAACO,IAEArD,GACHwD,GAAWxD,EAASc,MAAMnC,MAI1B,sBAAK3I,UAAU,uCAAf,UACC,qBAAKA,UAAU,kBAAf,SACC,cAAC,EAAD,MAED,sBAAKA,UAAU,qBAAf,UACC,qBAAKA,UAAU,iCAAf,SAAiD0R,IACjD,cAAC,GAAD,IACA,cAAC,GAAD,OAED,8BACC,8BACC,cAAC,EAAD,QAGF,cAAC,GAAD,UEhDY,OAA0B,iCCU5BuB,GAAwB,SAAC,GAAoC,IAAlCC,EAAiC,EAAjCA,UAAWC,EAAsB,EAAtBA,gBAKlD,GA+BD,SAAqB/Q,GACpB,IAAIgR,EAAIC,KACR,GAAKD,EAEE,CAEN,GAAIhR,GAAOgR,EAAEE,QAAS,OACtBF,EAAI,CACHG,SAAUH,EAAEE,QACZA,QAASlR,QANVgR,EAAI,CAAEE,QAASlR,EAAKmR,SAAU,IAS/B/J,EAAgB,qBAAsB4J,GA9CtCI,CAAYlO,OAAOC,SAASgE,OAGJ,IAApB4J,EAA0B,OAAO,KAErC,IAAIM,EAAcJ,KAEdjR,EAAM8Q,EAYV,OAXK9Q,IACAqR,GAAeA,EAAYF,UAC1BG,GAAYD,EAAYF,YAC3BnR,EAAMqR,EAAYF,WAGfnR,GAuCCsR,GAAYxM,SAASyM,YAtC1BvR,EAAM8E,SAASyM,WAIZvR,EAIDA,GAAOkD,OAAOC,SAASgE,KAAa,MAExCnH,EAsCD,SAAwBA,GACvB,IACC,IAAMuR,EAAW,IAAIC,IAAIxR,GACzB,GAAIuR,EAASE,SAAWvO,OAAOC,SAASsO,OAAQ,CAC/C,IAAIC,EAAQ1R,EAAI2R,QAAQJ,EAASE,QACjC,OAAOzR,EAAI4R,UAAUF,EAAQH,EAASE,OAAOlP,OAAQvC,EAAIuC,OAASmP,GAElE,OAAO1R,EAEP,MAAO6R,GACR,OAAO7R,GAhDF8R,CAAe9R,GAGpB,cAAC,IAAD,CAAM/B,MAAM,uCAASF,GAAIiC,EAAepC,UAAU,OAAlD,SACC,qBAAKW,IAAI,uCAASD,IAAKyT,GAAWnU,UAAU,wBADVoC,IAP5B,MA2BT,SAASiR,KACR,OAAO1J,EAA2D,sBAMnE,SAAS+J,GAAYtR,GACpB,IAEC,OADiB,IAAIwR,IAAIxR,GACTyR,SAAWvO,OAAOC,SAASsO,OAC1C,MAAOI,GACR,OAAO,GCzDF,SAASG,GAAahU,GAC5B,OxBFM,SAAyBA,GAC/B,IAAKA,EAAK,OAAO0B,QAAQC,aAAQJ,GACjCvB,EAAMA,EAAI0D,cAEV,IAAI1B,EAAG,UAVY,GAUZ,yBAAkChC,EAAlC,SACP,OAAO,IAAI0B,SAAQ,SAACC,EAASC,GAC5BJ,EAAmC,CAClCQ,IAAKA,EACLI,QAASvB,IAER+C,MAAK,SAACc,GACN,IAAInB,EAAQmB,EAASpD,WACrBK,EAAQ4B,MAERW,OAAM,SAACC,GACPvC,EAAOuC,SwBbH8P,CAAgBjU,GAGjB,SAASkU,KACf,OAAOC,IAGD,SAASC,GAAqBpU,GACpC,OxBcM,SAAP,kCwBdQqU,CAAuBrU,GAGxB,SAASsU,GAAqBtU,GACpC,OxB6CM,SAAiCA,GACvC,OAAKA,GACLA,EAAMA,EAAI0D,cAEH,IAAIhC,SAAQ,SAACC,EAASC,GAC5ByC,IACET,MAAK,SAACC,GACN,IAAIN,EAAK,OAAGM,QAAH,IAAGA,OAAH,EAAGA,EAAY0Q,MAAK,SAACvQ,GAAD,OAAOA,EAAEhE,MAAQA,KAC9C2B,EAAQ4B,MAERW,OAAM,SAACC,GACPvC,EAAOuC,UAVOzC,QAAQC,aAAQJ,GwB9C1BiT,CAAwBxU,GAEzB,SAASyU,GAA+BzU,GAC9C,OxB6DM,SAA2CA,GACjD,OAAKA,GACLA,EAAMA,EAAI0D,cAEH,IAAIhC,SAAQ,SAACC,EAASC,GAC5ByC,IACET,MAAK,SAACC,GACN,GAAKA,EAAL,CAIA,IAAI6Q,EAAM7Q,EAAW0Q,MAAK,SAACvQ,GAAD,OAAOA,EAAEhE,MAAQA,KAC3C,GAAK0U,EAAL,CAIA,IAAIhP,EAAyB,CAACgP,GAG1BA,EAAIpQ,QAAUoQ,EAAIpQ,OAAOC,OAAS,GAAI,WAEzC,IADA,IAAIoQ,EAAgCD,EAAIpQ,OAAO,GACxCqQ,GAAW,CACjB,IAAIrQ,EAAST,EAAW0Q,MAAK,SAACvQ,GAAD,OAAOA,EAAEhE,MAAQ2U,KAC9CA,OAAYpT,EAER+C,IACHoB,EAAOE,KAAKtB,GAGRA,EAAOA,QAAUA,EAAOA,OAAOC,OAAS,IAC3CoQ,EAAYrQ,EAAOA,OAAO,MAXY,GAiB1C3C,EAAQ+D,EAAOkP,gBAvBdjT,OAAQJ,QALRI,OAAQJ,MA8BT2C,OAAM,SAACC,GACPvC,EAAOuC,UAtCOzC,QAAQC,aAAQJ,GwB9D1BsT,CAAkC7U,GAGnC,SAAS8U,GAAmCH,GAClD,OxBqGM,SAA+CA,GACrD,OAAKA,GACLA,EAAYA,EAAUjR,cAEf,IAAIhC,SAAQ,SAACC,EAASC,GAC5ByC,IACET,MAAK,SAACC,GAAgB,IAAD,EACrB,GAAKA,EAAL,CAKA,IAAIyN,EAAQ,UAAGzN,EAAW0Q,MAAK,SAACvQ,GAAD,OAAOA,EAAEhE,MAAQ2U,YAApC,aAAG,EAA6CrD,SAC5D,GAAIA,EAAU,CACb,IAAIyD,EAAelR,EAAWE,QAAO,SAACC,GAAD,OAAqC,KAAtB,OAARsN,QAAQ,IAARA,OAAA,EAAAA,EAAU7O,SAASuB,EAAEhE,SACjE2B,EAAQoT,QAERpT,OAAQJ,QATRI,OAAQJ,MAYT2C,OAAM,SAACC,GACPvC,EAAOuC,UApBazC,QAAQC,aAAQJ,GwBtGhCyT,CAAsCL,G,UCzBjCM,GAAiC,SAAC,GAAkB,IAAhBhR,EAAe,EAAfA,SAChD,OACC,cAAC,WAAD,UACEA,EAASiR,UACT,mBAAGtV,WAAYqE,EAASiR,WAAa,gBAAkB,iBACpDjR,EAAS5D,SACZ,qBAAKT,UAAU,2BAA2BU,IAAK,iBAAmB2D,EAAS5D,SAAUE,IAAI,KAEzF,qBAAKX,UAAU,2BAA2BU,IAAKE,EAAWD,IAAI,QCPrD4U,GAA0B,SAAC,GAAc,IAAZ3V,EAAW,EAAXA,KACzC,OACC,qBAAKI,UAAU,gBAAf,SACEJ,EAAKK,KAAI,SAACoE,GAAD,OACT,eAAC,IAAD,CAAMrE,UAAU,kBAAkBG,GAAI,cAAgBkE,EAASjE,IAA/D,UACC,cAAC,GAAD,CAAqBiE,SAAUA,IAC/B,qBAAKrE,UAAU,cAAf,SAA8BqE,EAAShE,UAFiCgE,EAASjE,WCTzEoV,GAAwB,WACpC,MAA8BnP,oBAAkB,GAAhD,mBAAOC,EAAP,KAAgBC,EAAhB,KACA,EAAoCF,mBAAyB,IAA7D,mBAAOpC,EAAP,KAAmBwR,EAAnB,KAiBA,OAfApO,qBAAU,WAAM,4CACf,4BAAAxD,EAAA,6DACC0C,GAAW,GADZ,SAEkB+N,KAA4BhQ,OAAM,SAACC,GACnDrB,QAAQC,KAAK,8BAA+BoB,MAH9C,QAEK3E,EAFL,SAME6V,EAAc7V,GAGf2G,GAAW,GATZ,4CADe,uBAAC,WAAD,wBAYfmP,KACE,IAEIpP,EAAU,cAAC,EAAD,IAAc,cAAC,GAAD,CAAc1G,KAAMqE,K,SCfvC0R,GAAsB,SAAC,GAA4B,IAA1BtV,EAAyB,EAAzBA,MAAOuV,EAAkB,EAAlBA,YAM5C,OALKvV,EAEMA,EAAMsE,OAAS,KACzBtE,GAAS,oGAFTA,EAAQ,gGAKR,eAACwV,GAAA,EAAD,WACC,gCAAQxV,IACR,sBAAMsI,KAAK,cAAc8I,QAASmE,GAA4BvV,QCFpDyV,I,MAA6B,SAAC,GAQpC,IAPNlW,EAOK,EAPLA,KACAC,EAMK,EANLA,YACAkW,EAKK,EALLA,kBACAC,EAIK,EAJLA,eACAC,EAGK,EAHLA,eACAC,EAEK,EAFLA,gBACAC,EACK,EADLA,YAGA,OADAF,EAAiBA,GAAkB,IAElC,cAAC,WAAD,UACC,sBAAKjW,UAAU,wCAAf,UACEJ,EAAKK,KAAI,SAACC,GACV,OACC,eAAC,IAAD,CACCC,GAAI,SAAWD,EAAKE,IAEpBJ,UAAU,cACVK,MAAOH,EAAKI,UACZC,QAASV,EALV,UAOEK,EAAKM,WACL,mBAAGR,UAAWE,EAAKM,YAAc,iBAC9BN,EAAKO,SACR,qBACCT,UAAU,2BACVU,IAAK,iBAAmBR,EAAKO,SAC7BE,IAAKT,EAAKI,YAGX,qBAAKN,UAAU,2BAA2BU,IAAKE,EAAWD,IAAKT,EAAKI,YAEpEJ,EAAKW,WAhBDX,EAAKE,QAoBZ2V,GACA,eAAC,IAAD,CAAM5V,GAAI8V,EAAqCjW,UAAU,+BAA+BO,QAAS4V,EAAjG,UACED,EACAF,IAF6BC,UCvDrB,OAA0B,wCC2H1BhJ,iBAXS,SAACC,GACxB,MAAO,CACNlD,SAAUkD,EAAMC,cAAcnD,SAC9BoD,gBAAiBF,EAAMC,cAAc7G,YAGZ,SAACoG,GAC3B,MAAO,CACNW,aAAc,kBAAMX,EAASD,UAGhBQ,EAtGsB,SAAC,GAM/B,IALNjD,EAKK,EALLA,SACAqD,EAIK,EAJLA,aACAD,EAGK,EAHLA,gBAGK,IAFLgJ,oBAEK,MAFU,gGAEV,EADLC,EACK,EADLA,aAEA,EAA8BhQ,oBAAkB,GAAhD,mBAAOC,EAAP,KAAgBC,EAAhB,KACA,EAA0CF,mBAAsB,IAAhE,mBAAOV,EAAP,KAAsBa,EAAtB,KACA,EAA0CH,mBAAsB,IAAhE,mBAAOiQ,EAAP,KAAsBC,EAAtB,KAwBA,GAtBKF,IAEJA,EAAe,GAGhBhP,qBAAU,WAAM,4CACf,4BAAAxD,EAAA,6DACC0C,GAAW,GADZ,SAEiCxC,IAFjC,QAEKuD,EAFL,SAKEd,EAAiBc,GAGlBf,GAAW,GARZ,4CADe,sBAWE,OAAbyD,GACHqD,IAZe,WAAD,wBAcf9F,KACE,IAEa,MAAZyC,IAAqBA,EAASG,SAASC,iBAE1C,OAAO,cAAC,WAAD,IAgCR,OA3BA,WAAmD,IAAtBoM,EAAqB,wDACjD,GAAIlQ,EAAS,OACb,IAAK0D,IAAarE,IAAkBA,EAAchB,OAAQ,OAG1D,GAAI2R,EAAc3R,SAAW6R,EAAa,OAE1C,GAAIxM,EAASgB,cAAe,CAC3B,IAD2B,EACvByL,EAAyB,GADF,cAGTzM,EAASgB,eAHA,yBAGhB0L,EAHgB,QAK1B,IADIxW,EAAOyF,EAAcgP,MAAK,SAACgC,GAAD,OAAOA,EAAEvW,KAAOsW,EAAIE,cAEjDH,EAAUzQ,KAAK9F,GAGXmW,GAAgBI,EAAU9R,QAAU0R,GACvC,eAPH,2BAA0C,CAAC,IACtCnW,EADqC,qBAOvC,OAVwB,+BAcvBuW,EAAU9R,QAAU6R,IACvBD,EAAiBE,IAxBpBI,GA6BOvQ,GAAW8G,EACjB,cAAC,EAAD,IAEA,cAAC,WAAD,UACEkJ,EAAc3R,OAAS,GACvB,0BAAS3E,UAAU,eAAnB,UACC,oBAAIA,UAAU,sCAAd,SACC,sBAAMA,UAAU,UAAhB,SAA2BoW,MAE5B,qBAAKpW,UAAU,GAAf,SACC,cAAC,GAAD,CACCJ,KAAM0W,EACNP,mBAAmB,EACnBC,eAAe,0DACfC,eAAe,aACfC,gBAAiB,qBAAKlW,UAAU,2BAA2BU,IAAKoW,GAAiBnW,IAAI,mBChG/EoW,I,MAAe,WAC3B,OACC,gCACC,cAAC,GAAD,CACC1W,MAAM,oDACNuV,YAAY,sxBAEb,uBAAM5V,UAAU,cAAhB,UACC,oBAAIA,UAAU,OAAd,mOACA,uBACA,oBAAIA,UAAU,OAAd,SACC,oMAED,oBAAGA,UAAU,aAAb,kzBAE2D,IAC1D,oBAAGuJ,KAAK,sCAAsCoF,OAAO,SAASC,IAAI,+BAAlE,UACC,qBAAKlO,IAAI,qDAAqDC,IAAI,SAASX,UAAU,gBADtF,yCAHD,oFAQC,uBARD,mHAUC,uBAVD,8PAaA,cAAC,GAAD,CAAYmT,iBAAiB,OAE9B,yBAASnT,UAAU,+BAAnB,SACC,sBAAKA,UAAU,0CAAf,UACC,uBACCkI,KAAK,OACLlI,UAAU,eACVgX,mBAAiB,wBACjBpO,YAAY,sGACZM,iBAAe,QACfC,iBAAe,uBAEhB,wBACCnJ,UAAU,wCACVkI,KAAK,SACLJ,GAAG,wBACHoB,iBAAe,QACfC,iBAAe,qBALhB,SAOC,sBAAM8N,KAAK,MAAX,iCAIH,0BAASjX,UAAU,eAAnB,UACC,qBAAIA,UAAU,qBAAd,UACC,0CADD,4HAIA,qBAAKA,UAAU,GAAf,SACC,cAAC,GAAD,SAGF,cAAC,GAAD,CAAmBoW,aAAa,sIC3DtBc,I,YAAyB,SAAC,GAA6B,IAA3BC,EAA0B,EAA1BA,UAAWzF,EAAe,EAAfA,SACnD,OAAO,cAAC,WAAD,UAAWyF,GAAazF,M,MCGhC,SAAS0F,GAAaC,GACrB,IAAKA,EAAK,OAAOA,EAIjB,IAHA,IAAIC,EAAa,CAAC,SAAK,SAAK,SAAK,SAAK,SAAK,SAAK,SAAK,SAAK,UAEtDxR,EAAS,GACJgO,EAAQ,EAAGA,EAAQuD,EAAI1S,OAAQmP,IAAS,CAChD,IAAM1P,EAAIiT,EAAIvD,KACiB,IAA3BwD,EAAWvD,QAAQ3P,IAIf,WAANA,GACsC,WAAtCmT,EAAkBF,EAAKvD,GAAQ,IACO,WAAtCyD,EAAkBF,EAAKvD,EAAO,MANEhO,GAAU1B,GAa7C,SAASmT,EAAkBF,EAAavD,EAAe0D,GAGtD,IAFA1D,GAAS0D,EAEFH,EAAI1S,OAASmP,GAASA,EAAQ,GAAG,CACvC,IAAM1P,EAAIiT,EAAIvD,GACd,IAA+B,IAA3BwD,EAAWvD,QAAQ3P,GAAW,OAAOA,EAEzC0P,GAAS0D,GAKX,OAAO1R,EAOD,IAAM2R,GAA4B,SAAC,GAAiE,IAA/DC,EAA8D,EAA9DA,eAAgBC,EAA8C,EAA9CA,OAAQ1N,EAAsC,EAAtCA,mBAAoB2N,EAAkB,EAAlBA,YACvF,OAAI3N,EAEF,sBAAKjK,UAAU,kBAAkBmO,MAAOwJ,EAAQE,KAAMD,EAAtD,UACC,qBACC5X,UAAU,iBACV8X,wBAAyB,CACxBC,OAAQL,KAGV,qBACC1X,UAAU,qCACV8X,wBAAyB,CACxBC,OAAQX,GAAaM,SAOxB,qBAAK1X,UAAU,kBAAkBmO,MAAOwJ,EAAQE,KAAMD,EAAtD,SACC,qBACC5X,UAAU,oBACV8X,wBAAyB,CACxBC,OAAQL,QC5DDM,GAA0B,SAA1BA,EAA2B,GAA8C,IAAD,IAA3C3U,EAA2C,EAA3CA,KAA2C,IAArC4U,qBAAqC,SAAfjO,EAAe,EAAfA,SAErE,EAA8C3D,mBAAQ,iBAAChD,QAAD,IAACA,OAAD,EAACA,EAAM6U,gBAAP,UAAtD,mBAAOC,EAAP,KAAwBC,EAAxB,KAEA,IAAK/U,EAAM,OAAO,KAElB,IAAIgV,EAAU,GACVC,EAAqB,GAErBtO,IACHqO,EAAU,CACTE,WAAYvO,EAASO,aAAaG,SAClC8N,SAAUxO,EAASO,aAAaI,cAEjC2N,EAAqB,CACpBC,WAAYvO,EAASO,aAAaC,kBAClCgO,SAAUxO,EAASO,aAAaE,wBAMlC,IAAMgO,EAA6C,MAAxBpV,EAAKqV,kBAA4D,KAAzB,OAAR1O,QAAQ,IAARA,OAAA,EAAAA,EAAUE,oBAErE,OACC,sBAAKlK,UAAU,YAAf,UACEmY,GACA,wBAAQjQ,KAAK,SAASlI,UAAU,iCAAiCO,QARpE,WACC6X,GAAmB,IAOjB,SACE/U,EAAKsV,cAAgB,QAGxB,sBACC3Y,WACS,OAARgK,QAAQ,IAARA,OAAA,EAAAA,EAAUO,aAAaM,kBAAmB4N,EACvC,sCACA,oBAEJtK,MAAOgK,EAAkB,CAAE/J,QAAS,QAAW,GANhD,UAQC,qBAAKpO,UAAWyY,EAAqB,+BAAiC,GAAtE,SAtC2B,OAuCzBpV,EAAKuU,YACL,cAAC,GAAD,CACCF,eAAgBrU,EAAKA,KACrBsU,OAAQU,EACRpO,mBAAkB,OAAED,QAAF,IAAEA,OAAF,EAAEA,EAAUC,mBAC9B2N,YAAavU,EAAKuU,cAGnB,qBACC5X,UAAU,iBACVmO,MAAOmK,EACPT,KAAMxU,EAAKuU,YACXE,wBAAyB,CACxBC,OAAQ1U,EAAKA,UAKjB,cAAC,GAAD,CAAa8T,UAAWsB,EAAxB,SACC,qBAAKzY,UAAU,8CAAf,SACC,cAACgY,EAAD,CAAc3U,KAAMA,EAAKqV,gBAAiBT,eAAe,EAAOjO,SAAUA,QAG5E,cAAC,GAAD,CAAamN,UAAqC,MAA1B9T,EAAKuV,mBAA6BvV,EAAKuV,kBAAkBjU,OAAS,EAA1F,SACC,qBAAK3E,UAAU,wBAAf,mBACEqD,EAAKuV,yBADP,aACE,EAAwB3Y,KAAI,SAAC4Y,EAAS/E,GAAV,OAC5B,cAACkE,EAAD,CAAc3U,KAAMwV,EAASZ,eAAe,EAAmBjO,SAAUA,GAAjB8J,aAK3DmE,GAAiB,oBAAIjY,UAAU,kCC1EtB8Y,GAAmC,SAAC,GAAkB,IAAhBzU,EAAe,EAAfA,SAClD,OACC,cAAC,WAAD,UACEA,EAASiR,UACT,mBAAGtV,WAAYqE,EAASiR,WAAa,gBAAkB,iBACpDjR,EAAS5D,SACZ,qBAAKT,UAAU,2BAA2BU,IAAK,iBAAmB2D,EAAS5D,SAAUE,IAAK0D,EAAShE,QAEnG,qBAAKL,UAAU,2BAA2BU,IAAKE,EAAWD,IAAK0D,EAAShE,WCZrE,SAAS0Y,GAAqBC,GACpC,IAAMC,EAAY/R,SAAS6H,cAAciK,GACpCC,GAEY,IAAIC,sBAAqB,gBAAEpY,EAAF,2BAASA,EAAE6N,OAAOwK,UAAUC,OAAO,kBAAmBtY,EAAEuY,kBAAoB,KAAI,CACzHC,UAAW,CAAC,KAEJC,QAAQN,G,MCbH,WAA0B,0CCoBrCO,IAAa,EAoFFvM,iBAZS,SAACC,GACxB,MAAO,CACNlD,SAAUkD,EAAMC,cAAcnD,SAC9BoD,gBAAiBF,EAAMC,cAAc7G,YAGZ,SAACoG,GAC3B,MAAO,CACNW,aAAc,kBAAMX,EAASD,OAC7Ba,aAAc,SAACtD,GAAD,OAA2B0C,EAASE,GAA0B5C,QAG/DiD,EAlFuB,SAAC,GAAuD,IAArD/M,EAAoD,EAApDA,KAAuB8J,GAA6B,EAA9CoD,gBAA8C,EAA7BpD,UAAUsD,EAAmB,EAAnBA,aAMzE,SAASmM,EAAarY,GACrB,IAAIsY,EAAUxS,SAAS6H,cAA2B,2CAC9C2K,IACHA,EAAQ1K,UAAY5N,GC/BhB,SAA8B0G,GACpC,IAAI6R,EAAYrU,OAAM,UAElBsU,EAAU1S,SAASC,eAAeW,GAClC+R,EAAQ,IAAIF,EAAUG,MAAMF,EAAS,IACzCC,EAAME,OD6BLC,CAAqB,8BA8BtB,OAzCA3S,qBAAU,WAETmS,IAAa,IACX,IAuCF,eAAC,WAAD,WACC,qBACC1R,GAAG,6BACH9H,UAAU,oHACViX,KAAK,QACLgD,YAAU,YACVC,cAAY,OALb,SAOC,sBAAKla,UAAU,SAAf,UACC,qBAAKA,UAAU,aAAf,oKACA,wBACCkI,KAAK,SACLlI,UAAU,wCACVmI,kBAAgB,QAChBC,aAAW,eAIb4B,GACA,mBAAGT,KAAK,YAAYhJ,QA/CvB,SAAyBO,GACxBA,EAAEC,iBACGiJ,IAGyB,MAA1BA,EAASgB,gBACZhB,EAASgB,cAAgB,IAGXhB,EAASgB,cAAc2J,MAAK,SAACwF,GAAD,OAAOA,EAAEvD,SAAW1W,EAAKE,OAEnEqZ,EAAa,sOAGbzP,EAASgB,cAAchF,KAAK,CAC3B4Q,QAAS1W,EAAKE,MAIhBoZ,IAAa,EACblM,EAAatD,GAEbjD,YAAW,WACV0S,EAAa,4JACX,QAuBD,SACC,qBAAK/Y,IAAK0Z,GAAczZ,IAAI,SAAIX,UAAW,YAAcwZ,GAAa,0BAA4B,c,YErFhG,SAASa,GAAgBC,GAC/B,OAAOA,EAAIC,eAAe,KAAM,CAAEC,aAAa,ICehD,IAAIC,IAAkB,EAClBC,IAAoB,EAEXC,GAAkC,SAAC,GAAsC,IAApCC,EAAmC,EAAnCA,WAAYC,EAAuB,EAAvBA,iBAC7D,EAAwBxU,mBAAiB,GAAzC,mBAAKyU,EAAL,KAAYC,EAAZ,KACA,EAAwC1U,mBAAmB,IAA3D,mBAAO2U,EAAP,KAAqBC,EAArB,KACA,EAAoD5U,wBAAmC1E,GAAvF,mBAAOuZ,EAAP,KAA2BC,EAA3B,KACA,EAAkD9U,mBAAyB,IAA3E,mBAAO+U,EAAP,KAA0BC,EAA1B,KAuCA,SAASC,IACR,IAAIC,EAgCL,WAIC,IAAKL,EACJ,MAAO,CACNM,YAAY,EACZC,YAAY,GAEVP,EAAmBQ,OACtBR,EAAmBQ,SAEnBR,EAAmBQ,OAAS,EAG7B,GAAIR,EAAmBQ,QAAUR,EAAmBJ,MAInD,OAyBF,WACC,IAAKI,EAAoB,OAGzB,IADA,IAAIS,GAAc,EACT7H,EAAQ,EAAGA,EAAQsH,EAAkBzW,OAAQmP,IAAS,CAE9D,GADUsH,EAAkBtH,GACtBhM,KAAOoT,EAAmBpT,GAAI,CACnC6T,EAAa7H,EACb,OAGE6H,GAAc,EACbA,EAAa,EAAIP,EAAkBzW,OACtCwW,OAAsBxZ,GAEtBwZ,EAAsBC,EAAkBO,EAAa,IAGtDR,OAAsBxZ,GA9CtBia,GAkEG,YAAazW,WAChBA,UAAU0W,QAAQ,KAhEX,CACNL,YAAY,EACZC,YAAY,GAGd,MAAO,CACND,YAAY,EACZC,YAAY,GA1DKK,GAElBf,EAASD,EAAQ,GACjBA,GAAS,EAELS,EAAYE,YAEfA,GAAW,GAEPF,EAAYC,YA+Fb,YAAarW,WAChBA,UAAU0W,QAAQ,IApFpB,SAASJ,EAAWM,GACfjB,GAAOE,EAAahV,KAAK8U,GAiD9B,WACC,IAAKI,EAAoB,OACzBA,EAAmBQ,YAAS/Z,EAlD5Bqa,GACAjB,EAAS,GACTD,EAAQ,GAEY,IAAhBiB,GACHE,IAgFF,SAASA,IACJ,YAAa9W,WAChBA,UAAU0W,QAAQ,KAmBpB,SAASK,EAAcpb,EAAqBqb,GACvCA,IACHA,EAAcT,YAAS/Z,GAExBwZ,EAAsBgB,GAGvB,OA9KA9U,qBAAU,WACT,GAAIuT,EAAY,CACf,IADe,EACXwB,EAAM,GADK,cAECxB,GAFD,IAEf,2BAA4B,CAAC,IAAlBxW,EAAiB,QAC3BgY,EAAIpW,KAAK,CACR8U,MAAO1W,EAAE0W,MACTnS,KAAMvE,EAAEuE,KACR+S,OAAQ,EACR5T,GChCG,uCAAuC4I,QAAQ,SAAS,SAAUtM,GACxE,IAAIiY,EAAqB,GAAhBvJ,KAAKwJ,SAAiB,EAE/B,OADW,MAANlY,EAAYiY,EAAS,EAAJA,EAAW,GACxBnN,SAAS,UDsBF,8BAUfmM,EAAqBe,MAEpB,CAACxB,IAiJCF,KAEA,YAAavV,WAChBA,UAAU0W,QAAQ,GAEnBnB,IAAoB,GAYpB,sBAAK1a,UAAU,mBAAf,UACC,sBAAKA,UAAU,QAAf,6CAA+Bqa,GAAgBS,GAAgB,MAC/D,wBACC5S,KAAK,SACLlI,UAAU,kCACVuc,aAjKH,SAAsBzb,GACrB2Z,IAAkB,EAClBa,KAgKEkB,YA9JH,SAAqB1b,GAChB2Z,KAEJA,IAAkB,EAClBa,MA2JE/a,QAzJH,SAAiBO,GACX2Z,IACJa,IAGDb,IAAkB,GA+IjB,6FASCI,GAAoB,wBAAQta,QA3K/B,WACKsa,GAAkBA,KA0K+B3S,KAAK,SAASlI,UAAU,yBAC5E,uBACCob,EAAkBzW,OAAS,GAC3B,sBAAK3E,UAAU,2BAAf,UACC,qBACCA,UAAW,+CAAuE,MAAtBkb,EAA6B,SAAW,IACpG3a,QAAS,SAACO,GAAD,OAAOob,EAAcpb,OAAGa,IAFlC,2GADD,OAOEyZ,QAPF,IAOEA,OAPF,EAOEA,EAAmBnb,KAAI,SAACwc,EAASC,GAAV,OACvB,sBAEC1c,UACC,wEACCyc,EAAQ3U,MAAR,OAAeoT,QAAf,IAAeA,OAAf,EAAeA,EAAoBpT,IAAK,SAAW,IAErDvH,QAAS,SAACO,GAAD,OAAOob,EAAcpb,EAAG2b,IANlC,UAQC,wBAAQzc,UAAU,aAAlB,SACEyc,EAAQf,OACNrB,GAAgBoC,EAAQf,QAAU,IAAMrB,GAAgBoC,EAAQ3B,OAChET,GAAgBoC,EAAQ3B,SAClB,IACT2B,EAAQ9T,OAZJ8T,EAAQ3U,UAiBjB,gCACC,wBAAQ9H,UAAU,kBAAkBO,QArKvC,YAgDA,WACC,IAAK2a,EAAoB,OACrBA,EAAmBQ,SACtBR,EAAmBQ,SAEfR,EAAmBQ,QAAU,IAChCR,EAAmBQ,YAAS/Z,IArD9Bgb,GACA5B,EAASD,EAAQ,GACjBA,GAAS,EAETmB,KAgKE,sCADD,OAKC,wBAAQjc,UAAU,kBAAkBO,QAAS,kBAAMkb,KAAnD,4DAID,qBAAKzb,UAAU,eAAf,UACc,OAAZgb,QAAY,IAAZA,OAAA,EAAAA,EAAcrW,QAAS,GACvB,uCACEqW,QADF,IACEA,OADF,EACEA,EAAc/a,KAAI,SAACmE,EAAGsY,GAAJ,OAAU,mEAAqBrC,GAAgBjW,KAA3BsY,MAAsC1H,UAC7E,wBAAQhV,UAAU,uBAAuBO,QA5F9C,WACC0a,EAAgB,IAChBgB,KA0FI,oFEnPOW,GAA+B,SAAC,GAAsC,IAApChC,EAAmC,EAAnCA,WAAYC,EAAuB,EAAvBA,iBAC1D,OACC,qBAAK7a,UAAU,sBAAf,SACC,cAAC,GAAD,CAAsB4a,WAAYA,EAAYC,iBAAkBA,OCbpD,OAA0B,gCCA1B,OAA0B,mCCkF1B5N,iBAZS,SAACC,GACxB,MAAO,CACNlD,SAAUkD,EAAMC,cAAcnD,SAC9BoD,gBAAiBF,EAAMC,cAAc7G,YAGZ,SAACoG,GAC3B,MAAO,CACNW,aAAc,kBAAMX,EAASD,OAC7Ba,aAAc,SAACtD,GAAD,OAA2B0C,EAASE,GAA0B5C,QAG/DiD,EAlEoB,SAAC,GAAgD,EAA9CG,gBAA+C,IAA9BpD,EAA6B,EAA7BA,SAAUsD,EAAmB,EAAnBA,aAChE,SAASG,IACJzD,GAAUsD,EAAatD,GAE5B,IAAM6S,EAAW,MAoCjB,OACC,eAAC,WAAD,WACC,mBAAGtT,KAAK,OAAOhJ,QApCjB,SAAoBO,GAEnB,GADAA,EAAEC,iBACGiJ,EAAL,CAEA,IAAIwO,EAAWsE,WAAW9S,EAASO,aAAaI,cAC5CoS,EAAoBD,WAAW9S,EAASO,aAAaE,uBAGzDsS,GAAqB,IADrBvE,GAAY,IAEG,KAAOuE,EAAoB,MAG1C/S,EAASO,aAAaI,aAAe6N,EAAWqE,EAChD7S,EAASO,aAAaE,sBAAwBsS,EAAoBF,EAClEpP,OAsBC,SACC,qBAAK/M,IAAKsc,GAAUrc,IAAI,IAAIX,UAAU,yBAGvC,mBAAGuJ,KAAK,UAAUhJ,QAvBpB,SAAuBO,GAEtB,GADAA,EAAEC,iBACGiJ,EAAL,CAEA,IAAIwO,EAAWsE,WAAW9S,EAASO,aAAaI,cAC5CoS,EAAoBD,WAAW9S,EAASO,aAAaE,uBAGzDsS,GAAqB,IADrBvE,GAAY,IAEG,IAAOuE,EAAoB,KAI1C/S,EAASO,aAAaI,aAAe6N,EAAWqE,EAChD7S,EAASO,aAAaE,sBAAwBsS,EAAoBF,EAClEpP,OAQC,SACC,qBAAK/M,IAAKuc,GAAatc,IAAI,IAAIX,UAAU,+BC/D9B,I,MAAA,IAA0B,sCCI5Bkd,GAAgB,WAiD5B,OA3CA5X,OAAOoC,iBAAiB,UAAU,SAAU5G,GAC3C,IAgBgBqc,EAhBZC,EAAOlW,SAASC,eAAe,sBAC9BiW,IAED9X,OAAO+X,QAAU,IAwBtB,SAAgBF,GAAmD,IAA1C/O,EAAyC,4DAAXzM,EACtDwb,EAAGhP,MAAMmP,QAAU,EACnBH,EAAGhP,MAAMC,QAAUA,GAAW,QAE9B,SAAUmP,IACT,IAAItW,EAAM6V,WAAWK,EAAGhP,MAAMmP,YACfrW,GAAO,IAAO,KAG5BkW,EAAGhP,MAAMmP,QAAUrW,EACnBuW,sBAAsBD,IANxB,GAzBCE,CAAOL,KAUQD,EAPPC,GAQNjP,MAAMmP,QAAU,EAEnB,SAAUC,KACJJ,EAAGhP,MAAMmP,SAAW,IAAO,EAC/BH,EAAGhP,MAAMC,QAAU,OAEnBoP,sBAAsBD,GAJxB,QAwBA,mBAAGhU,KAAK,OAAOhJ,QAjDhB,SAAuBO,GAClBA,GAAGA,EAAEC,iBAETuE,OAAOoY,SAAS,CAAEC,IAAK,EAAGC,SAAU,YA8CG9V,GAAG,qBAAqBqG,MAAO,CAAEC,QAAS,QAAjF,SACC,qBAAK1N,IAAK0Z,GAAczZ,IAAI,SAAIX,UAAU,0BCvD9B,OAA0B,iCCA1B,OAA0B,uC,4BCa5B6d,GAA6B,SAAC,GAAwB,IAAtB3d,EAAqB,EAArBA,KAAM8J,EAAe,EAAfA,SAClD,EAA4B3D,mBAAS,IAArC,mBAAKyX,EAAL,KAAcC,EAAd,KACA,EAAkC1X,mBAAS,IAA3C,mBAAO2X,EAAP,KAAkBC,EAAlB,KACA,EAAwC5X,mBAAS,GAAjD,mBAAO6X,EAAP,KAAqBC,EAArB,KACA,EAA8B9X,oBAAS,GAAvC,mBAAO+X,EAAP,KAAgBC,EAAhB,KACA,EAA4BhY,qBAA5B,mBAAOiY,EAAP,KAAeC,EAAf,KACA,EAA4BlY,mBAAiB,QAA7C,mBAAOmY,EAAP,KAAeC,EAAf,KACA,EAAgCpY,mBAAiB,QAAjD,mBAAOqY,EAAP,KAAiBC,EAAjB,KACA,EAA0BtY,mBAAiB,IAA3C,mBAAOuY,EAAP,KAAcC,EAAd,KACA,EAAkCxY,oBAAS,GAA3C,mBAAOyY,EAAP,KAAkBC,EAAlB,KAEA,GAAI7e,EAAK8e,YAAc9e,EAAK8e,WAAWra,QAClCqF,GAAYA,EAASiB,gBAAkBjB,EAASiB,eAAetG,OAAQ,CAC1E,IAAMsa,EAAgBjV,EAASiB,eAAe0J,MAAK,SAACuK,GAAD,OAAOA,EAAEtI,UAAY1W,EAAKE,OAE7E,GAAI6e,GAAiBA,EAAcE,UAAW,CAC7C,IAAIC,EAAQlf,EAAK8e,WAAWrK,MAAK,SAACuK,GAAD,OAAOA,EAAEG,OAASJ,EAAcE,aAE7DC,GACHE,EAASF,IAKRtB,GACA5d,EAAK8e,YAAc9e,EAAK8e,WAAWra,QAEtC2a,EADYpf,EAAK8e,WAAW,IAI9B,IAAKlB,EAEJ,OAAO,cAAC,WAAD,IAGR,SAASwB,EAASF,G5BrCZ,IAA6BG,E4BsC7BH,I5BtC6BG,E4BwCJH,EAAMC,KAApCvB,E5BvCK,uBAAN,OAA8ByB,G4BwC7BxB,EAAWD,GACXG,EAAamB,EAAMzW,OA0DpB,SAAS6W,EAAWC,GACnB,IAAMrM,EAAIN,KAAK4M,MAAMD,EAAU,MACzBE,EAAI7M,KAAK4M,MAAOD,EAAU,KAAQ,IAClCG,EAAI9M,KAAK+M,MAAMJ,EAAU,IAC/B,MAAO,CAACrM,EAAGuM,EAAI,EAAIA,EAAIvM,EAAI,IAAMuM,EAAIA,GAAK,IAAKC,EAAI,EAAIA,EAAI,IAAMA,GAAGzb,OAAO2b,SAASC,KAAK,KAG1F,OACC,sBAAK/f,UAAU,sCAAf,UACC,uBACC2D,MAAOua,EACP1V,SA3BH,SAAsB1H,GACrB,IAAIkf,GAAYlf,EAAE6N,OAAOhL,MACrBqc,EAAW,IACd7B,EAAgB6B,GAChBvB,EAAUe,EAAWQ,IACf,OAAN1B,QAAM,IAANA,KAAQ2B,OAAOD,GACf3B,GAAW,KAsBV9B,aAAc,SAACzb,GAAD,OAAOA,EAAEof,mBACvBC,YAAa,SAACrf,GAAD,OAAOA,EAAEof,mBACtBE,WAAY,SAACtf,GAAD,OAAOA,EAAEof,mBACrB1D,YAAa,SAAC1b,GAAD,OAAOA,EAAEof,mBACtBhY,KAAK,QACLJ,GAAG,aACH9H,UAAU,QACVqgB,IAAI,MACJC,IAAI,MAEL,sBAAKtgB,UAAU,qBAAf,UACE8e,GAAa,mBAAG9e,UAAU,gCAC1B4e,EACA,sBAAM5e,UAAU,cAAhB,SAA+B4e,IAE/B,iCACEF,EADF,MACeF,QAIhBR,GACA,qBAAKhe,UAAU,0BAAf,SACC,oBAAGuJ,KAAK,SAAR,UACC,qBAAK7I,IAAI,+BAA+BV,UAAU,0BAA0BW,IAAI,iBAC/Eqd,OAIJ,cAAC,KAAD,CACCuC,QAxFH,SAAuBC,GACtBjC,EAAUiC,IAwFRC,WAtFH,SAA0B/B,GACzB,IAAIgC,EAAOxZ,SAASC,eAAe,cACnCuZ,EAAKL,IAAM3B,EAASxP,WACpBwR,EAAKJ,IAAM,IACXI,EAAK/c,MAAQ,IACbgb,EAAYa,EAAWd,KAkFrBiC,QAhFH,WACCtC,GAAW,IAgFTuC,QA9EH,WACCvC,GAAW,IA8ETwC,QA5EH,WACCxC,GAAW,IA4ETyC,WA1EH,SAA0BC,GACzB5C,EAAgB4C,EAAMC,eACtBvC,EAAUe,EAAWuB,EAAMC,iBAyEzBC,QAtGH,WACK3b,OAAOH,UAAUC,OACpByZ,EAAS,oFAETA,EAAS,sGAEVE,GAAa,IAiGXmC,SAvDH,WACCnC,GAAa,IAuDXoC,YArDH,WACCpC,GAAa,IAqDXqC,MAAO,EACPC,OAAQ,EACRjD,QAASA,EACThc,IAAK0b,IAELM,GACA,mBAAG7U,KAAK,SAAShJ,QA5EpB,SAAoBO,GAClB,OAADA,QAAC,IAADA,KAAGC,iBACHsd,GAAW,IA0ET,SACC,qBAAK3d,IAAI,iCAAiCV,UAAU,qBAAqBW,IAAI,cAG7Eyd,GACD,mBAAG7U,KAAK,QAAQhJ,QArFnB,SAAmBO,GACjB,OAADA,QAAC,IAADA,KAAGC,iBACHsd,GAAW,IAmFT,SACC,qBAAK3d,IAAI,gCAAgCV,UAAU,qBAAqBW,IAAI,iBCoJlEsM,iBAXS,SAACC,GACxB,MAAO,CACNlD,SAAUkD,EAAMC,cAAcnD,SAC9BoD,gBAAiBF,EAAMC,cAAc7G,YAGZ,SAACoG,GAC3B,MAAO,CACNW,aAAc,kBAAMX,EAASD,UAGhBQ,EA3Ra,SAAC,GAAgE,EAA9DqU,QAA+D,IAAD,EAArDC,EAAqD,EAArDA,MAAOvX,EAA8C,EAA9CA,SAAUoD,EAAoC,EAApCA,gBAAiBC,EAAmB,EAAnBA,aACzE,EAAwBhH,qBAAxB,mBAAOnG,EAAP,KAAashB,EAAb,KACA,EAA8Bnb,oBAAkB,GAAhD,mBAAOC,EAAP,KAAgBC,EAAhB,KACA,EAAoCF,qBAApC,mBAAOpC,EAAP,KAAmBwR,EAAnB,KACA,EAAwCpP,qBAAxC,mBAAOob,EAAP,KAAqBC,EAArB,KACA,EAA8Crb,oBAAkB,GAAhE,mBAAOsb,EAAP,KAAwBC,EAAxB,KACA,EAAoDvb,oBAAS,GAA7D,mBAAOwb,EAAP,KAA2BC,EAA3B,KAEIlL,EAAU2K,EAAMQ,OAAOnL,QA4C3B,SAASoL,IACJP,GACHA,EAAaQ,MAAM,QAGpB,IADA,IAAIC,EAAWhb,SAASib,uBAAuB,kBACtCrO,EAAQ,EAAGA,EAAQoO,EAASvd,OAAQmP,IAC5CoO,EAASpO,GAAOsO,SAEjB,IAAI/e,EAAO6D,SAASmJ,qBAAqB,QAAQ,GACjDhN,EAAKrD,WAAaqD,EAAKrD,WAAa,IAAI0Q,QAAQ,aAAc,IAC9DrN,EAAK6N,aAAa,QAAS,IApD5B7J,qBAAU,WAAM,4CACf,8BAAAxD,EAAA,6DACC0C,GAAW,GADZ,SAGuB6N,GAAawC,GAAStS,OAAM,SAACC,GAClDrB,QAAQC,KAAK,wBAA0ByT,EAASrS,MAJlD,YAGK8d,EAHL,wCAQkCxN,GAA+BwN,EAAUhe,UAAUC,OAAM,SAACC,GACzFrB,QAAQC,KAAK,yCAA2CyT,EAASrS,MATpE,QAQM+d,EARN,UAaG7M,EAAc6M,GACdd,EAAQa,IAdX,OAkBC9b,GAAW,GAlBZ,6CADe,sBA6Bf,OARiB,OAAbyD,GACHqD,IAtBe,WAAD,wBAwBfkV,GAEAxJ,GAAqB,yBACrBA,GAAqB,2BAEdiJ,IACL,CAACpL,EAAS5M,EAAUqD,IA2CnBrD,GAEQA,EAASO,aAAaK,iBAGlC,IAAI4X,GAAsB,OAAJtiB,QAAI,IAAJA,OAAA,EAAAA,EAAMsiB,mBAAmB,EAmD/C,OAAOlc,GAAW8G,IAAoBlN,EACrCoG,GAAW8G,EACV,cAAC,EAAD,IAEA,cAAC,EAAD,CAAcnI,MAAOF,EAAUM,aAGhC,sBAAKrF,UAAU,iBAAf,UACC,cAAC,GAAD,CACCK,MA9BH,SAAsBH,GAAqB,IAAD,EACzC,IAAKA,EAAM,MAAO,GAElB,IAAIG,GAAY,OAAJH,QAAI,IAAJA,OAAA,EAAAA,EAAMI,aAAN,OAAmBJ,QAAnB,IAAmBA,OAAnB,EAAmBA,EAAMW,WAAY,GACjD,GAAIR,EAAMsE,OAAS,KAAM,UAAAzE,EAAK8e,kBAAL,eAAiBra,QAAS,EAAG,CACrD,IAAM8d,EAAS,8DACXpiB,EAAMsE,OAAS8d,EAAO9d,OAAS,GAClCtE,GAAK,8BAELA,GAASoiB,EASX,OANIpiB,EAAMsE,OAAS,IACdV,GAAcA,EAAWU,OAAS,IACrCtE,GAAS,MAAQ4D,EAAWA,EAAWU,OAAS,GAAGtE,OAI9CA,EAYEqiB,CAAaxiB,GACpB0V,YACC1V,EAAKyiB,gBAAkBziB,EAAKyiB,gBAAkB,uFAAwB,+FAAwBziB,QAAxB,IAAwBA,OAAxB,EAAwBA,EAAMW,YAGtG,qBAAKb,UAAU,uBAAf,SACC,qBAAKA,UAAU,aAAf,SACC,sBAAKA,UAAU,qBAAf,UACC,qBAAKA,UAAU,+BAAf,SACC,uBAAMA,UAAU,mBAAhB,UACC,sBAAMA,UAAU,kBAAhB,SACC,cAAC,IAAD,CAAMG,GAAG,IAAIiI,aAAW,oDAAxB,SACC,qBAAK1H,IAAKkiB,GAAW5iB,UAAU,UAAUW,IAAI,iCAHhD,OAMEsD,QANF,IAMEA,OANF,EAMEA,EAAYhE,KAAI,SAACyE,GAAD,OAChB,iCACC,sBAAM1E,UAAU,uBAAhB,gBACA,sBAAMA,UAAU,kBAAhB,SACC,eAAC,IAAD,CAAMG,GAAI,cAAgBuE,EAAOtE,IAAjC,UAEC,cAAC,GAAD,CAAuBiE,SAAUK,IAChCA,EAAOrE,QAHkCqE,EAAOtE,SAHzCsE,EAAOtE,aAarB,oBAAIJ,UAAU,eAAd,SAA8BE,EAAKW,WACnC,sBAAKb,UAAU,iBAAf,UACEE,EAAK2iB,WAAY,UAAA3iB,EAAK2iB,gBAAL,eAAele,QAAS,GACzC,yBACCpE,QApIR,WACCmhB,EAAgBxa,SAASC,eAAe,0BAoIjCe,KAAK,SACL7H,MAAM,iCACNL,UAAU,qBACVkJ,iBAAe,QACfC,iBAAe,wBANhB,UAQC,qBAAKzI,IAAKoiB,GAAgB9iB,UAAU,UAAUW,IAAI,KAClD,sBAAMX,UAAU,mBAAhB,oDAGF,cAAC,GAAD,cAKJ,8BACC,sBAAKA,UAAU,aAAf,UACC,qBAAKA,UAAU,6BAAf,SACC,uBAAMA,UAAU,mBAAhB,UACC,sBAAMA,UAAU,kBAAhB,SACC,cAAC,IAAD,CAAMG,GAAG,IAAIiI,aAAW,oDAAxB,SACC,qBAAK1H,IAAKkiB,GAAW5iB,UAAU,UAAUW,IAAI,iCAHhD,OAMEsD,QANF,IAMEA,OANF,EAMEA,EAAYhE,KAAI,SAACyE,GAAD,OAChB,iCACC,sBAAM1E,UAAU,uBAAhB,gBACA,sBAAMA,UAAU,kBAAhB,SACC,eAAC,IAAD,CAAMG,GAAI,cAAgBuE,EAAOtE,IAAjC,UAEC,cAAC,GAAD,CAAuBiE,SAAUK,IAChCA,EAAOrE,QAHkCqE,EAAOtE,SAHzCsE,EAAOtE,aAarB,qBAAKJ,UAAU,cAIjB,qBAAKA,UAAU,sBAAf,SACEE,EAAK6iB,SAAS9iB,KAAI,SAACoD,EAAMyQ,GAAP,OAClB,cAAC,GAAD,CAAc9J,SAAUA,EAAsB3G,KAAMA,GAAbyQ,QAGxC5T,EAAK8iB,QACL9iB,EAAK8iB,OAAOre,OAAS,GACrBzE,EAAK8iB,OAAO/iB,KAAI,SAACS,EAAKoT,GAAN,OACf,sBAAK9T,UAAU,cAAf,0CAEC,mBAAGuJ,KAAM7I,EAAI0B,IAAKuM,OAAO,SAASC,IAAI,+BAAtC,SACElO,EAAIL,UAH2ByT,MAOpC,sBAAK9T,UAAU,yBAAf,UACE2hB,GAAmB,cAAC,GAAD,CAAiBzhB,KAAMA,EAAM8J,SAAUA,IAC3D,cAAC,GAAD,IACA,cAAC,GAAD,IACC9J,EAAK8e,YAAc9e,EAAK8e,WAAWra,OAAS,GAC5C,eAAC,WAAD,WACEgd,GACA,mBAAGpY,KAAK,QAAQhJ,QA1KtB,SAA4BO,GAC1B,OAADA,QAAC,IAADA,KAAGC,iBACH6gB,GAAmB,IAwKd,SACC,qBAAKlhB,IAAI,yBAAyBV,UAAU,qBAAqBW,IAAI,cAGrEghB,GACD,mBAAGpY,KAAK,QAAQhJ,QAnLtB,SAA2BO,GACzB,OAADA,QAAC,IAADA,KAAGC,iBACH6gB,GAAmB,IAiLd,SACC,qBAAKlhB,IAAI,gCAAgCV,UAAU,qBAAqBW,IAAI,gBAKhF,cAAC,GAAD,CAAoBT,KAAMA,IACzBsiB,GACA,mBAAGjZ,KAAK,gBAAgBhJ,QAlM5B,SAA2BO,GACzB,OAADA,QAAC,IAADA,KAAGC,iBACH+gB,GAAsB,IAgMiCzhB,MAAM,8CAA1D,SACC,qBAAKK,IAAK+N,GAAa9N,IAAI,IAAIX,UAAU,4BAI3CE,EAAK2iB,UAAY3iB,EAAK2iB,SAASle,OAAS,GA9KhB,wBAC1B,qBACC3E,UAAU,0CACV8H,GAAG,uBACHC,UAAW,EACXC,kBAAgB,6BAChBC,cAAY,OALb,SAOC,qBAAKjI,UAAU,sEAAf,SACC,sBAAKA,UAAU,gBAAf,UACC,sBAAKA,UAAU,eAAf,UACC,qBAAKA,UAAU,sBAAsB8H,GAAG,6BAAxC,SACE,0CAAW5H,QAAX,IAAWA,OAAX,EAAWA,EAAMW,YAEnB,wBAAQqH,KAAK,SAASlI,UAAU,YAAYmI,kBAAgB,aAE7D,qBAAKnI,UAAU,aAAf,SACC,qBAAKA,UAAU,sBAAf,gBACEE,QADF,IACEA,GADF,UACEA,EAAM2iB,gBADR,aACE,EAAgB5iB,KAAI,SAACoD,EAAMyQ,GAAP,OACpB,cAAC,GAAD,CAAc9J,SAAUA,EAAsB3G,KAAMA,GAAbyQ,iBA2JEmP,GAC7CpB,GAAsBW,GACtB,cAAC,GAAD,CAAmB5H,WAAY1a,EAAK0a,WAAYC,iBArMnD,WACCiH,GAAsB,YCzGXoB,GAAmB,WAC/B,OACC,gCACC,cAAC,GAAD,CAAU7iB,MAAM,8CAAWuV,YAAY,8IACvC,mDCOUuN,I,MAAgC,SAAC,GAOvC,IAUF/c,EAhBJgd,EAMK,EANLA,UACAC,EAKK,EALLA,SACAjN,EAIK,EAJLA,aACAkN,EAGK,EAHLA,wBACAxjB,EAEK,EAFLA,oBACAC,EACK,EADLA,cAGA,EAAoCsG,mBAAiB,IAArD,mBAAOT,EAAP,KAAmBa,EAAnB,KACA,EAAgDJ,qBAAhD,mBAAOK,EAAP,KAAyBC,EAAzB,KAkCA,SAASK,IACR,IAAIC,EAAOC,SAASC,eAAeic,GAAgCzf,MACnE,IAAKsD,EAGJ,OAFAR,EAAcQ,QACdN,EAAoB,MAIrB,IAAIS,EAAe1B,EAAgB2d,EAAUpc,EA5CZ,IA6CjCN,EAAoBS,GACpBX,EAAcQ,GAGf,OA7CKqc,IAEJA,EAA0B,IA4C1B,0BAAStjB,UAAU,eAAnB,UACC,qBAAIA,UAAU,sCAAd,UACC,sBAAMA,UAAU,UAAhB,SAA2BoW,IAC1BiN,EAAS1e,OAAS2e,GAClB,sBAAKtjB,UAAU,0CAAf,UACC,uBACC8H,GAAIsb,EACJlb,KAAK,OACLlI,UAAU,eACVgX,mBAAiB,wBACjBpO,YAAY,gGACZL,QAnDN,SAAuB1B,GACtBA,EAAM9F,iBAEFqF,GACHU,aAAaV,GAEdA,EAAgBW,WAAWC,EAAU,MA8ChCwB,SA5CN,WACCxB,KA4CKyB,UAzCN,SAA8B5B,GAC7B,GAAiB,SAAbA,EAAMnD,IAAgB,CAAC,IAAD,EACzBsD,IACA,UAAAE,SAASC,eAAeic,UAAxB,SAAoC1a,OAEpC,IAAI6a,EAAQrc,SAASib,uBAAuB,eACxCoB,EAAM5e,QACR4e,EAAM,GAAwB5b,YAoC7B,wBACC3H,UAAU,wCACVkI,KAAK,SACLJ,GAAG,wBACHvH,QApCN,WACCyG,KA+BI,SAMC,sBAAMiQ,KAAK,MAAX,kCAKJ,sBAAKjX,UAAU,GAAf,UACE4F,KAAc,OAACc,QAAD,IAACA,OAAD,EAACA,EAAkB/B,SACjC,qBAAK3E,UAAU,GAAf,+SAEC4F,IAAeyd,EAAS1e,QAAU,4HAClB,OAAhB+B,QAAgB,IAAhBA,OAAA,EAAAA,EAAkB/B,SAAU0e,EAAS1e,OAAS,IAC/C,cAAC,EAAD,CACC/E,KAAM8G,GAAoB2c,EAC1BvjB,oBAAqBA,EACrBC,cAAeA,YCzFRyjB,GAAoD,SAAC,GAAwB,IAAtBjC,EAAqB,EAArBA,MACnE,GADwF,EAAdD,QAC1Cjb,sBAAhC,mBAAOgd,EAAP,KAAiBI,EAAjB,KACA,EAA8Bpd,oBAAkB,GAAhD,mBAAOC,EAAP,KAAgBC,EAAhB,KACA,EAAoDF,qBAApD,mBAAOqd,EAAP,KAA2BC,EAA3B,KACA,EAAgCtd,qBAAhC,mBAAOhC,EAAP,KAAiBuf,EAAjB,KACA,EAAoCvd,mBAAyB,IAA7D,mBAAOwd,EAAP,KAAmBC,EAAnB,KAEIC,EAAcxC,EAAMQ,OAAOgC,YAkD/B,OAhDA1c,qBAAU,WAAM,4CACf,gDAAAxD,EAAA,6DACC0C,GAAW,GACPyd,EAAoB9O,GAAmC6O,GAAazf,OAAM,SAACC,GAC9ErB,QAAQC,KAAK,yCAA2C4gB,EAAaxf,MAElE0f,EAAkBvP,GAAqBqP,GAAazf,OAAM,SAACC,GAC9DrB,QAAQC,KAAK,4BAA8B4gB,EAAaxf,MAN1D,SAS4BiQ,GAAqBuP,GAAazf,OAAM,SAACC,GACnErB,QAAQC,KAAK,yCAA2C4gB,EAAaxf,MAVvE,cASK2f,EATL,gBAYwBF,EAZxB,cAYK/f,EAZL,iBAasBggB,EAbtB,WAaK5f,EAbL,OAeK8f,EAA0B,IAE1B9f,KAAQ,UAAIA,EAASK,cAAb,aAAI,EAAiBC,QAjBlC,+BAkB0BN,EAASK,QAlBnC,kEAkBaqQ,EAlBb,kBAmBsBL,GAAqBK,GAAWzQ,OAAM,eAnB5D,SAmBOI,EAnBP,SAqBIyf,EAAQne,KAAKtB,GArBjB,iJAwBEof,EAAcK,GAxBhB,wBA0BEL,EAAc,IA1BhB,QA6BqBL,EAAhBS,QACaviB,GAEDgiB,EAAZ1f,QACuBtC,GAEbiiB,EAAVvf,QACa1C,GAEjB4E,GAAW,GAtCZ,kEADe,uBAAC,WAAD,wBAyCfgB,KACE,CAACwc,IAMGzd,IAAY+c,EAClB/c,EACC,cAAC,EAAD,IAEA,cAAC,EAAD,CAAcrB,MAAOF,EAAUM,aAGhC,gCACC,cAAC,GAAD,CAAUhF,OAAe,OAARgE,QAAQ,IAARA,OAAA,EAAAA,EAAUhE,OAAQ,mEAAkBuV,YAAa,2EAAmBvR,QAAnB,IAAmBA,OAAnB,EAAmBA,EAAUhE,SAC/F,qBAAKL,UAAU,uBAAf,SACC,qBAAKA,UAAU,aAAf,SACC,sBAAKA,UAAU,qBAAf,UACC,qBAAKA,UAAU,+BAAf,SAEC,uBAAMA,UAAU,mBAAhB,UACC,sBAAMA,UAAU,kBAAhB,SACC,cAAC,IAAD,CAAMG,GAAG,IAAIiI,aAAW,oDAAxB,SACC,qBAAK1H,IAAKkiB,GAAW5iB,UAAU,UAAUW,IAAI,iCAHhD,OAMEkjB,QANF,IAMEA,OANF,EAMEA,EAAY5jB,KAAI,SAACyE,GAAD,OAChB,iCACC,sBAAM1E,UAAU,uBAAhB,gBACA,sBAAMA,UAAU,kBAAhB,SACC,eAAC,IAAD,CAAMG,GAAI,cAAgBuE,EAAOtE,IAAjC,UAEC,cAAC,GAAD,CAAuBiE,SAAUK,IAChCA,EAAOrE,QAHkCqE,EAAOtE,SAHzCsE,EAAOtE,aAarB,oBAAIJ,UAAU,eAAd,SACEqE,GACA,8BAEC,eAAC,IAAD,CAAMlE,GAAI,cAAgBkE,EAASjE,IAAnC,4EACeiE,EAAShE,QADqBgE,EAASjE,SAMzD,qBAAKJ,UAAU,iBAAf,SACC,cAAC,GAAD,aAKJ,8BACC,sBAAKA,UAAU,aAAf,UACC,qBAAKA,UAAU,6BAAf,SAEC,uBAAMA,UAAU,mBAAhB,UACC,sBAAMA,UAAU,kBAAhB,SACC,cAAC,IAAD,CAAMG,GAAG,IAAIiI,aAAW,oDAAxB,SACC,qBAAK1H,IAAKkiB,GAAW5iB,UAAU,UAAUW,IAAI,iCAHhD,OAMEkjB,QANF,IAMEA,OANF,EAMEA,EAAY5jB,KAAI,SAACyE,GAAD,OAChB,iCACC,sBAAM1E,UAAU,uBAAhB,gBACA,sBAAMA,UAAU,kBAAhB,SACC,eAAC,IAAD,CAAMG,GAAI,cAAgBuE,EAAOtE,IAAjC,UAEC,cAAC,GAAD,CAAuBiE,SAAUK,IAChCA,EAAOrE,QAHkCqE,EAAOtE,SAHzCsE,EAAOtE,aAarB,qBAAKJ,UAAU,eAGR,OAARqE,QAAQ,IAARA,OAAA,EAAAA,EAAUuR,cACV,8BACC,sBAAM5V,UAAU,uBAAhB,SACC,mCAAIqE,QAAJ,IAAIA,OAAJ,EAAIA,EAAUuR,kBAIhB8N,GACA,0BAAS1jB,UAAU,eAAnB,UACC,qBAAIA,UAAU,qBAAd,UACC,0CADD,0EAIA,qBAAKA,UAAU,GAAf,SACC,cAAC,GAAD,CAAcJ,KAAM8jB,SAIvB,cAAC,GAAD,CAAoBN,UAAU,qBAAqBhN,aAAa,wCAAUiN,SAAUA,Q,2BChKjFe,GAAsC,CAC3C9d,SAAS,EACT0D,cAAUrI,EACVgL,qBAAiBhL,GCTL0iB,GAAcC,aAA0B,CACpDnX,cDauE,WAAgD,IAA/C4T,EAA8C,uDAAtCqD,GAAsBG,EAAgB,uCACtH,OAAQA,EAAOrc,MACd,KAAKoE,EACJ,OAAO,6BACHyU,GADJ,IAEC/W,SAAU,KACV2C,gBAAiB,KACjBrG,SAAS,IAGX,KAAK+F,EACJ,OAAO,6BACH0U,GADJ,IAEC/W,SAAUua,EAAOva,SACjB2C,gBAAiB4X,EAAO5X,gBACxBrG,SAAS,IAGX,KAAKkG,GACJ,OAAO,6BACHuU,GADJ,IAECza,SAAS,IAGX,KAAKiG,EACJ,OAAO,6BACHwU,GADJ,IAECza,SAAS,IAMZ,OAAOya,K,aE5CD,SAAeyD,KAAtB,gC,8CAAO,gDAAA3gB,EAAA,6DAAwCiX,EAAxC,+BAAwD,EAAxD,kBAEkB/W,IAFlB,cAECsf,EAFD,gBAGsB7e,IAHtB,UAGCigB,EAHD,OAKApB,GAAaoB,EALb,0CAMG,IANH,eAUCC,EAAmBC,GAAeF,EAAc,GAAGxkB,KAAI,SAAC6U,GAAD,OAASA,EAAI1U,OAGpEwkB,EAAevB,EAASlf,QAAO,SAACjE,GAAD,OAAUwkB,EAAiB7hB,SAAS3C,EAAKmE,aAbzE,kBAgBEsgB,GAAeC,EAAc9J,IAhB/B,yCAkBL5X,QAAQ0b,MAAM,iCAAd,MAlBK,kBAmBE,IAnBF,2D,sBA6CP,SAAS+F,GAAkBE,EAAY/J,GAEtC,OADiB,aAAI+J,GAAOC,MAAK,iBAAM,GAAMhS,KAAKwJ,YAClCyI,MAAM,EAAGjS,KAAKwN,IAAIxF,EAAO+J,EAAMlgB,S,UC3CnCqgB,GAAiC,SAAC,GAAiD,IAAD,IAA9C3kB,aAA8C,MAAtC,qGAAsC,MAAhBya,aAAgB,MAAR,EAAQ,EAC9F,EAA8CzU,mBAAsB,IAApE,mBAAO4e,EAAP,KAAwBC,EAAxB,KACA,EAA8B7e,oBAAS,GAAvC,mBAAOC,EAAP,KAAgBC,EAAhB,KAEM4e,EAAmB,uCAAG,4BAAAthB,EAAA,sEAE1B0C,GAAW,GAFe,SAGPie,GAAyB1J,GAHlB,OAGpBlb,EAHoB,OAI1BslB,EAAmBtlB,GAJO,gDAM1BsD,QAAQ0b,MAAM,iCAAd,MAN0B,yBAQ1BrY,GAAW,GARe,4EAAH,qDAYzBc,qBAAU,WACT8d,MAEE,CAACrK,IAMJ,OAAIxU,GAAsC,IAA3B2e,EAAgBtgB,OACvB,yBAIP,0BAAS3E,UAAU,oCAAnB,UACC,qBAAKA,UAAU,GAAf,SACC,qBAAIA,UAAU,sCAAd,UACEK,EACD,wBAAQL,UAAU,4BAA4BO,QAbnB,WAC9B4kB,KAYkF9kB,MAAM,gHAArF,SACC,mBAAGL,UAAU,2BAIhB,qBAAKA,UAAU,4BAAf,SACC,cAAC,GAAD,CAAiBJ,KAAMqlB,UC3CdG,I,MAAc,WAC1B,OACC,sBAAKplB,UAAU,oBAAf,UACC,cAAC,GAAD,CACCK,MAAM,wIACNuV,YAAY,yTAEb,qBAAK5V,UAAU,gCAAf,SACC,qBAAKA,UAAU,aAAf,SACC,sBAAKA,UAAU,qBAAf,UACC,qBAAKA,UAAU,+BAAf,SACC,sBAAMA,UAAU,mBAAhB,SACC,sBAAMA,UAAU,kBAAhB,SACC,eAAC,IAAD,CAAMG,GAAG,IAAIiI,aAAW,oDAAxB,UACC,qBAAK1H,IAAKkiB,GAAW5iB,UAAU,eAAeW,IAAI,6BADnD,mEAOH,oBAAIX,UAAU,eAAd,yDACA,qBAAKA,UAAU,iBAAf,SACC,cAAC,GAAD,aAMJ,cAAC,GAAD,IAEA,cAAC,GAAD,CAAqBK,MAAM,4EAAgBya,MAAO,SCgItC7N,I,MAAAA,cAZS,SAACC,GACxB,MAAO,CACNlD,SAAUkD,EAAMC,cAAcnD,SAC9BoD,gBAAiBF,EAAMC,cAAc7G,YAGZ,SAACoG,GAC3B,MAAO,CACNW,aAAc,kBAAMX,EAASD,OAC7Ba,aAAc,SAACtD,GAAD,OAA2B0C,EAASE,GAA0B5C,QAG/DiD,EA7IkB,SAAC,GAA+D,IAA7DjD,EAA4D,EAA5DA,SAAUoD,EAAkD,EAAlDA,gBAA+BE,GAAmB,EAAjCD,aAAiC,EAAnBC,cAK5E,MAA8BjH,oBAAkB,GAAhD,mBAAOC,EAAP,KAAgBC,EAAhB,KACA,EAA0CF,mBAAsB,IAAhE,mBAAOV,EAAP,KAAsBa,EAAtB,KACA,EAA0CH,mBAAsB,IAAhE,mBAAOiQ,EAAP,KAAsBC,EAAtB,KAuCA,SAASM,IAA0C,IAAtBL,EAAqB,wDACjD,IAAIlQ,IAAW8G,GACVpD,GAAarE,GAAkBA,EAAchB,UAG9C2R,EAAc3R,QAAW6R,IAEzBxM,EAASgB,cAAe,CAC3B,IAD2B,EACvByL,EAAyB,GADF,cAGTzM,EAASgB,eAHA,yBAGhB0L,EAHgB,SAItBxW,EAAOyF,EAAcgP,MAAK,SAACgC,GAAD,OAAOA,EAAEvW,KAAOsW,EAAIE,YAEjDH,EAAUzQ,KAAK9F,GAGfgD,QAAQC,KAAK,uBAAwBuT,EAAIE,UAN3C,2BAA0C,CAAC,IACtC1W,EADqC,KAHf,+BAYvBuW,EAAU9R,QAAU6R,IACvBD,EAAiBE,IAQpB,OAjEApP,qBAAU,WAAM,4CACf,4BAAAxD,EAAA,6DACC0C,GAAW,GADZ,SAEiCxC,IAFjC,QAEKuD,EAFL,SAKEd,EAAiBc,GAGlBf,GAAW,GAEXsQ,IAVD,4CADe,uBAAC,WAAD,wBAaftP,KACE,IAiDHsP,IAEOzJ,IAAoBpD,EAC1BoD,EACC,cAAC,EAAD,IAEA,cAAC,EAAD,CAAcnI,MAAOF,EAAUM,aAGhC,gCACC,cAAC,GAAD,CAAUhF,MAAM,gGAAqBuV,YAAY,4MACjD,qBAAK5V,UAAU,uBAAf,SACC,qBAAKA,UAAU,aAAf,SACC,sBAAKA,UAAU,qBAAf,UACC,qBAAKA,UAAU,+BAAf,SAEC,sBAAMA,UAAU,mBAAhB,SACC,sBAAMA,UAAU,kBAAhB,SACC,cAAC,IAAD,CAAMG,GAAG,IAAIiI,aAAW,oDAAxB,SACC,qBAAK1H,IAAKkiB,GAAW5iB,UAAU,UAAUW,IAAI,qCAKjD,sBAAKX,UAAU,eAAf,UACC,mBAAGA,UAAU,6BADd,oGAGA,qBAAKA,UAAU,iBAAf,SACC,cAAC,GAAD,aAKJ,8BACC,sBAAKA,UAAU,aAAf,UACC,qBAAKA,UAAU,6BAAf,SACC,sBAAMA,UAAU,mBAAhB,SACC,sBAAMA,UAAU,kBAAhB,SACC,cAAC,IAAD,CAAMG,GAAG,IAAIiI,aAAW,oDAAxB,SACC,qBAAK1H,IAAKkiB,GAAW5iB,UAAU,UAAUW,IAAI,qCAKjD,qBAAKX,UAAU,cAGjB,cAAC,GAAD,CACCojB,UAAU,sBACVhN,aAAa,gGACbiN,SAAU/M,EACVxW,qBAAqB,EACrBC,cAnGH,SAAuBG,GACtB,GAAKA,GAEA8J,GAAarE,GAAkBA,EAAchB,QAG7C2R,EAAc3R,OAAnB,CACA,IAAI0gB,EAAcrb,EAASgB,cAEvBsa,EAAYD,EAAYE,WAAU,SAAC5O,GAAD,OAAOA,EAAEC,SAAW1W,EAAKE,OAC/D,GAAIklB,GAAa,EAAG,CAEnB,IADgBhgB,OAAOkgB,QAAQ,mJACf,OAEhBH,EAAYI,OAAOH,EAAW,GArC3Btb,GAAUsD,EAAatD,GAwC1B6M,GAAoB,e,SCaR6O,OAjEf,WACC,IAAMxY,ECCQyY,aAAYtB,QAAa1iB,EAAWikB,aAAgBC,ODgBlE,SAASC,IACR,IAAIC,EAAU7e,SAAS8e,cAAc,QACrCD,EAAQnX,IAAM,aACdmX,EAAQxc,KAAO,wBACfwc,EAAQ7U,aAAa,KAAM,oBAC3BhK,SAASkJ,KAAKI,YAAYuV,GAuB3B,OA3CA1e,qBAAU,WACTye,IAEA,IAAMxE,EAAU2E,eAEhBC,IAAQC,WAAW,eAAgB,CAAEC,UAAUC,IAC/C/E,EAAQgF,QAAO,SAAC/gB,GACf2gB,IAAQK,IAAI,CAAEC,KAAMjhB,EAASkhB,WAC7BP,IAAQQ,SAASnhB,EAASkhB,eAEzB,IAsBHnhB,OAAOoC,iBAAiB,WAAW,WAElCxE,QAAQyjB,IAAI,uBAZb,WACC,IAAIC,EAAkB1f,SAASC,eAAe,oBAC1Cyf,GACHA,EAAgBxE,SAChBlf,QAAQyjB,IAAI,6BAEZzjB,QAAQyjB,IAAI,+BAEbb,IAKAe,MAGDvhB,OAAOoC,iBAAiB,UAAU,WAEjCxE,QAAQyjB,IAAI,yBAIZ,cAAC,KAAD,CAAUzZ,MAAOA,EAAjB,SACC,cAAC,IAAD,CAAe4Z,SAAUT,GAAzB,SACC,cAAC,GAAD,UACC,eAAC,IAAD,WACC,cAAC,IAAD,CAAUU,KAAK,QAAQ5mB,GAAG,MAC1B,cAAC,IAAD,CAAO6mB,OAAK,EAACD,KAAK,IAAIE,UAAWlQ,KACjC,cAAC,IAAD,CAAOgQ,KAAK,iBAAiBE,UAAWC,KACxC,cAAC,IAAD,CAAOH,KAAK,0BAA0BE,UAAWzD,KACjD,cAAC,IAAD,CAAOuD,KAAK,WAAWE,UAAW7B,KAClC,cAAC,IAAD,CAAO2B,KAAK,aAAaE,UAAWE,KACpC,cAAC,IAAD,CAAOF,UAAW/D,eE5DlBkE,GAActH,QACU,cAA7Bxa,OAAOC,SAAS8hB,UAEc,UAA7B/hB,OAAOC,SAAS8hB,UAEhB/hB,OAAOC,SAAS8hB,SAAS9F,MAAM,2DA0CjC,SAAS+F,GAAgBC,EAAe1lB,GACvCsD,UAAUqiB,cACRC,SAASF,GACTvjB,MAAK,SAAC0jB,GACNA,EAAaC,cAAgB,WAC5B,IAAMC,EAAmBF,EAAaG,WACd,MAApBD,IAGJA,EAAiBE,cAAgB,WACD,cAA3BF,EAAiB7G,QAChB5b,UAAUqiB,cAAcO,YAI3B7kB,QAAQyjB,IACP,+GAKG9kB,GAAUA,EAAOmmB,UACpBnmB,EAAOmmB,SAASN,KAMjBxkB,QAAQyjB,IAAI,sCAGR9kB,GAAUA,EAAOomB,WACpBpmB,EAAOomB,UAAUP,WAOtBpjB,OAAM,SAACsa,GACP1b,QAAQ0b,MAAM,4CAA6CA,MC7F9DsJ,IAASC,OACR,cAAC,IAAMC,WAAP,UACC,cAAC,GAAD,MAEDlhB,SAASC,eAAe,SDelB,SAAkBtF,GACxB,GAA6C,kBAAmBsD,UAAW,CAG1E,GADkB,IAAIyO,IAAIyS,GAAwB/gB,OAAOC,SAASgE,MACpDsK,SAAWvO,OAAOC,SAASsO,OAIxC,OAGDvO,OAAOoC,iBAAiB,QAAQ,WAC/B,IAAM6f,EAAK,UAAMlB,GAAN,sBAEPe,KAgEP,SAAiCG,EAAe1lB,GAE/CwmB,MAAMd,EAAO,CACZ/lB,QAAS,CAAE,iBAAkB,YAE5BwC,MAAK,SAACc,GAEN,IAAMwjB,EAAcxjB,EAAStD,QAAQ+mB,IAAI,gBACjB,MAApBzjB,EAASxD,QAAkC,MAAfgnB,IAA8D,IAAvCA,EAAYvU,QAAQ,cAE1E5O,UAAUqiB,cAAcgB,MAAMxkB,MAAK,SAAC0jB,GACnCA,EAAae,aAAazkB,MAAK,WAC9BsB,OAAOC,SAASC,eAKlB8hB,GAAgBC,EAAO1lB,MAGxByC,OAAM,WACNpB,QAAQyjB,IAAI,oEAnFX+B,CAAwBnB,EAAO1lB,GAI/BsD,UAAUqiB,cAAcgB,MAAMxkB,MAAK,WAClCd,QAAQyjB,IACP,+GAMFW,GAAgBC,EAAO1lB,OCnC3B8mB,I","file":"static/js/main.c36e6f20.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/star.16d8c811.svg\";","import { MouseEventHandler } from 'react';\nimport { FC } from 'react';\nimport { Link } from 'react-router-dom';\nimport { ZekrIndex } from '../../services/Zekr/models/Zekr';\nimport './ZekrList.scss';\nimport StarImage from '../../assets-offline/icons/star.svg';\n\ninterface Props {\n\tdata: ZekrIndex[];\n\tonItemClick?: MouseEventHandler<HTMLAnchorElement>;\n\tdisplayRemoveButton?: boolean;\n\tonRemoveClick?: (zekr: ZekrIndex) => void;\n}\n\nexport const ZekrList: FC<Props> = ({ data, onItemClick, displayRemoveButton, onRemoveClick }) => {\n\tfunction onRemoveButtonClick(e: any, zekr: ZekrIndex) {\n\t\te.preventDefault();\n\t\tif (onRemoveClick) onRemoveClick(zekr);\n\t}\n\treturn (\n\t\t<div className=\"item-list zekr-list\">\n\t\t\t{data.map((zekr) => {\n\t\t\t\treturn (\n\t\t\t\t\t<Link\n\t\t\t\t\t\tto={'/zekr/' + zekr.uid}\n\t\t\t\t\t\tkey={zekr.uid}\n\t\t\t\t\t\tclassName=\"item-button\"\n\t\t\t\t\t\ttitle={zekr.metaTitle}\n\t\t\t\t\t\tonClick={onItemClick}\n\t\t\t\t\t>\n\t\t\t\t\t\t{zekr.imageClass ? (\n\t\t\t\t\t\t\t<i className={zekr.imageClass || 'fa fa-search'} />\n\t\t\t\t\t\t) : zekr.imageUrl ? (\n\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\tclassName=\"icon-16 mx-1 button-icon\"\n\t\t\t\t\t\t\t\tsrc={'/assets/icons/' + zekr.imageUrl}\n\t\t\t\t\t\t\t\talt={zekr.metaTitle}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<img className=\"icon-16 mx-1 button-icon\" src={StarImage} alt={zekr.metaTitle} />\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t{zekr.fullName}\n\t\t\t\t\t\t{displayRemoveButton && (\n\t\t\t\t\t\t\t<button className=\"btn btn-sm float-left\" onClick={(e) => onRemoveButtonClick(e, zekr)}>\n\t\t\t\t\t\t\t\t<i className=\"fas fa-times\"></i>\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</Link>\n\t\t\t\t);\n\t\t\t})}\n\t\t</div>\n\t);\n};\n","export interface HttpRequest<TRQ> {\n\turl: string;\n\tmethod?: string;\n\tbody?: TRQ;\n\taccessToken?: string;\n\tignoreCache?: boolean;\n\ttimeout?: number;\n}\nexport interface HttpResponse<TRS> {\n\tok: boolean;\n\tstatus: number;\n\tstatusText: string;\n\tdata: string;\n\tparsedBody?: TRS;\n\theaders: string;\n}\n\nexport const defaultWebRequestTimeout = 10 * 1000;\n\nfunction parseXHRResult<TRS>(xhr: XMLHttpRequest): HttpResponse<TRS> {\n\treturn {\n\t\tok: xhr.status >= 200 && xhr.status < 300,\n\t\tstatus: xhr.status,\n\t\tstatusText: xhr.statusText,\n\t\theaders: xhr.getAllResponseHeaders(),\n\t\tdata: xhr.responseText,\n\t\tparsedBody: xhr.getResponseHeader('Content-Type')?.includes('json') ? (JSON.parse(xhr.responseText) as TRS) : undefined,\n\t};\n}\n\nfunction errorResponse<TRS>(xhr: XMLHttpRequest, message: string | null = null): HttpResponse<TRS> {\n\treturn {\n\t\tok: false,\n\t\tstatus: xhr.status,\n\t\tstatusText: xhr.statusText,\n\t\theaders: xhr.getAllResponseHeaders(),\n\t\tdata: message || xhr.statusText,\n\t\tparsedBody: undefined,\n\t};\n}\n\n/** extracted from https://gist.github.com/codecorsair/e14ec90cee91fa8f56054afaa0a39f13 */\nexport function webJsonRequestXhr<TRQ, TRS>(config: HttpRequest<TRQ>): Promise<HttpResponse<TRS>> {\n\treturn new Promise((resolve, reject) => {\n\t\tconst xhr = new XMLHttpRequest();\n\t\txhr.open(config.method || 'get', config.url);\n\n\t\tif (config.accessToken) {\n\t\t\txhr.setRequestHeader('authorization', `bearer ${config.accessToken}`);\n\t\t}\n\t\tif (config.ignoreCache) {\n\t\t\txhr.setRequestHeader('Cache-Control', 'no-cache');\n\t\t}\n\t\tif (config.timeout) {\n\t\t\txhr.timeout = config.timeout;\n\t\t}\n\n\t\txhr.onload = (evt) => {\n\t\t\tresolve(parseXHRResult(xhr));\n\t\t};\n\n\t\txhr.onerror = (evt) => {\n\t\t\tconsole.warn('webJsonRequest has failed for ' + config.url, evt);\n\t\t\treject(errorResponse(xhr, 'Failed to make request.'));\n\t\t};\n\n\t\txhr.ontimeout = (evt) => {\n\t\t\tconsole.warn('webJsonRequest has timed out for ' + config.url, evt);\n\t\t\treject(errorResponse(xhr, 'Request took longer than expected.'));\n\t\t};\n\n\t\tif (config.method === 'post' && config.body) {\n\t\t\txhr.setRequestHeader('Content-Type', 'application/json');\n\t\t\txhr.send(JSON.stringify(config.body));\n\t\t} else {\n\t\t\txhr.send();\n\t\t}\n\t});\n}\n","const CacheHolder: any = {};\n\nexport function saveCacheItem<T>(key: string, value: T) {\n\tCacheHolder[key] = value;\n}\n\n// retrieve\nexport function retrieveCacheItem<T>(key: string): T | undefined {\n\treturn CacheHolder[key] as T;\n}\n","import { defaultWebRequestTimeout, webJsonRequestXhr } from '../../common/webJsonRequestXhr';\nimport { retrieveCacheItem, saveCacheItem } from '../MemoryCache';\nimport { Uid } from './models/Uid';\nimport { Zekr, ZekrIndex } from './models/Zekr';\nimport { ZekrCategory } from './models/ZekrCategory';\nimport { ZekrVoiceIndex } from './models/ZekrVoiceIndex';\n\n/** The base url for Json data could be any CDN */\nconst siteBaseUrl = '';\n\n/**\n * Get Zekr data by its UID. [Not cached]\n * @param uid Zekr UID\n */\nexport function getWebZekrByUid(uid: string): Promise<Zekr | undefined> {\n\tif (!uid) return Promise.resolve(undefined);\n\tuid = uid.toLowerCase();\n\n\tlet url = `${siteBaseUrl}/zekr-db/zekr/${uid}.json`;\n\treturn new Promise((resolve, reject) => {\n\t\twebJsonRequestXhr<undefined, Zekr>({\n\t\t\turl: url,\n\t\t\ttimeout: defaultWebRequestTimeout,\n\t\t})\n\t\t\t.then((response) => {\n\t\t\t\tvar value = response.parsedBody;\n\t\t\t\tresolve(value);\n\t\t\t})\n\t\t\t.catch((err) => {\n\t\t\t\treject(err);\n\t\t\t});\n\t});\n}\n\n/**\n * Get ZekrIndex list by their category UID. [cached]\n * @param uid Category UID\n */\nexport async function getWebZekrByCategoryUi(uid: string): Promise<ZekrIndex[] | undefined> {\n\tif (!uid) return Promise.resolve(undefined);\n\tuid = uid.toLowerCase();\n\n\treturn new Promise((resolve, reject) => {\n\t\tgetZekrIndexList()\n\t\t\t.then((categories) => {\n\t\t\t\tlet values = categories?.filter((c) => c.category === uid);\n\t\t\t\tresolve(values);\n\t\t\t})\n\t\t\t.catch((err) => {\n\t\t\t\treject(err);\n\t\t\t});\n\t});\n}\n\n/**\n * List of categories. [cached]\n */\nexport function getWebZekrCategoryList(): Promise<ZekrCategory[] | undefined> {\n\treturn new Promise((resolve, reject) => {\n\t\t_getCategoryIndexList()\n\t\t\t.then((categories) => {\n\t\t\t\tlet values = categories?.filter((c) => !c.parent || !c.parent.length);\n\t\t\t\tresolve(values);\n\t\t\t})\n\t\t\t.catch((err) => {\n\t\t\t\treject(err);\n\t\t\t});\n\t});\n}\n/**\n * Get ZekrCategory by its UID. [cached]\n * @param uid Category UID\n */\nexport function getWebZekrCategoryByUid(uid: Uid): Promise<ZekrCategory | undefined> {\n\tif (!uid) return Promise.resolve(undefined);\n\tuid = uid.toLowerCase();\n\n\treturn new Promise((resolve, reject) => {\n\t\t_getCategoryIndexList()\n\t\t\t.then((categories) => {\n\t\t\t\tlet value = categories?.find((c) => c.uid === uid);\n\t\t\t\tresolve(value);\n\t\t\t})\n\t\t\t.catch((err) => {\n\t\t\t\treject(err);\n\t\t\t});\n\t});\n}\n/**\n * Get ZekrCategory by its UID and then its parents. [cached]\n * @param uid Category UID\n */\nexport function getWebZekrCategoryChainToTopByUid(uid: Uid): Promise<ZekrCategory[] | undefined> {\n\tif (!uid) return Promise.resolve(undefined);\n\tuid = uid.toLowerCase();\n\n\treturn new Promise((resolve, reject) => {\n\t\t_getCategoryIndexList()\n\t\t\t.then((categories) => {\n\t\t\t\tif (!categories) {\n\t\t\t\t\tresolve(undefined);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tlet cat = categories.find((c) => c.uid === uid);\n\t\t\t\tif (!cat) {\n\t\t\t\t\tresolve(undefined);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tlet result: ZekrCategory[] = [cat];\n\n\t\t\t\t// getting the top level parents\n\t\t\t\tif (cat.parent && cat.parent.length > 0) {\n\t\t\t\t\tlet parentUid: string | undefined = cat.parent[0];\n\t\t\t\t\twhile (parentUid) {\n\t\t\t\t\t\tlet parent = categories.find((c) => c.uid === parentUid);\n\t\t\t\t\t\tparentUid = undefined;\n\n\t\t\t\t\t\tif (parent) {\n\t\t\t\t\t\t\tresult.push(parent);\n\n\t\t\t\t\t\t\t// the next level parent?\n\t\t\t\t\t\t\tif (parent.parent && parent.parent.length > 0) {\n\t\t\t\t\t\t\t\tparentUid = parent.parent[0];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tresolve(result.reverse());\n\t\t\t})\n\t\t\t.catch((err) => {\n\t\t\t\treject(err);\n\t\t\t});\n\t});\n}\n\nexport function getWebZekrCategoryChildrenByParentUid(parentUid: string): Promise<ZekrCategory[] | undefined> {\n\tif (!parentUid) return Promise.resolve(undefined);\n\tparentUid = parentUid.toLowerCase();\n\n\treturn new Promise((resolve, reject) => {\n\t\t_getCategoryIndexList()\n\t\t\t.then((categories) => {\n\t\t\t\tif (!categories) {\n\t\t\t\t\tresolve(undefined);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tlet children = categories.find((c) => c.uid === parentUid)?.children;\n\t\t\t\tif (children) {\n\t\t\t\t\tlet childrenCats = categories.filter((c) => children?.includes(c.uid) === true);\n\t\t\t\t\tresolve(childrenCats);\n\t\t\t\t} else {\n\t\t\t\t\tresolve(undefined);\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch((err) => {\n\t\t\t\treject(err);\n\t\t\t});\n\t});\n}\n\nfunction _getCategoryIndexList(): Promise<ZekrCategory[] | undefined> {\n\tlet keyName = `category-index`;\n\tlet cachedItem = retrieveCacheItem<ZekrCategory[]>(keyName);\n\tif (cachedItem) {\n\t\t// retrieved from cache\n\t\treturn Promise.resolve(cachedItem);\n\t}\n\n\tlet url = `${siteBaseUrl}/zekr-db/${keyName}.json`;\n\treturn new Promise((resolve, reject) => {\n\t\twebJsonRequestXhr<undefined, ZekrCategory[]>({\n\t\t\turl: url,\n\t\t\ttimeout: defaultWebRequestTimeout,\n\t\t})\n\t\t\t.then((response) => {\n\t\t\t\tvar value = response.parsedBody;\n\t\t\t\tif (value) {\n\t\t\t\t\tsaveCacheItem(keyName, value);\n\t\t\t\t}\n\t\t\t\tresolve(value);\n\t\t\t})\n\t\t\t.catch((err) => {\n\t\t\t\treject(err);\n\t\t\t});\n\t});\n}\n\nexport function getZekrIndexList(): Promise<ZekrIndex[] | undefined> {\n\tlet keyName = `zekr-index`;\n\tlet cachedItem = retrieveCacheItem<ZekrIndex[]>(keyName);\n\tif (cachedItem) {\n\t\t// retrieved from cache\n\t\treturn Promise.resolve(cachedItem);\n\t}\n\n\tlet url = `${siteBaseUrl}/zekr-db/${keyName}.json`;\n\treturn new Promise((resolve, reject) => {\n\t\twebJsonRequestXhr<undefined, ZekrIndex[]>({\n\t\t\turl: url,\n\t\t\ttimeout: defaultWebRequestTimeout,\n\t\t})\n\t\t\t.then((response) => {\n\t\t\t\tvar value = response.parsedBody;\n\t\t\t\tif (value) {\n\t\t\t\t\tsaveCacheItem(keyName, value);\n\t\t\t\t}\n\t\t\t\tresolve(value);\n\t\t\t})\n\t\t\t.catch((err) => {\n\t\t\t\treject(err);\n\t\t\t});\n\t});\n}\n\nexport function getZekrVoiceIndexList(): Promise<ZekrVoiceIndex[] | undefined> {\n\tlet keyName = `zekr-voice-index`;\n\tlet cachedItem = retrieveCacheItem<ZekrVoiceIndex[]>(keyName);\n\tif (cachedItem) {\n\t\t// retrieved from cache\n\t\treturn Promise.resolve(cachedItem);\n\t}\n\n\tlet url = `${siteBaseUrl}/zekr-db/${keyName}.json`;\n\treturn new Promise((resolve, reject) => {\n\t\twebJsonRequestXhr<undefined, ZekrVoiceIndex[]>({\n\t\t\turl: url,\n\t\t\ttimeout: defaultWebRequestTimeout,\n\t\t})\n\t\t\t.then((response) => {\n\t\t\t\tvar value = response.parsedBody;\n\t\t\t\tif (value) {\n\t\t\t\t\tsaveCacheItem(keyName, value);\n\t\t\t\t}\n\t\t\t\tresolve(value);\n\t\t\t})\n\t\t\t.catch((err) => {\n\t\t\t\treject(err);\n\t\t\t});\n\t});\n}\n","import './ErrorMessage.scss';\nimport { FC } from 'react';\nimport React from 'react';\n\nexport enum retryType {\n\tnone,\n\treloadPage,\n\tretryFunction,\n}\n\ninterface Props {\n\tmessage?: string;\n\tretry?: retryType;\n\tretryFunction?: () => void;\n}\n\nexport const ErrorMessage: FC<Props> = ({ message, retry, retryFunction }) => {\n\tif (!message) {\n\t\tif (navigator.onLine) {\n\t\t\tmessage = 'مشکلی در دریافت یا نمایش اطلاعات پیش آمده است';\n\t\t} else {\n\t\t\tmessage = 'لطفا اتصال اینترنت خود را بررسی کنید. مشکلی در دریافت یا نمایش اطلاعات پیش آمده است.';\n\t\t}\n\t}\n\n\tfunction onReloadPage() {\n\t\twindow.location.reload();\n\t}\n\tfunction onRetryFunction() {\n\t\tif (retryFunction) retryFunction();\n\t}\n\n\treturn (\n\t\t<div className=\"error-container alert alert-danger\">\n\t\t\t<h6 className=\"text-center\">{message}</h6>\n\t\t\t<br />\n\t\t\t{retry === retryType.reloadPage && (\n\t\t\t\t<button className=\"btn btn-sm btn-outline-danger retry\" onClick={onReloadPage}>\n\t\t\t\t\tبازخوانی صفحه\n\t\t\t\t</button>\n\t\t\t)}\n\t\t\t{retry === retryType.retryFunction && (\n\t\t\t\t<button className=\"btn btn-sm btn-outline-danger retry\" onClick={onRetryFunction}>\n\t\t\t\t\tتلاش مجدد\n\t\t\t\t</button>\n\t\t\t)}\n\t\t</div>\n\t);\n};\n","import './Loading.scss';\nimport { FC } from 'react';\nimport React from 'react';\n\nexport const Loading: FC = () => {\n\treturn (\n\t\t<div className=\"loading\">\n\t\t\t<div className=\"loading-ellipsis\">\n\t\t\t\t<div></div>\n\t\t\t\t<div></div>\n\t\t\t\t<div></div>\n\t\t\t\t<div></div>\n\t\t\t</div>\n\t\t\t<div>در حال بارگذاری...</div>\n\t\t</div>\n\t);\n};\n","import { ZekrIndex } from './models/Zekr';\n\nexport function searchZekrIndex(zekrIndexList: ZekrIndex[], searchText: string, limit: number): ZekrIndex[] {\n\tvar result: ZekrIndex[] = [];\n\tvar remaining = limit;\n\tfor (const zekr of zekrIndexList) {\n\t\tif (zekr.fullName?.includes(searchText) || zekr.metaTitle?.includes(searchText)) {\n\t\t\tresult.push(zekr);\n\t\t\tremaining--;\n\t\t}\n\t\tif (remaining <= 0) break;\n\t}\n\treturn result;\n}\n","import React, { FC, FormEvent, FormEventHandler, KeyboardEventHandler, useEffect, useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport { ZekrList } from '../ZekrList/ZekrList';\nimport { Zekr, ZekrIndex } from '../../services/Zekr/models/Zekr';\nimport { getZekrIndexList } from '../../services/Zekr/ZekrWebService';\nimport { ErrorMessage, retryType } from '../../components/ErrorMessage/ErrorMessage';\nimport { Loading } from '../../components/Loading/Loading';\nimport { searchZekrIndex } from '../../services/Zekr/ZekrSearch';\n\ninterface Props {\n\tmodalId: string;\n\tsearchLimit?: number;\n}\n\nexport const SiteSearch: FC<Props> = ({ modalId, searchLimit }) => {\n\tvar limit = 20;\n\tif (searchLimit) {\n\t\tlimit = searchLimit;\n\t}\n\n\tconst [loading, setLoading] = useState<boolean>(true);\n\tconst [zekrIndexList, setZekrIndexList] = useState<ZekrIndex[]>([]);\n\tconst [searchText, setSearchText] = useState<string>('');\n\tconst [zekrSearchResult, setZekrSearchResult] = useState<ZekrIndex[]>([]);\n\n\tuseEffect(() => {\n\t\tasync function doGetZekrList() {\n\t\t\tsetLoading(true);\n\t\t\tlet loadedZekrIndexList = await getZekrIndexList();\n\n\t\t\tif (loadedZekrIndexList) {\n\t\t\t\tsetZekrIndexList(loadedZekrIndexList);\n\t\t\t}\n\n\t\t\tsetLoading(false);\n\t\t}\n\t\tdoGetZekrList();\n\t\tautoFocusInput();\n\t}, []);\n\n\tfunction onSearchSubmit(event: FormEvent) {\n\t\tevent.preventDefault();\n\t}\n\n\tvar searchTimeout: NodeJS.Timeout;\n\n\tfunction onSearchInput(event: FormEvent<HTMLInputElement>) {\n\t\tevent.preventDefault();\n\n\t\tif (searchTimeout) {\n\t\t\tclearTimeout(searchTimeout);\n\t\t}\n\t\tsearchTimeout = setTimeout(doSearch, 500);\n\n\t\t// event.target.value\n\t}\n\tfunction onSearchInputKeyDown(event: React.KeyboardEvent<HTMLInputElement>) {\n\t\tif (event.key == 'Enter') {\n\t\t\tdoSearch();\n\t\t\tdocument.getElementById('site-search')?.blur();\n\t\t\tdocument.getElementById('search-result')?.focus();\n\t\t}\n\t}\n\tfunction onSearchItemClick() {\n\t\tdocument.getElementById('search-modal-close')?.click();\n\t}\n\n\tfunction doSearch() {\n\t\tvar val = (document.getElementById('site-search') as HTMLInputElement).value;\n\t\tif (!val) {\n\t\t\tsetSearchText(val);\n\t\t\tsetZekrSearchResult([]);\n\t\t\treturn;\n\t\t}\n\n\t\tvar searchResult = searchZekrIndex(zekrIndexList, val, limit);\n\n\t\tsetZekrSearchResult(searchResult);\n\t\tsetSearchText(val);\n\t}\n\n\tfunction autoFocusInput() {\n\t\tvar searchModal = document.getElementById(modalId);\n\t\tvar searchInput = document.getElementById('site-search') as HTMLInputElement;\n\n\t\tif (searchModal)\n\t\t\tsearchModal.addEventListener('shown.bs.modal', function () {\n\t\t\t\tif (searchInput) {\n\t\t\t\t\tsearchInput.focus();\n\t\t\t\t\tsearchInput.select();\n\t\t\t\t}\n\t\t\t});\n\t}\n\n\treturn (\n\t\t<div className=\"modal fade\" id={modalId} tabIndex={-1} aria-labelledby={modalId + '-label'} aria-hidden=\"true\">\n\t\t\t<div className=\"modal-dialog\">\n\t\t\t\t<div className=\"modal-content\">\n\t\t\t\t\t<div className=\"modal-header\">\n\t\t\t\t\t\t<h5 className=\"modal-title\" id={modalId + '-label'}>\n\t\t\t\t\t\t\tجستجو کلی در محتوای سایت\n\t\t\t\t\t\t</h5>\n\t\t\t\t\t\t<button type=\"button\" className=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"modal-body\">\n\t\t\t\t\t\t<form onSubmit={onSearchSubmit} id=\"form-site-search\" className=\"\">\n\t\t\t\t\t\t\t<div className=\"form-floating mb-3\">\n\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\t\t\t\tonInput={onSearchInput}\n\t\t\t\t\t\t\t\t\tonChange={onSearchInput}\n\t\t\t\t\t\t\t\t\tonKeyDown={onSearchInputKeyDown}\n\t\t\t\t\t\t\t\t\ttype=\"search\"\n\t\t\t\t\t\t\t\t\tname=\"search\"\n\t\t\t\t\t\t\t\t\tplaceholder=\"عبارت جستجو را وارد کنید...\"\n\t\t\t\t\t\t\t\t\taccessKey=\"f\"\n\t\t\t\t\t\t\t\t\tid=\"site-search\"\n\t\t\t\t\t\t\t\t\tautoComplete=\"off\"\n\t\t\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<label htmlFor=\"site-search\">عبارت جستجو را وارد کنید</label>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</form>\n\t\t\t\t\t\t<div id=\"search-result\">\n\t\t\t\t\t\t\t{loading && <Loading />}\n\t\t\t\t\t\t\t{!loading && (!zekrIndexList || !zekrIndexList.length) && (\n\t\t\t\t\t\t\t\t<ErrorMessage retry={retryType.reloadPage} />\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t{searchText && !zekrSearchResult.length && (\n\t\t\t\t\t\t\t\t<div className=\"\">متاسفانه نتیجه ای یافت نشد. با کلمات کوتاه تر امتحان کنید.</div>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t{zekrSearchResult && <ZekrList data={zekrSearchResult} onItemClick={onSearchItemClick} />}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"modal-footer d-none d-md-flex\">\n\t\t\t\t\t\t<button id=\"search-modal-close\" type=\"button\" className=\"btn btn-secondary\" data-bs-dismiss=\"modal\">\n\t\t\t\t\t\t\tبستن\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n","import React, { FC } from 'react';\nimport { Link } from 'react-router-dom';\nimport { SiteSearch } from '../SiteSearch/SiteSearch';\nimport './Header.scss';\n\nexport const Header: FC = () => {\n\treturn (\n\t\t<div className=\"site-header\">\n\t\t\t<button\n\t\t\t\tclassName=\"button-simple button-subtle header-icon-button\"\n\t\t\t\ttype=\"button\"\n\t\t\t\tdata-bs-toggle=\"offcanvas\"\n\t\t\t\tdata-bs-target=\"#sidebar-app-drawer\"\n\t\t\t\taria-label=\"منو\"\n\t\t\t>\n\t\t\t\t<i className=\"fas fa-bars\"></i>\n\t\t\t</button>\n\t\t\t<Link to=\"/\" aria-label=\"صفحه اصلی\">\n\t\t\t\t<h2 className=\"page-title\">دعاها و اذکار</h2>\n\t\t\t</Link>\n\t\t\t<button\n\t\t\t\tclassName=\"button-simple button-subtle header-icon-button\"\n\t\t\t\ttype=\"button\"\n\t\t\t\tdata-bs-toggle=\"modal\"\n\t\t\t\tdata-bs-target=\"#site-search-modal\"\n\t\t\t\taria-label=\"جستجو\"\n\t\t\t>\n\t\t\t\t<i className=\"fas fa-search\"></i>\n\t\t\t</button>\n\t\t\t<SiteSearch modalId=\"site-search-modal\" />\n\t\t</div>\n\t);\n};\n","import React, { FC } from 'react';\nimport './Footer.scss';\nimport { Link } from 'react-router-dom';\n\nclass Clock extends React.Component {\n\trender() {\n\t\treturn <h1>Look at the time: {new Date()}</h1>;\n\t}\n}\n\nexport const Footer: FC = () => {\n\treturn (\n\t\t<footer className=\"main-footer\">\n\t\t\t<Link to=\"/\">تماس با ما</Link> | &nbsp;\n\t\t\t<Link to=\"/\">درباره ما</Link> | &nbsp;\n\t\t\t<Link to=\"/\">گزارش خطا</Link>\n\t\t\t<div>\n\t\t\t\t<span className=\"text-bold\">©</span>\n\t\t\t\t1404 تمامی حقوقی مادی و معنوی\n\t\t\t\t<a href=\"//myzekr.com/\"> MyZekr </a> محفوظ است\n\t\t\t</div>\n\t\t</footer>\n\t);\n};\n","import { retrieveCacheItem, saveCacheItem } from './MemoryCache';\n\n/**\n * Cache + Browser local storage\n * @param key item key\n */\nexport function saveStorageItem<T>(key: string, value: T) {\n\tsaveCacheItem(key, value);\n\tlocalStorage.setItem(key, JSON.stringify(value));\n}\n\n/**\n * Cache + Browser local storage\n * @param key item key\n */\nexport function retrieveStorageItem<T>(key: string): T | undefined {\n\tvar value = retrieveCacheItem<T>(key);\n\tif (value) return value;\n\n\t// we will get here on app reload or returning user\n\tvar item = localStorage.getItem(key);\n\tif (item) {\n\t\tvalue = JSON.parse(item) as T;\n\n\t\t// save in memory cache\n\t\tsaveCacheItem(key, value);\n\t\treturn value;\n\t}\n\treturn undefined;\n}\n","import { retrieveStorageItem, saveStorageItem } from '../Storage';\nimport { AppSettings, getAppSettingsInitial } from './models/AppSettings';\n\nconst AppSettingsStorageKey = 'AppSettings_Local';\n\nexport async function readSettingsFromServer(): Promise<AppSettings> {\n\tvar settings = await retrieveStorageItem<AppSettings>(AppSettingsStorageKey);\n\tif (settings == null) {\n\t\tsettings = getAppSettingsInitial();\n\t} else {\n\t\tlet completeSettings = getAppSettingsInitial();\n\n\t\t// making sure object structure is intact\n\t\tObject.assign(completeSettings, settings);\n\t\tsettings = completeSettings;\n\t}\n\n\treturn settings;\n}\n\nexport async function saveSettingsInServer(settings: AppSettings) {\n\tawait saveStorageItem(AppSettingsStorageKey, settings);\n}\n","export interface AppSettings {\n\tcolouredDiacritics: boolean;\n\tenableTranslations: boolean;\n\thomePage: HomePageSettings;\n\ttheme: AppThemeSettings;\n\ttextSettings: BodyTextSettings;\n\tuserFavorites: UserFavoriteItem[];\n\tselectedVoices: VoiceSettings[];\n}\n\nexport function getAppSettingsInitial(): AppSettings {\n\treturn {\n\t\tcolouredDiacritics: true,\n\t\tenableTranslations: true,\n\t\thomePage: {\n\t\t\tdisplayFavorites: true,\n\t\t\tdisplayTodayPlan: true,\n\t\t\tdisplayTodaySuggestions: true,\n\t\t},\n\t\ttextSettings: {\n\t\t\talternateBodyFont: 'Vazir',\n\t\t\talternateBodyFontSize: '0.85rem',\n\t\t\tbodyFont: 'Parastoo',\n\t\t\tbodyFontSize: '1.2rem',\n\t\t\tbenefitsFontSize: '1rem',\n\t\t\tstackedZekrBody: false,\n\t\t},\n\t\ttheme: {\n\t\t\tisDarkMode: false,\n\t\t\tname: 'default',\n\t\t},\n\t\tuserFavorites: [],\n\t\tselectedVoices: [],\n\t};\n}\ninterface HomePageSettings {\n\tdisplayFavorites: boolean;\n\tdisplayTodayPlan: boolean;\n\tdisplayTodaySuggestions: boolean;\n}\ninterface AppThemeSettings {\n\tisDarkMode: false;\n\tname: string;\n}\ninterface BodyTextSettings {\n\tbodyFont: string;\n\tbodyFontSize: string;\n\talternateBodyFont: string;\n\talternateBodyFontSize: string;\n\tbenefitsFontSize: string;\n\tstackedZekrBody: boolean;\n}\ninterface UserFavoriteItem {\n\tzekrUid: string;\n}\ninterface VoiceSettings {\n\tzekrUid: string;\n\tvoiceFile: string;\n}\n","import { retrieveStorageItem, saveStorageItem } from '../Storage';\nimport { getUserInformationInitial, UserInformation } from './models/UserInformation';\n\nconst UserInformationStorageKey = 'UserInformation_Local';\n\nexport async function readUserInformationFromServer(): Promise<UserInformation> {\n\tvar userInfo = await retrieveStorageItem<UserInformation>(UserInformationStorageKey);\n\tif (userInfo == null) {\n\t\tuserInfo = getUserInformationInitial();\n\t} else {\n\t\tlet completeSettings = getUserInformationInitial();\n\n\t\t// making sure object structure is intact\n\t\tObject.assign(completeSettings, userInfo);\n\t\tuserInfo = completeSettings;\n\t}\n\n\treturn userInfo;\n}\n\nexport async function saveUserInformationInServer(userInfo: UserInformation) {\n\tawait saveStorageItem(UserInformationStorageKey, userInfo);\n}\n","export interface UserInformation {\n\tprayerTimesWeekly: PrayerTime[];\n\tlocation: UserLocation;\n}\n\nexport function getUserInformationInitial(): UserInformation {\n\treturn {\n\t\tprayerTimesWeekly: [],\n\t\tlocation: {\n\t\t\tfound: false,\n\t\t\tlatitude: 0,\n\t\t\tlongitude: 0,\n\t\t\televation: 0,\n\t\t\tip_address: '',\n\t\t\tcity: '',\n\t\t\tcountry: '',\n\t\t\tcountry_code: '',\n\t\t\ttimezone: '',\n\t\t\tlocal_offset: 0,\n\t\t},\n\t};\n}\n\nexport interface PrayerTime {\n\ttimes: {\n\t\tImsak: string;\n\t\tFajr: string;\n\t\tSunrise: string;\n\t\tDhuhr: string;\n\t\tAsr: string;\n\t\tSunset: string;\n\t\tMaghrib: string;\n\t\tIsha: string;\n\t\tMidnight: string;\n\t};\n\tdate: {\n\t\ttimestamp: 0;\n\t\tgregorian: string;\n\t\thijri: string;\n\t};\n\t/* \n      {\n        \"times\": {\n          \"Imsak\": \"05:48\",\n          \"Sunrise\": \"07:14\",\n          \"Fajr\": \"05:58\",\n          \"Dhuhr\": \"12:20\",\n          \"Asr\": \"14:49\",\n          \"Sunset\": \"17:25\",\n          \"Maghrib\": \"17:28\",\n          \"Isha\": \"18:36\",\n          \"Midnight\": \"23:42\"\n        },\n        \"date\": {\n          \"timestamp\": 1623369600,\n          \"gregorian\": \"2021-06-11\",\n          \"hijri\": \"1442-11-01\"\n        }\n      } \n*/\n}\nexport interface UserLocation {\n\tfound: boolean;\n\tlatitude: number;\n\tlongitude: number;\n\televation: number;\n\tip_address: string;\n\tcity: string;\n\tcountry: string;\n\tcountry_code: string;\n\ttimezone: string;\n\tlocal_offset: number;\n\t/*\n\t\t\"location\": {\n\t\t\t\"latitude\": -37.814,\n\t\t\t\"longitude\": 144.96332,\n\t\t\t\"elevation\": 0,\n\t\t\t\"ip_address\": \"125.168.14.232\",\n\t\t\t\"city\": \"Melbourne\",\n\t\t\t\"country\": \"Australia\",\n\t\t\t\"country_code\": \"AU\",\n\t\t\t\"timezone\": \"Australia/Melbourne\",\n\t\t\t\"local_offset\": 10\t\t\t\n\t\t}\n\t */\n}\n","import { Action, ActionCreator, Dispatch } from 'redux';\nimport { ThunkAction } from 'redux-thunk';\nimport { AppSettings } from '../../services/Settings/models/AppSettings';\nimport { UserInformation } from '../../services/Settings/models/UserInformation';\nimport { readSettingsFromServer, saveSettingsInServer } from '../../services/Settings/settings';\nimport { readUserInformationFromServer, saveUserInformationInServer } from '../../services/Settings/userInformation';\n\nexport const Action_ReadSettings = 'ReadSettings';\nexport const Action_ReadingSettings = 'ReadingSettings';\nexport const Action_SaveSettings = 'SaveSettings';\nexport const Action_SavingSettings = 'SavingSettings';\n\ninterface ReadingSettingsAction extends Action<typeof Action_ReadingSettings> {}\ninterface ReadSettingsAction extends Action<typeof Action_ReadSettings> {\n\tsettings: AppSettings;\n\tuserInformation: UserInformation;\n}\ninterface SavingSettingsAction extends Action<typeof Action_SavingSettings> {}\ninterface SaveSettingsAction extends Action<typeof Action_SaveSettings> {}\n\nexport type SettingsActions = ReadSettingsAction | SaveSettingsAction | ReadingSettingsAction | SavingSettingsAction;\n\nexport const readSettingsActionCreator: ActionCreator<ThunkAction<Promise<void>, object, object, ReadSettingsAction>> = () => {\n\treturn async (dispatch: Dispatch) => {\n\t\tconst readingSettingsAction: ReadingSettingsAction = {\n\t\t\ttype: Action_ReadingSettings,\n\t\t};\n\n\t\tdispatch(readingSettingsAction);\n\n\t\t// TODO - get the questions from server\n\t\tconst settings = await readSettingsFromServer();\n\t\tconst userInformation = await readUserInformationFromServer();\n\n\t\t// TODO - dispatch the GotUnansweredQuestions action\n\t\tconst readSettingsAction: ReadSettingsAction = {\n\t\t\ttype: Action_ReadSettings,\n\t\t\tsettings: settings,\n\t\t\tuserInformation: userInformation,\n\t\t};\n\t\tdispatch(readSettingsAction);\n\t};\n};\n\nexport const saveSettingsActionCreator: ActionCreator<ThunkAction<Promise<void>, object, object, SaveSettingsAction>> = (\n\tsettings: AppSettings,\n\tuserInfo: UserInformation | undefined,\n) => {\n\treturn async (dispatch: Dispatch) => {\n\t\tconst savingSettingsAction: SavingSettingsAction = {\n\t\t\ttype: Action_SavingSettings,\n\t\t};\n\t\tdispatch(savingSettingsAction);\n\n\t\t// TODO - get the questions from server\n\t\tawait saveSettingsInServer(settings);\n\t\tif (userInfo) {\n\t\t\tawait saveUserInformationInServer(userInfo);\n\t\t}\n\n\t\t// TODO - dispatch the GotUnansweredQuestions action\n\t\tconst saveSettingsAction: SaveSettingsAction = {\n\t\t\ttype: Action_SaveSettings,\n\t\t};\n\t\tdispatch(saveSettingsAction);\n\t};\n};\n","import { FC } from 'react';\n\nexport const VersionNumber: FC = () => {\n\treturn <span>0.2</span>;\n};\n","export default __webpack_public_path__ + \"static/media/tasbih.3bbdc724.svg\";","import './SidebarAppDrawer.scss';\nimport { FC, useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport { VersionNumber } from '../../components/VersionNumber';\nimport { connect } from 'react-redux';\nimport { ThunkDispatch } from 'redux-thunk';\nimport { AppState } from '../../store/store';\nimport { AppSettings } from '../../services/Settings/models/AppSettings';\nimport { readSettingsActionCreator, saveSettingsActionCreator } from '../../store/Actions/SettingsActions';\nimport { AnyAction } from 'redux';\nimport TasbihImage from '../../assets-offline/icons/tasbih.svg';\nimport { canStackZekrBody } from '../../common/helpers/mediaQuery';\n\ninterface Props {\n\tsettings?: AppSettings;\n\tsettingsLoading: boolean;\n\tsaveSettings: (settings: AppSettings) => void;\n}\n\nexport function openOffCanvas() {\n\tvar openButton = document.getElementById('toggle-sidebar-app-drawer');\n\topenButton?.click();\n}\n\nconst SidebarAppDrawer: FC<Props> = ({ settingsLoading, settings, saveSettings }) => {\n\tfunction toggleSidebar() {\n\t\tdocument.getElementById('toggle-sidebar-app-drawer')?.click();\n\t}\n\tfunction displayAbout(e: any) {\n\t\te.preventDefault();\n\t\ttoggleSidebar();\n\t\tdocument.getElementById('toggle-about-modal')?.click();\n\t}\n\tfunction displayShareLink(e: any) {\n\t\te.preventDefault();\n\t\ttoggleSidebar();\n\t\tdocument.getElementById('toggle-shareit-modal')?.click();\n\t}\n\n\tfunction applyTheme(name: string) {\n\t\tif (!settings) return;\n\t\tsettings.theme.name = name;\n\t\tsaveChanges();\n\t}\n\n\tfunction saveChanges() {\n\t\tif (settings) saveSettings(settings);\n\t}\n\tconst [colouredDiacritics, setColouredDiacritics] = useState<boolean>(settings?.colouredDiacritics || true);\n\tconst [enableTranslations, setEnableTranslations] = useState<boolean>(settings?.enableTranslations || true);\n\tconst [stackedZekrBody, setStackedZekrBody] = useState<boolean>(settings?.textSettings.stackedZekrBody || false);\n\tconst [displayFavorites, setDisplayFavorites] = useState<boolean>(settings?.homePage.displayFavorites || true);\n\tconst [displayTodayPlan, setDisplayTodayPlan] = useState<boolean>(settings?.homePage.displayTodayPlan || true);\n\tconst [displayTodaySuggestions, setDisplayTodaySuggestions] = useState<boolean>(\n\t\tsettings?.homePage.displayTodaySuggestions || true,\n\t);\n\n\tif (!settingsLoading && settings) {\n\t\t// update in each render\n\t\tif (colouredDiacritics != settings.colouredDiacritics) {\n\t\t\tsetColouredDiacritics(settings.colouredDiacritics);\n\t\t}\n\t\tif (enableTranslations != settings.enableTranslations) {\n\t\t\tsetEnableTranslations(settings.enableTranslations);\n\t\t}\n\t\tif (stackedZekrBody != settings?.textSettings.stackedZekrBody) {\n\t\t\tsetStackedZekrBody(settings.textSettings.stackedZekrBody);\n\t\t}\n\t\tif (displayFavorites != settings.homePage.displayFavorites) {\n\t\t\tsetDisplayFavorites(settings.homePage.displayFavorites);\n\t\t}\n\t\tif (displayTodayPlan != settings.homePage.displayTodayPlan) {\n\t\t\tsetDisplayTodayPlan(settings.homePage.displayTodayPlan);\n\t\t}\n\t\tif (displayTodaySuggestions != settings.homePage.displayTodaySuggestions) {\n\t\t\tsetDisplayTodaySuggestions(settings.homePage.displayTodaySuggestions);\n\t\t}\n\t}\n\n\tlet themeName = settings?.theme.name;\n\tif (themeName === 'Normal') themeName = 'default';\n\n\treturn (\n\t\t<div\n\t\t\tclassName=\"offcanvas offcanvas-start\"\n\t\t\ttabIndex={-1}\n\t\t\tid=\"sidebar-app-drawer\"\n\t\t\taria-labelledby=\"sidebar-app-drawer-title\"\n\t\t\tdata-bs-scroll=\"true\"\n\t\t\tdata-bs-backdrop=\"true\"\n\t\t>\n\t\t\t<button\n\t\t\t\tid=\"toggle-sidebar-app-drawer\"\n\t\t\t\tstyle={{ display: 'none' }}\n\t\t\t\tdata-bs-toggle=\"offcanvas\"\n\t\t\t\tdata-bs-target=\"#sidebar-app-drawer\"\n\t\t\t/>\n\t\t\t<div className=\"offcanvas-header\">\n\t\t\t\t<button type=\"button\" className=\"btn-close text-reset\" data-bs-dismiss=\"offcanvas\" aria-label=\"Close\"></button>\n\t\t\t</div>\n\t\t\t<div className=\"offcanvas-body\">\n\t\t\t\t<div className=\"drawer-logo\" data-bs-toggle=\"offcanvas\" data-bs-target=\"#sidebar-app-drawer\">\n\t\t\t\t\t<Link to=\"/\" aria-label=\"صفحه اصلی\">\n\t\t\t\t\t\t<img className=\"logo\" src=\"/android-chrome-512x512.png\" alt=\"MyZekr\" />\n\t\t\t\t\t</Link>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"form-check form-switch\">\n\t\t\t\t\t<input\n\t\t\t\t\t\tclassName=\"form-check-input\"\n\t\t\t\t\t\ttype=\"checkbox\"\n\t\t\t\t\t\tid=\"chkColouredDiacritics\"\n\t\t\t\t\t\tchecked={colouredDiacritics}\n\t\t\t\t\t\tonChange={(e) => {\n\t\t\t\t\t\t\tif (settings) {\n\t\t\t\t\t\t\t\tsettings.colouredDiacritics = e.currentTarget.checked;\n\t\t\t\t\t\t\t\tsaveChanges();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tsetColouredDiacritics(e.currentTarget.checked);\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t\t<label className=\"form-check-label\" htmlFor=\"chkColouredDiacritics\">\n\t\t\t\t\t\tحرکه گذاری رنگی\n\t\t\t\t\t</label>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"form-check form-switch\">\n\t\t\t\t\t<input\n\t\t\t\t\t\tclassName=\"form-check-input\"\n\t\t\t\t\t\ttype=\"checkbox\"\n\t\t\t\t\t\tid=\"chkEnableTranslations\"\n\t\t\t\t\t\tchecked={enableTranslations}\n\t\t\t\t\t\tonChange={(e) => {\n\t\t\t\t\t\t\tif (settings) {\n\t\t\t\t\t\t\t\tsettings.enableTranslations = e.currentTarget.checked;\n\t\t\t\t\t\t\t\tsaveChanges();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tsetEnableTranslations(e.currentTarget.checked);\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t\t<label className=\"form-check-label\" htmlFor=\"chkEnableTranslations\">\n\t\t\t\t\t\tنمایش ترجمه\n\t\t\t\t\t</label>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"form-check form-switch\">\n\t\t\t\t\t<input\n\t\t\t\t\t\tclassName=\"form-check-input\"\n\t\t\t\t\t\ttype=\"checkbox\"\n\t\t\t\t\t\tid=\"chkStackedZekrBody\"\n\t\t\t\t\t\tdisabled={!canStackZekrBody()}\n\t\t\t\t\t\tchecked={stackedZekrBody}\n\t\t\t\t\t\tonChange={(e) => {\n\t\t\t\t\t\t\tif (settings) {\n\t\t\t\t\t\t\t\tsettings.textSettings.stackedZekrBody = e.currentTarget.checked;\n\t\t\t\t\t\t\t\tsaveChanges();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tsetStackedZekrBody(e.currentTarget.checked);\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t\t<label className=\"form-check-label\" htmlFor=\"chkStackedZekrBody\">\n\t\t\t\t\t\t<i className=\"fas fa-columns\"></i> متن و ترجمه افقی\n\t\t\t\t\t</label>\n\t\t\t\t</div>\n\t\t\t\t<hr />\n\n\t\t\t\t<div className=\"form-check form-switch\">\n\t\t\t\t\t<input\n\t\t\t\t\t\tclassName=\"form-check-input\"\n\t\t\t\t\t\ttype=\"checkbox\"\n\t\t\t\t\t\tid=\"chkDisplayFavorites\"\n\t\t\t\t\t\tchecked={displayFavorites}\n\t\t\t\t\t\tonChange={(e) => {\n\t\t\t\t\t\t\tif (settings) {\n\t\t\t\t\t\t\t\tsettings.homePage.displayFavorites = e.currentTarget.checked;\n\t\t\t\t\t\t\t\tsaveChanges();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tsetDisplayFavorites(e.currentTarget.checked);\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t\t<label className=\"form-check-label\" htmlFor=\"chkDisplayFavorites\">\n\t\t\t\t\t\tنمایش منتخب ها\n\t\t\t\t\t</label>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"form-check form-switch\">\n\t\t\t\t\t<input\n\t\t\t\t\t\tclassName=\"form-check-input\"\n\t\t\t\t\t\ttype=\"checkbox\"\n\t\t\t\t\t\tid=\"chkDisplayTodayPlan\"\n\t\t\t\t\t\tchecked={displayTodayPlan}\n\t\t\t\t\t\tonChange={(e) => {\n\t\t\t\t\t\t\tif (settings) {\n\t\t\t\t\t\t\t\tsettings.homePage.displayTodayPlan = e.currentTarget.checked;\n\t\t\t\t\t\t\t\tsaveChanges();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tsetDisplayTodayPlan(e.currentTarget.checked);\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t\t<label className=\"form-check-label\" htmlFor=\"chkDisplayTodayPlan\">\n\t\t\t\t\t\tنمایش برنامه امروز\n\t\t\t\t\t</label>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"form-check form-switch\">\n\t\t\t\t\t<input\n\t\t\t\t\t\tclassName=\"form-check-input\"\n\t\t\t\t\t\ttype=\"checkbox\"\n\t\t\t\t\t\tid=\"chkDisplayTodaySuggestions\"\n\t\t\t\t\t\tchecked={displayTodaySuggestions}\n\t\t\t\t\t\tonChange={(e) => {\n\t\t\t\t\t\t\tif (settings) {\n\t\t\t\t\t\t\t\tsettings.homePage.displayTodaySuggestions = e.currentTarget.checked;\n\t\t\t\t\t\t\t\tsaveChanges();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tsetDisplayTodaySuggestions(e.currentTarget.checked);\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t\t<label className=\"form-check-label\" htmlFor=\"chkDisplayTodaySuggestions\">\n\t\t\t\t\t\tنمایش پیشنهاد امروز\n\t\t\t\t\t</label>\n\t\t\t\t</div>\n\t\t\t\t<hr />\n\t\t\t\t<div className=\"link-item\" data-bs-toggle=\"offcanvas\" data-bs-target=\"#sidebar-app-drawer\">\n\t\t\t\t\t<Link to=\"/counter\">\n\t\t\t\t\t\t<span className=\"link-icon text-danger\">\n\t\t\t\t\t\t\t<img src={TasbihImage} alt=\".\" className=\"icon-20\" />\n\t\t\t\t\t\t</span>\n\t\t\t\t\t\tذکر شمار\n\t\t\t\t\t</Link>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"link-item\" data-bs-toggle=\"offcanvas\" data-bs-target=\"#sidebar-app-drawer\">\n\t\t\t\t\t<Link to=\"/favorites\">\n\t\t\t\t\t\t<span className=\"link-icon text-danger\">\n\t\t\t\t\t\t\t<i className=\"fas fa-heart fa-lg\"></i>\n\t\t\t\t\t\t</span>\n\t\t\t\t\t\tلیست علاقه مندی ها\n\t\t\t\t\t</Link>\n\t\t\t\t</div>\n\t\t\t\t<hr />\n\t\t\t\t<div className=\"link-item \">\n\t\t\t\t\t<div>رنگ بندی سایت</div>\n\t\t\t\t\t<div className=\"darkreader color-theme-container\">\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tonClick={() => applyTheme('system')}\n\t\t\t\t\t\t\tclassName={'color-theme system ' + (themeName === 'system' ? 'selected' : '')}\n\t\t\t\t\t\t></div>\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tonClick={() => applyTheme('default')}\n\t\t\t\t\t\t\tclassName={'color-theme default ' + (themeName === 'default' ? 'selected' : '')}\n\t\t\t\t\t\t></div>\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tonClick={() => applyTheme('brown')}\n\t\t\t\t\t\t\tclassName={'color-theme brown ' + (themeName === 'brown' ? 'selected' : '')}\n\t\t\t\t\t\t></div>\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tonClick={() => applyTheme('dark')}\n\t\t\t\t\t\t\tclassName={'color-theme dark ' + (themeName === 'dark' ? 'selected' : '')}\n\t\t\t\t\t\t></div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<hr />\n\t\t\t\t<div className=\"link-item \">\n\t\t\t\t\t<Link to=\"#\" onClick={displayShareLink}>\n\t\t\t\t\t\t<span className=\"link-icon\">\n\t\t\t\t\t\t\t<i className=\"fas fa-share-alt\"></i>\n\t\t\t\t\t\t</span>\n\t\t\t\t\t\tپیشنهاد به دوستان\n\t\t\t\t\t</Link>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"link-item \">\n\t\t\t\t\t<Link to=\"#\" onClick={displayAbout}>\n\t\t\t\t\t\t<span className=\"link-icon\">\n\t\t\t\t\t\t\t<i className=\"fas fa-info-circle\"></i>\n\t\t\t\t\t\t</span>\n\t\t\t\t\t\tدرباره\n\t\t\t\t\t</Link>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"link-item text-center text-secondary form-text\">\n\t\t\t\t\tنسخه: <VersionNumber />\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nconst mapStateToProps = (store: AppState) => {\n\treturn {\n\t\tsettings: store.settingsState.settings,\n\t\tsettingsLoading: store.settingsState.loading,\n\t};\n};\nconst mapDispatchToProps = (dispatch: ThunkDispatch<any, any, AnyAction>) => {\n\treturn {\n\t\treadSettings: () => dispatch(readSettingsActionCreator()),\n\t\tsaveSettings: (settings: AppSettings) => dispatch(saveSettingsActionCreator(settings)),\n\t};\n};\nexport default connect(mapStateToProps, mapDispatchToProps)(SidebarAppDrawer);\n","let appliedThemeName = '';\nlet setBrowserColorTimeout: NodeJS.Timeout | null = null;\n\n// Theme link element IDs\nconst THEME_DARK_ID = 'theme-dark';\nconst THEME_BROWN_ID = 'theme-brown';\nconst THEME_FIXES_ID = 'theme-fixes';\n\nenum ThemeStatus {\n\tAlwaysEnabled,\n\tDisabled,\n\tPrefersDark,\n\tPrefersLight,\n}\n\nexport function applyTheme(themeName: string) {\n\tif (themeName === appliedThemeName) return;\n\n\tappliedThemeName = themeName;\n\n\tconst themeConfig = getThemeConfig(themeName);\n\tif (!themeConfig) return;\n\n\t// Update media attributes for all theme stylesheets\n\tupdateThemeStylesheet(THEME_DARK_ID, themeConfig.dark);\n\tupdateThemeStylesheet(THEME_BROWN_ID, themeConfig.brown);\n\tupdateThemeStylesheet(THEME_FIXES_ID, themeConfig.fixes);\n\n\t// Ensure all theme stylesheets are at the end of head\n\tensureThemeStylesheetsAtEnd();\n\n\tmarkDarkTheme(themeConfig.isDark);\n\tsetBrowserColor();\n}\n\nfunction updateThemeStylesheet(linkId: string, themeStatus: ThemeStatus) {\n\tconst link = document.getElementById(linkId) as HTMLLinkElement;\n\tif (link) {\n\t\tswitch (themeStatus) {\n\t\t\tcase ThemeStatus.AlwaysEnabled:\n\t\t\t\tlink.media = 'all';\n\t\t\t\tlink.removeAttribute('disabled');\n\t\t\t\tbreak;\n\t\t\tcase ThemeStatus.Disabled:\n\t\t\t\tlink.media = 'not all';\n\t\t\t\tlink.setAttribute('disabled', '');\n\t\t\t\tbreak;\n\t\t\tcase ThemeStatus.PrefersDark:\n\t\t\t\tlink.media = '(prefers-color-scheme: dark)';\n\t\t\t\tlink.removeAttribute('disabled');\n\t\t\t\tbreak;\n\t\t\tcase ThemeStatus.PrefersLight:\n\t\t\t\tlink.media = '(prefers-color-scheme: light)';\n\t\t\t\tlink.removeAttribute('disabled');\n\t\t\t\tbreak;\n\t\t}\n\n\t\t// Re-append to head to ensure it stays at the end after React adds dynamic styles\n\t\tconst head = document.getElementsByTagName('head')[0];\n\t\thead.appendChild(link);\n\t}\n}\n\nfunction ensureThemeStylesheetsAtEnd() {\n\tconst head = document.getElementsByTagName('head')[0];\n\tconst themeIds = [THEME_DARK_ID, THEME_BROWN_ID, THEME_FIXES_ID];\n\n\t// Re-append all theme stylesheets in order to ensure they're at the end\n\tthemeIds.forEach((id) => {\n\t\tconst link = document.getElementById(id);\n\t\tif (link) {\n\t\t\thead.appendChild(link);\n\t\t}\n\t});\n}\n\nfunction markDarkTheme(isDark: boolean) {\n\tlet body = document.getElementsByTagName('body')[0];\n\n\tlet className = body.className;\n\tif (isDark) {\n\t\tif (!className.includes('theme-dark')) {\n\t\t\tclassName += ' theme-dark';\n\t\t}\n\t} else {\n\t\tclassName = className.replace('theme-dark', '');\n\t}\n\tbody.className = className;\n}\n\nfunction getThemeConfig(name: string) {\n\tif (!name) return null;\n\n\tswitch (name.toLowerCase()) {\n\t\tcase 'normal':\n\t\tcase 'default':\n\t\tcase 'light':\n\t\t\treturn {\n\t\t\t\tdark: ThemeStatus.Disabled,\n\t\t\t\tbrown: ThemeStatus.Disabled,\n\t\t\t\tfixes: ThemeStatus.Disabled,\n\t\t\t\tisDark: false,\n\t\t\t};\n\t\tcase 'dark':\n\t\t\treturn {\n\t\t\t\tdark: ThemeStatus.AlwaysEnabled,\n\t\t\t\tbrown: ThemeStatus.Disabled,\n\t\t\t\tfixes: ThemeStatus.AlwaysEnabled,\n\t\t\t\tisDark: true,\n\t\t\t};\n\t\tcase 'brown':\n\t\t\treturn {\n\t\t\t\tdark: ThemeStatus.Disabled,\n\t\t\t\tbrown: ThemeStatus.AlwaysEnabled,\n\t\t\t\tfixes: ThemeStatus.AlwaysEnabled,\n\t\t\t\tisDark: true,\n\t\t\t};\n\t\tcase 'system':\n\t\t\treturn {\n\t\t\t\tdark: ThemeStatus.PrefersDark,\n\t\t\t\tbrown: ThemeStatus.Disabled,\n\t\t\t\tfixes: ThemeStatus.PrefersDark,\n\t\t\t\tisDark: window.matchMedia('(prefers-color-scheme: dark)').matches,\n\t\t\t};\n\t}\n\treturn null;\n}\n\nfunction setBrowserColor() {\n\tsetBrowserColorNow();\n\n\tif (setBrowserColorTimeout) {\n\t\tclearTimeout(setBrowserColorTimeout);\n\t}\n\t// Note: timeout is needed to handle css files load time\n\tsetBrowserColorTimeout = setTimeout(setBrowserColorNow, 600);\n}\n\nfunction setBrowserColorNow() {\n\tlet siteHeader = document.querySelector('.site-header');\n\tlet metaThemeColor = document.querySelector(\"meta[name='theme-color']\") as HTMLMetaElement;\n\tif (!siteHeader || !metaThemeColor) return;\n\n\tlet styles = window.getComputedStyle(siteHeader);\n\tlet color = styles.backgroundColor;\n\tif (!color) return;\n\n\tmetaThemeColor.content = color;\n}\n","export function canStackZekrBody(): boolean {\n\treturn window.innerWidth >= 481;\n}\n","import { FC } from 'react';\n\ninterface Props {}\n\nexport const AboutDialog: FC<Props> = ({}) => {\n\treturn (\n\t\t<div className=\"modal fade\" id=\"about-modal\" tabIndex={-1} aria-labelledby=\"about-modal-label\" aria-hidden=\"true\">\n\t\t\t<button id=\"toggle-about-modal\" style={{ display: 'none' }} data-bs-toggle=\"modal\" data-bs-target=\"#about-modal\" />\n\t\t\t<div className=\"modal-dialog\">\n\t\t\t\t<div className=\"modal-content\">\n\t\t\t\t\t<div className=\"modal-header\">\n\t\t\t\t\t\t<h5 className=\"modal-title\" id=\"about-modal-label\">\n\t\t\t\t\t\t\tدرباره مرجع دعاها و اذکار\n\t\t\t\t\t\t</h5>\n\t\t\t\t\t\t<button type=\"button\" className=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"modal-body\">\n\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\tدر اینجا سعی می کنیم که مرجعی برای دعاها، اذکار و اعمال عبادی رو جمع کنیم. به امید داشتن یک منبع برای\n\t\t\t\t\t\t\tهمه چی.\n\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\tاین سایت و اطلاعات آن کد منبع آزاد بوده و رایگان است و از{' '}\n\t\t\t\t\t\t\t<a href=\"https://github.com/salarcode/myzekr\" target=\"_blank\" rel=\"noopener noreferrer nofollow\">\n\t\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\t\tsrc=\"https://github.githubassets.com/pinned-octocat.svg\"\n\t\t\t\t\t\t\t\t\talt=\"github\"\n\t\t\t\t\t\t\t\t\tclassName=\"icon-13 m-1\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\tاینجا &nbsp;\n\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\tقابل دریافت است.\n\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\tمحتاج دعای شما عزیزان.\n\t\t\t\t\t\t</p>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"modal-footer d-none d-md-flex\">\n\t\t\t\t\t\t<button type=\"button\" className=\"btn btn-secondary\" data-bs-dismiss=\"modal\">\n\t\t\t\t\t\t\tبستن\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n","import React, { FC, FormEvent, FormEventHandler, Fragment, KeyboardEventHandler, useEffect, useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport { ZekrList } from '../ZekrList/ZekrList';\nimport { Zekr, ZekrIndex } from '../../services/Zekr/models/Zekr';\nimport { getZekrIndexList } from '../../services/Zekr/ZekrWebService';\nimport { ErrorMessage, retryType } from '../../components/ErrorMessage/ErrorMessage';\nimport { Loading } from '../../components/Loading/Loading';\nimport { searchZekrIndex } from '../../services/Zekr/ZekrSearch';\nimport './ShareItDialog.scss';\n\ninterface Props {}\n\nexport const ShareItDialog: FC<Props> = ({}) => {\n\tvar pageTitle = (document.querySelector('head title') as any)?.innerText;\n\tvar url = escape(document.location.toString());\n\n\treturn (\n\t\t<div className=\"modal fade\" id=\"shareit-modal\" tabIndex={-1} aria-labelledby=\"shareit-modal-label\" aria-hidden=\"true\">\n\t\t\t<button\n\t\t\t\tid=\"toggle-shareit-modal\"\n\t\t\t\tstyle={{ display: 'none' }}\n\t\t\t\tdata-bs-toggle=\"modal\"\n\t\t\t\tdata-bs-target=\"#shareit-modal\"\n\t\t\t/>\n\t\t\t<div className=\"modal-dialog\">\n\t\t\t\t<div className=\"modal-content\">\n\t\t\t\t\t<div className=\"modal-header\">\n\t\t\t\t\t\t<h5 className=\"modal-title\" id=\"shareit-modal-label\">\n\t\t\t\t\t\t\t<i className=\"fas fa-share-alt\"></i>&nbsp; اشتراک گذاری با دوستان\n\t\t\t\t\t\t</h5>\n\t\t\t\t\t\t<button type=\"button\" className=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"modal-body\">\n\t\t\t\t\t\t<p className=\"text-center\">\n\t\t\t\t\t\t\t<a\n\t\t\t\t\t\t\t\trel=\"nofollow\"\n\t\t\t\t\t\t\t\thref={'https://telegram.me/share/url?url=' + url}\n\t\t\t\t\t\t\t\tclassName=\"btn btn-outline-light\"\n\t\t\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<i className=\"fab fa-telegram text-info\"></i>{' '}\n\t\t\t\t\t\t\t\t<span className=\"hidden-sm hidden-xs text-dark\">تلگرام</span>\n\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t<a\n\t\t\t\t\t\t\t\trel=\"nofollow\"\n\t\t\t\t\t\t\t\thref={`whatsapp://send?text=${pageTitle} - ${url}`}\n\t\t\t\t\t\t\t\tclassName=\"btn btn-outline-light\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<i className=\"fab fa-whatsapp text-success\"></i>{' '}\n\t\t\t\t\t\t\t\t<span className=\"hidden-sm hidden-xs text-dark\">WhatsApp</span>\n\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t<a rel=\"nofollow\" href={`mailto:?subject=${pageTitle}&body=${url}`} className=\"btn btn-outline-light\">\n\t\t\t\t\t\t\t\t<i className=\"far fa-envelope text-primary\"></i>{' '}\n\t\t\t\t\t\t\t\t<span className=\"hidden-sm hidden-xs text-dark\">ایمیل</span>\n\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t<a\n\t\t\t\t\t\t\t\thref={`https://twitter.com/home?status=${pageTitle}+${url}`}\n\t\t\t\t\t\t\t\tclassName=\"btn btn-outline-light\"\n\t\t\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<i className=\"fab fa-twitter text-info\"></i>{' '}\n\t\t\t\t\t\t\t\t<span className=\"hidden-sm hidden-xs text-dark\">توییتر</span>\n\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t</p>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"modal-footer d-none d-md-flex\">\n\t\t\t\t\t\t<button type=\"button\" className=\"btn btn-secondary\" data-bs-dismiss=\"modal\">\n\t\t\t\t\t\t\tبستن\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n","import './Layout.scss';\nimport React, { FC, useEffect, useState } from 'react';\nimport { Header } from '../Header/Header';\nimport { Footer } from '../Footer/Footer';\nimport { ThunkDispatch } from 'redux-thunk';\nimport { AnyAction } from 'redux';\nimport { readSettingsActionCreator } from '../../store/Actions/SettingsActions';\nimport { AppState } from '../../store/store';\nimport { AppSettings } from '../../services/Settings/models/AppSettings';\nimport { connect } from 'react-redux';\nimport SidebarAppDrawer, { openOffCanvas } from './SidebarAppDrawer';\nimport { AboutDialog } from '../AboutDialog/AboutDialog';\nimport { ShareItDialog } from '../ShareItDialog/ShareItDialog';\nimport { applyTheme } from '../../common/themeManager';\nimport { enableOffCanvasSwipe } from './OffCanvasSwipe';\n\ninterface Props {\n\tsettings?: AppSettings | undefined;\n\tsettingsLoading?: boolean;\n\treadSettings: () => Promise<void>;\n}\n\nconst Layout: FC<Props> = ({ children, settings, readSettings, settingsLoading = false }) => {\n\tuseEffect(() => {\n\t\t// Warning: this is the only place we load the settings, don't touch!\n\t\tif (readSettings) readSettings();\n\t\tenableOffCanvasSwipe(null, openOffCanvas);\n\t}, [readSettings]);\n\n\tif (settings) {\n\t\tapplyTheme(settings.theme.name);\n\t}\n\n\treturn (\n\t\t<div className=\"layout block-container myzekr-layout\">\n\t\t\t<div className=\"site-header-row\">\n\t\t\t\t<Header />\n\t\t\t</div>\n\t\t\t<div className=\"content-layout-row\">\n\t\t\t\t<div className=\"content-layout block-container\">{children}</div>\n\t\t\t\t<AboutDialog />\n\t\t\t\t<ShareItDialog />\n\t\t\t</div>\n\t\t\t<div>\n\t\t\t\t<div>\n\t\t\t\t\t<Footer />\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<SidebarAppDrawer />\n\t\t</div>\n\t);\n};\n\nconst mapStateToProps = (store: AppState) => {\n\treturn {\n\t\tsettings: store.settingsState.settings,\n\t\tsettingsLoading: store.settingsState.loading,\n\t};\n};\nconst mapDispatchToProps = (dispatch: ThunkDispatch<any, any, AnyAction>) => {\n\treturn {\n\t\treadSettings: () => dispatch(readSettingsActionCreator()),\n\t};\n};\nexport default connect(mapStateToProps, mapDispatchToProps)(Layout);\n","// This piece of code is taken from here and converted/updated to TS: https://stackoverflow.com/a/23230280/322446\nexport function enableOffCanvasSwipe(\n\tonSwipeRight: Function | null = null,\n\tonSwipeLeft: Function | null = null,\n\tonSwipeUp: Function | null = null,\n\tonSwipeDown: Function | null = null,\n\tswipeThreshold: number = 150,\n) {\n\tdocument.addEventListener('touchstart', handleTouchStart, false);\n\tdocument.addEventListener('touchmove', handleTouchMove, false);\n\n\tvar xDown: number | null = null;\n\tvar yDown: number | null = null;\n\n\tfunction getTouches(evt: any) {\n\t\treturn (\n\t\t\tevt.touches || // browser API\n\t\t\tevt.originalEvent.touches\n\t\t); // jQuery\n\t}\n\n\tfunction handleTouchStart(this: Document, evt: TouchEvent) {\n\t\tconst firstTouch = getTouches(evt)[0];\n\t\txDown = firstTouch.clientX;\n\t\tyDown = firstTouch.clientY;\n\t}\n\n\tfunction handleTouchMove(this: Document, evt: TouchEvent) {\n\t\tif (!xDown || !yDown) {\n\t\t\treturn;\n\t\t}\n\n\t\tvar xUp = evt.touches[0].clientX;\n\t\tvar yUp = evt.touches[0].clientY;\n\n\t\tvar xDiff = xDown - xUp;\n\t\tvar yDiff = yDown - yUp;\n\n\t\tif (Math.abs(xDiff) + Math.abs(yDiff) > swipeThreshold) {\n\t\t\tif (Math.abs(xDiff) > Math.abs(yDiff)) {\n\t\t\t\t/*most significant*/\n\t\t\t\tif (xDiff > 0) {\n\t\t\t\t\tif (onSwipeLeft) onSwipeLeft();\n\t\t\t\t} else {\n\t\t\t\t\tif (onSwipeRight) onSwipeRight();\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (yDiff > 0) {\n\t\t\t\t\tif (onSwipeDown) onSwipeDown();\n\t\t\t\t} else {\n\t\t\t\t\tif (onSwipeUp) onSwipeUp();\n\t\t\t\t}\n\t\t\t}\n\t\t\t/* reset values */\n\t\t\txDown = null;\n\t\t\tyDown = null;\n\t\t}\n\t}\n}\n","export default __webpack_public_path__ + \"static/media/back.47beff12.svg\";","import React, { FC } from 'react';\nimport { Link } from 'react-router-dom';\nimport { retrieveStorageItem, saveStorageItem } from '../../services/Storage';\nimport BackImage from '../../assets-offline/icons/back.svg';\n\ninterface Props {\n\treturnUrl?: string;\n\tdoNotShowButton?: boolean;\n}\n\nexport const BackButton: FC<Props> = ({ returnUrl, doNotShowButton }) => {\n\t// always saving current state\n\tpushHistory(window.location.href);\n\n\t// just record history?\n\tif (doNotShowButton === true) return null;\n\n\tvar backHistory = readHistory();\n\n\tvar url = returnUrl;\n\tif (!url) {\n\t\tif (backHistory && backHistory.previous) {\n\t\t\tif (isUrlFromMe(backHistory.previous)) {\n\t\t\t\turl = backHistory.previous;\n\t\t\t}\n\t\t}\n\t\tif (!url && isReferredFromMe()) {\n\t\t\turl = document.referrer;\n\t\t}\n\t}\n\t//DEBUG: console.log('BackButton', backHistory, url);\n\tif (!url) {\n\t\t// do not display the button\n\t\treturn null;\n\t}\n\tif (url == window.location.href) return null;\n\n\turl = removeMyOrigin(url);\n\n\treturn (\n\t\t<Link title=\"بازگشت\" to={url} key={url} className=\"px-1\">\n\t\t\t<img alt=\"بازگشت\" src={BackImage} className=\"icon-20 link-image\" />\n\t\t</Link>\n\t);\n};\n\nfunction pushHistory(url: string) {\n\tvar h = readHistory();\n\tif (!h) {\n\t\th = { current: url, previous: '' };\n\t} else {\n\t\t// don't override current if they're are same\n\t\tif (url == h.current) return;\n\t\th = {\n\t\t\tprevious: h.current,\n\t\t\tcurrent: url,\n\t\t};\n\t}\n\tsaveStorageItem('BackButton-History', h);\n}\nfunction readHistory() {\n\treturn retrieveStorageItem<{ current: string; previous: string }>('BackButton-History');\n}\n\nfunction isReferredFromMe() {\n\treturn isUrlFromMe(document.referrer);\n}\nfunction isUrlFromMe(url: string) {\n\ttry {\n\t\tconst referrer = new URL(url);\n\t\treturn referrer.origin === window.location.origin;\n\t} catch (invalid_url_error) {\n\t\treturn false;\n\t}\n}\nfunction removeMyOrigin(url: string) {\n\ttry {\n\t\tconst referrer = new URL(url);\n\t\tif (referrer.origin === window.location.origin) {\n\t\t\tvar index = url.indexOf(referrer.origin);\n\t\t\treturn url.substring(index + referrer.origin.length, url.length - index);\n\t\t} else {\n\t\t\treturn url;\n\t\t}\n\t} catch (invalid_url_error) {\n\t\treturn url;\n\t}\n}\n","import { Zekr, ZekrIndex } from './models/Zekr';\nimport { ZekrCategory } from './models/ZekrCategory';\nimport {\n\tgetWebZekrByCategoryUi,\n\tgetWebZekrByUid,\n\tgetWebZekrCategoryByUid,\n\tgetWebZekrCategoryChainToTopByUid,\n\tgetWebZekrCategoryChildrenByParentUid,\n\tgetWebZekrCategoryList as getWebZekrParentCategoryList,\n} from './ZekrWebService';\n\nexport function getZekrVoiceFileUrl(filename: string): string {\n\treturn `/zekr-db/zekr-voice/${filename}`;\n}\n\nexport function getZekrByUid(uid: string): Promise<Zekr | undefined> {\n\treturn getWebZekrByUid(uid);\n}\n\nexport function getZekrParentCategoryList(): Promise<ZekrCategory[] | undefined> {\n\treturn getWebZekrParentCategoryList();\n}\n\nexport function getZekrByCategoryUid(uid: string): Promise<ZekrIndex[] | undefined> {\n\treturn getWebZekrByCategoryUi(uid);\n}\n\nexport function getZekrCategoryByUid(uid: string): Promise<ZekrCategory | undefined> {\n\treturn getWebZekrCategoryByUid(uid);\n}\nexport function getZekrCategoryChainToTopByUid(uid: string): Promise<ZekrCategory[] | undefined> {\n\treturn getWebZekrCategoryChainToTopByUid(uid);\n}\n\nexport function getZekrCategoryChildrenByParentUid(parentUid: string): Promise<ZekrCategory[] | undefined> {\n\treturn getWebZekrCategoryChildrenByParentUid(parentUid);\n}\n\n// export function getUserFavorites(){\n\n// }\n","import './CategoryList.scss';\nimport { Fragment } from 'react';\nimport { FC } from 'react';\nimport { ZekrCategory } from '../../services/Zekr/models/ZekrCategory';\nimport StarImage from '../../assets-offline/icons/star.svg';\n\ninterface Props {\n\tcategory: ZekrCategory;\n}\n\nexport const CategoryListBigIcon: FC<Props> = ({ category }) => {\n\treturn (\n\t\t<Fragment>\n\t\t\t{category.iconClass ? (\n\t\t\t\t<i className={(category.iconClass || 'fa fa-search') + ' button-icon'} />\n\t\t\t) : category.imageUrl ? (\n\t\t\t\t<img className=\"icon-24 button-icon mx-1\" src={'/assets/icons/' + category.imageUrl} alt=\"\" />\n\t\t\t) : (\n\t\t\t\t<img className=\"icon-24 button-icon mx-1\" src={StarImage} alt=\"\" />\n\t\t\t)}\n\t\t</Fragment>\n\t);\n};\n","import './CategoryList.scss';\nimport React from 'react';\nimport { FC } from 'react';\nimport { Link } from 'react-router-dom';\nimport { ZekrCategory } from '../../services/Zekr/models/ZekrCategory';\nimport { CategoryListBigIcon } from './CategoryListBigIcon';\n\ninterface Props {\n\tdata: ZekrCategory[];\n}\n\nexport const CategoryList: FC<Props> = ({ data }) => {\n\treturn (\n\t\t<div className=\"category-list\">\n\t\t\t{data.map((category) => (\n\t\t\t\t<Link className=\"category-button\" to={'/zekr-list/' + category.uid} key={category.uid}>\n\t\t\t\t\t<CategoryListBigIcon category={category} />\n\t\t\t\t\t<div className=\"button-text\">{category.title}</div>\n\t\t\t\t</Link>\n\t\t\t))}\n\t\t</div>\n\t);\n};\n","import React, { FC, useEffect, useState } from 'react';\nimport { Loading } from '../../components/Loading/Loading';\nimport { ZekrCategory } from '../../services/Zekr/models/ZekrCategory';\nimport { getZekrParentCategoryList } from '../../services/Zekr/ZekrService';\nimport { CategoryList } from '../CategoryList/CategoryList';\n\nexport const CategoryContainer: FC = () => {\n\tconst [loading, setLoading] = useState<boolean>(true);\n\tconst [categories, setCategories] = useState<ZekrCategory[]>([]);\n\n\tuseEffect(() => {\n\t\tasync function doGet() {\n\t\t\tsetLoading(true);\n\t\t\tlet data = await getZekrParentCategoryList().catch((err) => {\n\t\t\t\tconsole.warn('Failed to read CategoryList', err);\n\t\t\t});\n\t\t\tif (data) {\n\t\t\t\tsetCategories(data);\n\t\t\t}\n\n\t\t\tsetLoading(false);\n\t\t}\n\t\tdoGet();\n\t}, []);\n\n\treturn loading ? <Loading /> : <CategoryList data={categories} />;\n};\n","import React, { FC } from 'react';\nimport { Helmet } from 'react-helmet';\nimport { Link } from 'react-router-dom';\nimport { Zekr } from '../../services/Zekr/models/Zekr';\n\ninterface Props {\n\ttitle: string;\n\tdescription: string;\n}\n\nexport const PageMeta: FC<Props> = ({ title, description }) => {\n\tif (!title) {\n\t\ttitle = 'مرجع دعاها و اذکار';\n\t} else if (title.length < 60) {\n\t\ttitle += ' - مرجع دعاها و اذکار';\n\t}\n\treturn (\n\t\t<Helmet>\n\t\t\t<title>{title}</title>\n\t\t\t<meta name=\"description\" content={description ? description : title} />\n\t\t</Helmet>\n\t);\n};\n","import './ZekrListSummary.scss';\nimport { Fragment, MouseEventHandler } from 'react';\nimport { FC } from 'react';\nimport { Link } from 'react-router-dom';\nimport { ZekrIndex } from '../../services/Zekr/models/Zekr';\nimport StarImage from '../../assets-offline/icons/star.svg';\n\ninterface Props {\n\tdata: ZekrIndex[];\n\tonItemClick?: MouseEventHandler<HTMLAnchorElement>;\n\tdisplayMoreButton?: boolean;\n\tmoreButtonText?: string;\n\tmoreButtonLink?: string;\n\tmoreButtonImage?: React.ReactElement;\n\tonMoreClick?: () => void;\n}\n\nexport const ZekrListSummary: FC<Props> = ({\n\tdata,\n\tonItemClick,\n\tdisplayMoreButton,\n\tmoreButtonText,\n\tmoreButtonLink,\n\tmoreButtonImage,\n\tonMoreClick,\n}) => {\n\tmoreButtonLink = moreButtonLink || '#';\n\treturn (\n\t\t<Fragment>\n\t\t\t<div className=\"item-list zekr-list item-list-summary\">\n\t\t\t\t{data.map((zekr) => {\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\tto={'/zekr/' + zekr.uid}\n\t\t\t\t\t\t\tkey={zekr.uid}\n\t\t\t\t\t\t\tclassName=\"item-button\"\n\t\t\t\t\t\t\ttitle={zekr.metaTitle}\n\t\t\t\t\t\t\tonClick={onItemClick}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{zekr.imageClass ? (\n\t\t\t\t\t\t\t\t<i className={zekr.imageClass || 'fa fa-search'} />\n\t\t\t\t\t\t\t) : zekr.imageUrl ? (\n\t\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\t\tclassName=\"icon-16 mx-1 button-icon\"\n\t\t\t\t\t\t\t\t\tsrc={'/assets/icons/' + zekr.imageUrl}\n\t\t\t\t\t\t\t\t\talt={zekr.metaTitle}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t<img className=\"icon-16 mx-1 button-icon\" src={StarImage} alt={zekr.metaTitle} />\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t{zekr.fullName}\n\t\t\t\t\t\t</Link>\n\t\t\t\t\t);\n\t\t\t\t})}\n\t\t\t\t{displayMoreButton && (\n\t\t\t\t\t<Link to={moreButtonLink} key={moreButtonLink} className=\"item-button item-button-more\" onClick={onMoreClick}>\n\t\t\t\t\t\t{moreButtonImage}\n\t\t\t\t\t\t{moreButtonText}\n\t\t\t\t\t</Link>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t</Fragment>\n\t);\n};\n","export default __webpack_public_path__ + \"static/media/more-rewind.f6a21177.svg\";","import { AnyAction } from 'redux';\nimport { FC, Fragment, useEffect, useState } from 'react';\nimport { ThunkDispatch } from 'redux-thunk';\nimport { AppSettings } from '../../services/Settings/models/AppSettings';\nimport { readSettingsActionCreator } from '../../store/Actions/SettingsActions';\nimport { AppState } from '../../store/store';\nimport { connect } from 'react-redux';\nimport { Loading } from '../../components/Loading/Loading';\nimport { getZekrIndexList } from '../../services/Zekr/ZekrWebService';\nimport { ZekrIndex } from '../../services/Zekr/models/Zekr';\nimport { ZekrListSummary } from '../ZekrListSummary/ZekrListSummary';\nimport MoreButtonImage from '../../assets-offline/icons/more-rewind.svg';\n\ninterface Props {\n\tsettings: AppSettings | undefined;\n\tsettingsLoading: boolean;\n\treadSettings: () => void;\n\tsectionTitle?: string;\n\tdisplayLimit?: number;\n}\n\nconst ZekrListFavorites: FC<Props> = ({\n\tsettings,\n\treadSettings,\n\tsettingsLoading,\n\tsectionTitle = 'لیست علاقه مندی ها',\n\tdisplayLimit,\n}) => {\n\tconst [loading, setLoading] = useState<boolean>(true);\n\tconst [zekrIndexList, setZekrIndexList] = useState<ZekrIndex[]>([]);\n\tconst [zekrFavorites, setZekrFavorites] = useState<ZekrIndex[]>([]);\n\n\tif (!displayLimit) {\n\t\t// default limit to show search box\n\t\tdisplayLimit = 3;\n\t}\n\n\tuseEffect(() => {\n\t\tasync function doGetZekrList() {\n\t\t\tsetLoading(true);\n\t\t\tlet loadedZekrIndexList = await getZekrIndexList();\n\n\t\t\tif (loadedZekrIndexList) {\n\t\t\t\tsetZekrIndexList(loadedZekrIndexList);\n\t\t\t}\n\n\t\t\tsetLoading(false);\n\t\t}\n\t\tif (settings === null) {\n\t\t\treadSettings();\n\t\t}\n\t\tdoGetZekrList();\n\t}, []);\n\n\tif (settings != null && !settings.homePage.displayFavorites) {\n\t\t// do not render if not enabled\n\t\treturn <Fragment />;\n\t}\n\n\treloadZekrFavorites();\n\n\tfunction reloadZekrFavorites(forceReload = false) {\n\t\tif (loading) return;\n\t\tif (!settings || !zekrIndexList || !zekrIndexList.length) return;\n\n\t\t// if already extracted\n\t\tif (zekrFavorites.length && !forceReload) return;\n\n\t\tif (settings.userFavorites) {\n\t\t\tvar foundZekr: ZekrIndex[] = [];\n\n\t\t\tfor (const fav of settings.userFavorites) {\n\t\t\t\tvar zekr = zekrIndexList.find((z) => z.uid == fav.zekrUid);\n\t\t\t\tif (zekr) {\n\t\t\t\t\tfoundZekr.push(zekr);\n\n\t\t\t\t\t// limit the display\n\t\t\t\t\tif (displayLimit && foundZekr.length >= displayLimit) {\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (foundZekr.length || forceReload) {\n\t\t\t\tsetZekrFavorites(foundZekr);\n\t\t\t}\n\t\t}\n\t}\n\n\treturn loading || settingsLoading ? (\n\t\t<Loading />\n\t) : (\n\t\t<Fragment>\n\t\t\t{zekrFavorites.length > 0 && (\n\t\t\t\t<section className=\"main-section\">\n\t\t\t\t\t<h3 className=\"main-section-title title-with-tools\">\n\t\t\t\t\t\t<span className=\"no-wrap\">{sectionTitle}</span>\n\t\t\t\t\t</h3>\n\t\t\t\t\t<div className=\"\">\n\t\t\t\t\t\t<ZekrListSummary\n\t\t\t\t\t\t\tdata={zekrFavorites}\n\t\t\t\t\t\t\tdisplayMoreButton={true}\n\t\t\t\t\t\t\tmoreButtonText=\"مشاهده همه\"\n\t\t\t\t\t\t\tmoreButtonLink=\"/favorites\"\n\t\t\t\t\t\t\tmoreButtonImage={<img className=\"icon-16 mx-1 button-icon\" src={MoreButtonImage} alt=\"<<\" />}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t</section>\n\t\t\t)}\n\t\t</Fragment>\n\t);\n};\n\nconst mapStateToProps = (store: AppState) => {\n\treturn {\n\t\tsettings: store.settingsState.settings,\n\t\tsettingsLoading: store.settingsState.loading,\n\t};\n};\nconst mapDispatchToProps = (dispatch: ThunkDispatch<any, any, AnyAction>) => {\n\treturn {\n\t\treadSettings: () => dispatch(readSettingsActionCreator()),\n\t};\n};\nexport default connect(mapStateToProps, mapDispatchToProps)(ZekrListFavorites);\n","import { FC } from 'react';\nimport { BackButton } from '../../components/BackButton/BackButton';\nimport { CategoryContainer } from '../../containers/CategoryContainer/CategoryContainer';\nimport { PageMeta } from '../../containers/PageMeta/PageMeta';\nimport ZekrListFavorites from '../../containers/ZekrListFavorites/ZekrListFavorites';\nimport './HomePage.scss';\n\nexport const HomePage: FC = () => {\n\treturn (\n\t\t<div>\n\t\t\t<PageMeta\n\t\t\t\ttitle=\"خوش آمدید\"\n\t\t\t\tdescription=\"در اینجا سعی می کنیم که مرجعی برای دعاها، اذکار و اعمال عبادی رو جمع کنیم. به امید داشتن منبعی تقریبا کامل. این سایت و اطلاعات آن کد منبع آزاد بوده و رایگان است\"\n\t\t\t/>\n\t\t\t<main className=\"text-center\">\n\t\t\t\t<h2 className=\"fs-6\">بِسْمِ اللَّهِ الرَّحْمَٰنِ الرَّحِيمِ</h2>\n\t\t\t\t<br />\n\t\t\t\t<h1 className=\"fs-6\">\n\t\t\t\t\t<strong>به سایت دعاها و اذکار خوش آمدید</strong>\n\t\t\t\t</h1>\n\t\t\t\t<p className=\"text-start\">\n\t\t\t\t\tدر اینجا سعی می کنیم که مرجعی برای دعاها، اذکار و اعمال عبادی رو جمع کنیم. به امید داشتن منبعی تقریبا کامل.\n\t\t\t\t\tاین سایت و اطلاعات آن کد منبع آزاد بوده و رایگان است و از{' '}\n\t\t\t\t\t<a href=\"https://github.com/salarcode/myzekr\" target=\"_blank\" rel=\"noopener noreferrer nofollow\">\n\t\t\t\t\t\t<img src=\"https://github.githubassets.com/pinned-octocat.svg\" alt=\"github\" className=\"icon-13 m-1\" />\n\t\t\t\t\t\tاینجا &nbsp;\n\t\t\t\t\t</a>\n\t\t\t\t\tقابل دریافت است.\n\t\t\t\t\t<br />\n\t\t\t\t\tمحتاج دعای شما عزیزان.\n\t\t\t\t\t<br />\n\t\t\t\t\tتقدیم به امیرالمؤمنین مولا امام علی علیه السلام.\n\t\t\t\t</p>\n\t\t\t\t<BackButton doNotShowButton={true} />\n\t\t\t</main>\n\t\t\t<section className=\"main-section main-search-bar\">\n\t\t\t\t<div className=\"input-group input-group-sm search-input\">\n\t\t\t\t\t<input\n\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\taria-describedby=\"homepage-search-input\"\n\t\t\t\t\t\tplaceholder=\"جستجو در میان اذکار\"\n\t\t\t\t\t\tdata-bs-toggle=\"modal\"\n\t\t\t\t\t\tdata-bs-target=\"#site-search-modal\"\n\t\t\t\t\t/>\n\t\t\t\t\t<button\n\t\t\t\t\t\tclassName=\"btn btn-outline-secondary button-icon\"\n\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\tid=\"homepage-search-input\"\n\t\t\t\t\t\tdata-bs-toggle=\"modal\"\n\t\t\t\t\t\tdata-bs-target=\"#site-search-modal\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<span role=\"img\">🔍</span>\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t</section>\n\t\t\t<section className=\"main-section\">\n\t\t\t\t<h3 className=\"main-section-title\">\n\t\t\t\t\t<span>⭐</span>\n\t\t\t\t\tانتخاب دسته بندی دعا ها\n\t\t\t\t</h3>\n\t\t\t\t<div className=\"\">\n\t\t\t\t\t<CategoryContainer />\n\t\t\t\t</div>\n\t\t\t</section>\n\t\t\t<ZekrListFavorites sectionTitle=\"⭐ لیست علاقه مندی هایتان\" />\n\t\t</div>\n\t);\n};\n","import React, { FC, Fragment } from 'react';\n\ninterface Props {\n\tcondition: boolean;\n}\n\nexport const Conditional: FC<Props> = ({ condition, children }) => {\n\treturn <Fragment>{condition && children}</Fragment>;\n};\n","import './DiacriticsText.scss';\nimport React, { CSSProperties, FC } from 'react';\n\ninterface Props {\n\tunsafeHtmlText: string;\n\tstyles?: CSSProperties;\n\tcolouredDiacritics?: boolean;\n\tlanguageKey?: string;\n}\n\nfunction removeAccent(str: string): string {\n\tif (!str) return str;\n\tvar diacritics = ['ً', 'ٌ', 'ٍ', 'َ', 'ُ', 'ِ', 'ّ', 'ْ', '\\u0670'];\n\n\tvar result = '';\n\tfor (let index = 0; index < str.length; index++) {\n\t\tconst c = str[index];\n\t\tif (diacritics.indexOf(c) === -1) result += c;\n\t\telse {\n\t\t\t// keeping tashdid on allah word\n\t\t\tif (\n\t\t\t\tc === 'ّ' /* tashdid */ &&\n\t\t\t\tfindNonAccentChar(str, index, -1) === 'ل' &&\n\t\t\t\tfindNonAccentChar(str, index, +1) === 'ه'\n\t\t\t) {\n\t\t\t\tresult += c;\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction findNonAccentChar(str: string, index: number, searchStep: number): string | undefined {\n\t\tindex += searchStep;\n\n\t\twhile (str.length > index || index < 0) {\n\t\t\tconst c = str[index];\n\t\t\tif (diacritics.indexOf(c) === -1) return c;\n\n\t\t\tindex += searchStep;\n\t\t}\n\t\treturn undefined;\n\t}\n\n\treturn result;\n}\n\n/**\n * Display accent chars in different color\n * @param param0 the html text\n */\nexport const DiacriticsText: FC<Props> = ({ unsafeHtmlText, styles, colouredDiacritics, languageKey }) => {\n\tif (colouredDiacritics)\n\t\treturn (\n\t\t\t<div className=\"diacritics-text\" style={styles} lang={languageKey}>\n\t\t\t\t<div\n\t\t\t\t\tclassName=\"diacritics-org\"\n\t\t\t\t\tdangerouslySetInnerHTML={{\n\t\t\t\t\t\t__html: unsafeHtmlText,\n\t\t\t\t\t}}\n\t\t\t\t></div>\n\t\t\t\t<div\n\t\t\t\t\tclassName=\"diacritics-plain no-pointer-events\"\n\t\t\t\t\tdangerouslySetInnerHTML={{\n\t\t\t\t\t\t__html: removeAccent(unsafeHtmlText),\n\t\t\t\t\t}}\n\t\t\t\t></div>\n\t\t\t</div>\n\t\t);\n\telse\n\t\treturn (\n\t\t\t<div className=\"diacritics-text\" style={styles} lang={languageKey}>\n\t\t\t\t<div\n\t\t\t\t\tclassName=\"diacritics-simple\"\n\t\t\t\t\tdangerouslySetInnerHTML={{\n\t\t\t\t\t\t__html: unsafeHtmlText,\n\t\t\t\t\t}}\n\t\t\t\t></div>\n\t\t\t</div>\n\t\t);\n};\n","import './ZekrBodyText.scss';\nimport React, { FC, useState } from 'react';\nimport { AppSettings } from '../../services/Settings/models/AppSettings';\nimport { ZekrBody } from '../../services/Zekr/models/ZekrBody';\nimport { Conditional } from '../Conditional/Conditional';\nimport { DiacriticsText } from '../DiacriticsText/DiacriticsText';\n\ninterface Props {\n\tbody: ZekrBody | undefined;\n\tlineSeparator?: boolean;\n\tsettings?: AppSettings;\n}\n\nexport const ZekrBodyText: FC<Props> = ({ body, lineSeparator = true, settings }) => {\n\tconst useDiacriticsTextLang = 'ar';\n\tconst [displayOptional, setDisplayOptional] = useState(body?.optional ?? false);\n\n\tif (!body) return null;\n\n\tlet textCss = {};\n\tlet textTranslationCss = {};\n\n\tif (settings) {\n\t\ttextCss = {\n\t\t\tfontFamily: settings.textSettings.bodyFont,\n\t\t\tfontSize: settings.textSettings.bodyFontSize,\n\t\t};\n\t\ttextTranslationCss = {\n\t\t\tfontFamily: settings.textSettings.alternateBodyFont,\n\t\t\tfontSize: settings.textSettings.alternateBodyFontSize,\n\t\t};\n\t}\n\tfunction optionalButtonClick() {\n\t\tsetDisplayOptional(false);\n\t}\n\tconst displayTranslation = body.translationBody != null && settings?.enableTranslations === true;\n\n\treturn (\n\t\t<div className=\"zekr-body\">\n\t\t\t{displayOptional && (\n\t\t\t\t<button type=\"button\" className=\"btn btn-sm btn-outline-success\" onClick={optionalButtonClick}>\n\t\t\t\t\t{body.optionalText || '...'}\n\t\t\t\t</button>\n\t\t\t)}\n\t\t\t<div\n\t\t\t\tclassName={\n\t\t\t\t\tsettings?.textSettings.stackedZekrBody && displayTranslation\n\t\t\t\t\t\t? 'zekr-body-wrapper zekr-body-stacked'\n\t\t\t\t\t\t: 'zekr-body-wrapper'\n\t\t\t\t}\n\t\t\t\tstyle={displayOptional ? { display: 'none' } : {}}\n\t\t\t>\n\t\t\t\t<div className={displayTranslation ? 'zekr-body-translation-source' : ''}>\n\t\t\t\t\t{body.languageKey === useDiacriticsTextLang ? (\n\t\t\t\t\t\t<DiacriticsText\n\t\t\t\t\t\t\tunsafeHtmlText={body.body}\n\t\t\t\t\t\t\tstyles={textCss}\n\t\t\t\t\t\t\tcolouredDiacritics={settings?.colouredDiacritics}\n\t\t\t\t\t\t\tlanguageKey={body.languageKey}\n\t\t\t\t\t\t/>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tclassName=\"zekr-body-text\"\n\t\t\t\t\t\t\tstyle={textTranslationCss}\n\t\t\t\t\t\t\tlang={body.languageKey}\n\t\t\t\t\t\t\tdangerouslySetInnerHTML={{\n\t\t\t\t\t\t\t\t__html: body.body,\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t/>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t\t<Conditional condition={displayTranslation}>\n\t\t\t\t\t<div className=\"zekr-body-alternative zekr-body-translation\">\n\t\t\t\t\t\t<ZekrBodyText body={body.translationBody} lineSeparator={false} settings={settings} />\n\t\t\t\t\t</div>\n\t\t\t\t</Conditional>\n\t\t\t\t<Conditional condition={body.alternateBodyList != null && body.alternateBodyList.length > 0}>\n\t\t\t\t\t<div className=\"zekr-body-alternative\">\n\t\t\t\t\t\t{body.alternateBodyList?.map((altBody, index) => (\n\t\t\t\t\t\t\t<ZekrBodyText body={altBody} lineSeparator={false} key={index} settings={settings} />\n\t\t\t\t\t\t))}\n\t\t\t\t\t</div>\n\t\t\t\t</Conditional>\n\t\t\t</div>\n\t\t\t{lineSeparator && <hr className=\"zekr-line zekr-body-line \" />}\n\t\t</div>\n\t);\n};\n","import './CategoryList.scss';\nimport { Fragment } from 'react';\nimport { FC } from 'react';\nimport { ZekrCategory } from '../../services/Zekr/models/ZekrCategory';\nimport StarImage from '../../assets-offline/icons/star.svg';\n\ninterface Props {\n\tcategory: ZekrCategory;\n}\n\nexport const CategoryListSmallIcon: FC<Props> = ({ category }) => {\n\treturn (\n\t\t<Fragment>\n\t\t\t{category.iconClass ? (\n\t\t\t\t<i className={(category.iconClass || 'fa fa-search') + ' button-icon'} />\n\t\t\t) : category.imageUrl ? (\n\t\t\t\t<img className=\"icon-16 button-icon mx-1\" src={'/assets/icons/' + category.imageUrl} alt={category.title} />\n\t\t\t) : (\n\t\t\t\t<img className=\"icon-16 button-icon mx-1\" src={StarImage} alt={category.title} />\n\t\t\t)}\n\t\t</Fragment>\n\t);\n};\n","/**\n * Detects and add `position-sticky` class to the element.\n * IMPORTANT: top or bottom should be -1px\n * @param elementSelector\n * @returns\n */\nexport function detectPositionSticky(elementSelector: string) {\n\tconst stickyElm = document.querySelector(elementSelector);\n\tif (!stickyElm) return;\n\n\tconst observer = new IntersectionObserver(([e]) => e.target.classList.toggle('position-sticky', e.intersectionRatio < 1), {\n\t\tthreshold: [1],\n\t});\n\tobserver.observe(stickyElm);\n}\n","export default __webpack_public_path__ + \"static/media/add-favourite.f4120f70.svg\";","import './BookmarkZekrButton.scss';\nimport { FC, Fragment, useEffect } from 'react';\nimport { Zekr } from '../../services/Zekr/models/Zekr';\nimport { connect } from 'react-redux';\nimport { ThunkDispatch } from 'redux-thunk';\nimport { AppState } from '../../store/store';\nimport { AppSettings } from '../../services/Settings/models/AppSettings';\nimport { readSettingsActionCreator, saveSettingsActionCreator } from '../../store/Actions/SettingsActions';\nimport { AnyAction } from 'redux';\nimport { enableBootstrapToast } from '../../common/EnableBootstrapToast';\nimport ArrowUpImage from '../../assets-offline/icons/add-favourite.svg';\n\ninterface Props {\n\tzekr: Zekr;\n\tsettings?: AppSettings;\n\tsettingsLoading: boolean;\n\tsaveSettings: (settings: AppSettings) => void;\n}\n\n// variable is used because saveSettings is resetting the bookmark value\nvar bookmarked = false;\n\nconst BookmarkZekrButton: FC<Props> = ({ zekr, settingsLoading, settings, saveSettings }) => {\n\tuseEffect(() => {\n\t\t// reset Bookmarked value once!\n\t\tbookmarked = false;\n\t}, []);\n\n\tfunction displayToast(message: string) {\n\t\tvar bodyElm = document.querySelector<HTMLElement>('#bookmark-zekr-button-toast .toast-body');\n\t\tif (bodyElm) {\n\t\t\tbodyElm.innerText = message;\n\t\t}\n\n\t\tenableBootstrapToast('bookmark-zekr-button-toast');\n\t}\n\n\tfunction onBookmarkClick(e: any) {\n\t\te.preventDefault();\n\t\tif (!settings) return;\n\n\t\t//settings.bookmarks\n\t\tif (settings.userFavorites == null) {\n\t\t\tsettings.userFavorites = [];\n\t\t}\n\n\t\tvar existing = settings.userFavorites.find((f) => f.zekrUid == zekr.uid);\n\t\tif (existing) {\n\t\t\tdisplayToast('این صفحه قبلا در لیست علاقه مندی ها وجود دارد');\n\t\t\treturn;\n\t\t} else {\n\t\t\tsettings.userFavorites.push({\n\t\t\t\tzekrUid: zekr.uid,\n\t\t\t});\n\t\t}\n\n\t\tbookmarked = true;\n\t\tsaveSettings(settings);\n\n\t\tsetTimeout(() => {\n\t\t\tdisplayToast('به لیست علاقه مندی ها اضافه شد');\n\t\t}, 400);\n\t}\n\n\treturn (\n\t\t<Fragment>\n\t\t\t<div\n\t\t\t\tid=\"bookmark-zekr-button-toast\"\n\t\t\t\tclassName=\"hide toast align-items-center text-white bg-success border-0 position-fixed bottom-0 start-50  translate-middle-x\"\n\t\t\t\trole=\"alert\"\n\t\t\t\taria-live=\"assertive\"\n\t\t\t\taria-atomic=\"true\"\n\t\t\t>\n\t\t\t\t<div className=\"d-flex\">\n\t\t\t\t\t<div className=\"toast-body\">به لیست علاقه مندی ها اضافه شد</div>\n\t\t\t\t\t<button\n\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\tclassName=\"btn-close btn-close-white me-2 m-auto\"\n\t\t\t\t\t\tdata-bs-dismiss=\"toast\"\n\t\t\t\t\t\taria-label=\"Close\"\n\t\t\t\t\t></button>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t{settings && (\n\t\t\t\t<a href=\"#bookmark\" onClick={onBookmarkClick}>\n\t\t\t\t\t<img src={ArrowUpImage} alt=\"❤\" className={'icon-28 ' + (bookmarked ? 'animate-bookmark-button' : '')} />\n\t\t\t\t</a>\n\t\t\t)}\n\t\t</Fragment>\n\t);\n};\n\nconst mapStateToProps = (store: AppState) => {\n\treturn {\n\t\tsettings: store.settingsState.settings,\n\t\tsettingsLoading: store.settingsState.loading,\n\t};\n};\nconst mapDispatchToProps = (dispatch: ThunkDispatch<any, any, AnyAction>) => {\n\treturn {\n\t\treadSettings: () => dispatch(readSettingsActionCreator()),\n\t\tsaveSettings: (settings: AppSettings) => dispatch(saveSettingsActionCreator(settings)),\n\t};\n};\nexport default connect(mapStateToProps, mapDispatchToProps)(BookmarkZekrButton);\n","export function enableBootstrapToast(id) {\n\tvar bootstrap = window['bootstrap'];\n\n\tvar toastEl = document.getElementById(id);\n\tvar toast = new bootstrap.Toast(toastEl, {});\n\ttoast.show();\n\treturn toast;\n}\nexport function enableBootstrapToastAll() {\n\tvar bootstrap = window['bootstrap'];\n\n\tvar toastElList = [].slice.call(document.querySelectorAll('.toast'));\n\tvar toastList = toastElList.map(function (toastEl) {\n\t\t// showing the toast\n\t\treturn new bootstrap.Toast(toastEl, {});\n\t});\n\treturn toastList;\n}\n","export function toPersianNumber(num: number): string {\n\treturn num.toLocaleString('fa', { useGrouping: false });\n}\n","import './ZekrCounterComponent.scss';\nimport React, { FC, useEffect, useState } from 'react';\nimport { ZekrCounter } from '../../services/Zekr/models/ZekrCounter';\nimport { toPersianNumber } from '../../common/helpers/numbers';\nimport { getNewUid } from '../../common/helpers/uid';\n\ninterface Props {\n\tzekrCounts?: ZekrCounter[];\n\tonCloseRequested?: () => void;\n}\n\ninterface CountsDetail extends ZekrCounter {\n\tid: string;\n\tpassed?: number;\n}\n\nvar zekrClickStatus = false;\nvar zekrVibrateWarmed = false;\n\nexport const ZekrCounterComponent: FC<Props> = ({ zekrCounts, onCloseRequested }) => {\n\tlet [count, setCount] = useState<number>(0);\n\tconst [countHistory, setCountHistory] = useState<number[]>([]);\n\tconst [activeCountsDetail, setActiveCountsDetail] = useState<CountsDetail | undefined>(undefined);\n\tconst [zekrCountsDetails, setZekrCountsDetails] = useState<CountsDetail[]>([]);\n\n\tuseEffect(() => {\n\t\tif (zekrCounts) {\n\t\t\tvar arr = [];\n\t\t\tfor (const c of zekrCounts) {\n\t\t\t\tarr.push({\n\t\t\t\t\tcount: c.count,\n\t\t\t\t\tname: c.name,\n\t\t\t\t\tpassed: 0,\n\t\t\t\t\tid: getNewUid(),\n\t\t\t\t});\n\t\t\t}\n\t\t\tsetZekrCountsDetails(arr);\n\t\t}\n\t}, [zekrCounts]);\n\n\tfunction onCloseClick() {\n\t\tif (onCloseRequested) onCloseRequested();\n\t}\n\n\tfunction onTouchStart(e: any) {\n\t\tzekrClickStatus = true;\n\t\tincreaseCount();\n\t}\n\tfunction onMouseDown(e: any) {\n\t\tif (zekrClickStatus) return;\n\n\t\tzekrClickStatus = true;\n\t\tincreaseCount();\n\t}\n\tfunction onClick(e: any) {\n\t\tif (!zekrClickStatus) {\n\t\t\tincreaseCount();\n\t\t}\n\n\t\tzekrClickStatus = false;\n\t}\n\n\tfunction increaseCount() {\n\t\tvar batchStatus = increaseCountBatch();\n\n\t\tsetCount(count + 1);\n\t\tcount += 1;\n\n\t\tif (batchStatus.resetCount) {\n\t\t\tdebugger;\n\t\t\tresetCount(true);\n\t\t}\n\t\tif (!batchStatus.isVibrated) {\n\t\t\tvibrateShort();\n\t\t}\n\t}\n\tfunction decreaseCount() {\n\t\tdecreaseCountBatch();\n\t\tsetCount(count - 1);\n\t\tcount -= 1;\n\n\t\tvibrateLong();\n\t}\n\n\tfunction resetCount(dontVibrate?: boolean) {\n\t\tif (count) countHistory.push(count);\n\t\tresetCountBatch();\n\t\tsetCount(0);\n\t\tcount = 0;\n\n\t\tif (dontVibrate !== true) {\n\t\t\tvibrateLong();\n\t\t}\n\t}\n\n\tfunction increaseCountBatch(): {\n\t\tisVibrated: boolean;\n\t\tresetCount: boolean;\n\t} {\n\t\tif (!activeCountsDetail)\n\t\t\treturn {\n\t\t\t\tisVibrated: false,\n\t\t\t\tresetCount: false,\n\t\t\t};\n\t\tif (activeCountsDetail.passed) {\n\t\t\tactiveCountsDetail.passed++;\n\t\t} else {\n\t\t\tactiveCountsDetail.passed = 1;\n\t\t}\n\n\t\tif (activeCountsDetail.passed >= activeCountsDetail.count) {\n\t\t\tselectNextCountDetails();\n\n\t\t\tvibrateLonger();\n\t\t\treturn {\n\t\t\t\tisVibrated: true,\n\t\t\t\tresetCount: true,\n\t\t\t};\n\t\t}\n\t\treturn {\n\t\t\tisVibrated: false,\n\t\t\tresetCount: false,\n\t\t};\n\t}\n\tfunction decreaseCountBatch() {\n\t\tif (!activeCountsDetail) return;\n\t\tif (activeCountsDetail.passed) {\n\t\t\tactiveCountsDetail.passed--;\n\n\t\t\tif (activeCountsDetail.passed <= 0) {\n\t\t\t\tactiveCountsDetail.passed = undefined;\n\t\t\t}\n\t\t}\n\t}\n\tfunction resetCountBatch() {\n\t\tif (!activeCountsDetail) return;\n\t\tactiveCountsDetail.passed = undefined;\n\t}\n\n\tfunction selectNextCountDetails() {\n\t\tif (!activeCountsDetail) return;\n\t\tdebugger;\n\t\tlet foundIndex = -1;\n\t\tfor (let index = 0; index < zekrCountsDetails.length; index++) {\n\t\t\tconst c = zekrCountsDetails[index];\n\t\t\tif (c.id === activeCountsDetail.id) {\n\t\t\t\tfoundIndex = index;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\tif (foundIndex >= 0) {\n\t\t\tif (foundIndex + 1 > zekrCountsDetails.length) {\n\t\t\t\tsetActiveCountsDetail(undefined);\n\t\t\t} else {\n\t\t\t\tsetActiveCountsDetail(zekrCountsDetails[foundIndex + 1]);\n\t\t\t}\n\t\t} else {\n\t\t\tsetActiveCountsDetail(undefined);\n\t\t}\n\t}\n\n\tfunction clearHistory() {\n\t\tsetCountHistory([]);\n\t\tvibrateLong();\n\t}\n\n\tfunction vibrateShort() {\n\t\tif ('vibrate' in navigator) {\n\t\t\tnavigator.vibrate(60);\n\t\t}\n\t}\n\tfunction vibrateLong() {\n\t\tif ('vibrate' in navigator) {\n\t\t\tnavigator.vibrate(200);\n\t\t}\n\t}\n\tfunction vibrateLonger() {\n\t\tif ('vibrate' in navigator) {\n\t\t\tnavigator.vibrate(350);\n\t\t}\n\t}\n\n\tfunction vibrateWarmup() {\n\t\tif (zekrVibrateWarmed) return;\n\n\t\tif ('vibrate' in navigator) {\n\t\t\tnavigator.vibrate(1);\n\t\t}\n\t\tzekrVibrateWarmed = true;\n\t}\n\tvibrateWarmup();\n\n\tfunction onClickCounts(e: React.MouseEvent, counterDetail?: CountsDetail) {\n\t\tif (counterDetail) {\n\t\t\tcounterDetail.passed = undefined;\n\t\t}\n\t\tsetActiveCountsDetail(counterDetail);\n\t}\n\n\treturn (\n\t\t<div className=\"zekr-counter-box\">\n\t\t\t<div className=\"count\">شمارش: {toPersianNumber(count ? count : 0)}</div>\n\t\t\t<button\n\t\t\t\ttype=\"button\"\n\t\t\t\tclassName=\"counter-button button-contained\"\n\t\t\t\tonTouchStart={onTouchStart}\n\t\t\t\tonMouseDown={onMouseDown}\n\t\t\t\tonClick={onClick}\n\t\t\t>\n\t\t\t\tافزایش شمارنده\n\t\t\t</button>\n\t\t\t{onCloseRequested && <button onClick={onCloseClick} type=\"button\" className=\"btn-close text-reset\"></button>}\n\t\t\t<hr />\n\t\t\t{zekrCountsDetails.length > 0 && (\n\t\t\t\t<div className=\"zekr-defined-counts mb-2\">\n\t\t\t\t\t<div\n\t\t\t\t\t\tclassName={'badge border-1 rounded-pill text-secondary ' + (activeCountsDetail == null ? 'active' : '')}\n\t\t\t\t\t\tonClick={(e) => onClickCounts(e, undefined)}\n\t\t\t\t\t>\n\t\t\t\t\t\tشمارشگر: بدون دسته\n\t\t\t\t\t</div>\n\t\t\t\t\t{zekrCountsDetails?.map((counter, i) => (\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tkey={counter.id}\n\t\t\t\t\t\t\tclassName={\n\t\t\t\t\t\t\t\t'badge border-1 border-primary rounded-pill bg-lightX text-secondary ' +\n\t\t\t\t\t\t\t\t(counter.id === activeCountsDetail?.id ? 'active' : '')\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tonClick={(e) => onClickCounts(e, counter)}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<strong className=\"text-black\">\n\t\t\t\t\t\t\t\t{counter.passed\n\t\t\t\t\t\t\t\t\t? toPersianNumber(counter.passed) + '/' + toPersianNumber(counter.count)\n\t\t\t\t\t\t\t\t\t: toPersianNumber(counter.count)}\n\t\t\t\t\t\t\t</strong>{' '}\n\t\t\t\t\t\t\t{counter.name}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t))}\n\t\t\t\t</div>\n\t\t\t)}\n\t\t\t<div>\n\t\t\t\t<button className=\"button-outlined\" onClick={decreaseCount}>\n\t\t\t\t\tکاهش\n\t\t\t\t</button>\n\t\t\t\t&nbsp;\n\t\t\t\t<button className=\"button-outlined\" onClick={() => resetCount()}>\n\t\t\t\t\tاز ابتدا\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t\t<div className=\"history mb-2\">\n\t\t\t\t{countHistory?.length > 0 && (\n\t\t\t\t\t<div>\n\t\t\t\t\t\t{countHistory?.map((c, i) => <div key={i}>شمارش: {toPersianNumber(c)}</div>).reverse()}\n\t\t\t\t\t\t<button className=\"button-outlined mt-2\" onClick={clearHistory}>\n\t\t\t\t\t\t\tحذف تاریخچه\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n","export function getNewUid(): string {\n\treturn 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {\n\t\tvar r = (Math.random() * 16) | 0,\n\t\t\tv = c === 'x' ? r : (r & 0x3) | 0x8;\n\t\treturn v.toString(16);\n\t});\n}\n","import './ZekrInlineCounter.scss';\nimport { FC } from 'react';\nimport { ZekrCounter } from '../../services/Zekr/models/ZekrCounter';\nimport { ZekrCounterComponent } from '../../components/ZekrCounter/ZekrCounterComponent';\n\ninterface Props {\n\tzekrCounts?: ZekrCounter[];\n\tonCloseRequested?: () => void;\n}\n\nexport const ZekrInlineCounter: FC<Props> = ({ zekrCounts, onCloseRequested }) => {\n\treturn (\n\t\t<div className=\"zekr-counter-inline\">\n\t\t\t<ZekrCounterComponent zekrCounts={zekrCounts} onCloseRequested={onCloseRequested} />\n\t\t</div>\n\t);\n};\n","export default __webpack_public_path__ + \"static/media/add.cf18676f.svg\";","export default __webpack_public_path__ + \"static/media/remove.9c6ce992.svg\";","import { FC, Fragment } from 'react';\nimport { connect } from 'react-redux';\nimport { ThunkDispatch } from 'redux-thunk';\nimport { AppState } from '../../store/store';\nimport { AppSettings } from '../../services/Settings/models/AppSettings';\nimport { readSettingsActionCreator, saveSettingsActionCreator } from '../../store/Actions/SettingsActions';\nimport { AnyAction } from 'redux';\nimport AddImage from '../../assets-offline/icons/add.svg';\nimport RemoveImage from '../../assets-offline/icons/remove.svg';\n\ninterface Props {\n\tsettings?: AppSettings;\n\tsettingsLoading: boolean;\n\tsaveSettings: (settings: AppSettings) => void;\n}\n\nconst TextZoomButtons: FC<Props> = ({ settingsLoading, settings, saveSettings }) => {\n\tfunction saveChanges() {\n\t\tif (settings) saveSettings(settings);\n\t}\n\tconst fontUnit = 'rem';\n\n\tfunction onAddClick(e: any) {\n\t\te.preventDefault();\n\t\tif (!settings) return;\n\n\t\tvar fontSize = parseFloat(settings.textSettings.bodyFontSize);\n\t\tvar alternateFontSize = parseFloat(settings.textSettings.alternateBodyFontSize);\n\n\t\tfontSize += 0.1;\n\t\talternateFontSize += 0.1;\n\t\tif (fontSize > 3.3 || alternateFontSize > 3.3) {\n\t\t\treturn;\n\t\t}\n\t\tsettings.textSettings.bodyFontSize = fontSize + fontUnit;\n\t\tsettings.textSettings.alternateBodyFontSize = alternateFontSize + fontUnit;\n\t\tsaveChanges();\n\t}\n\n\tfunction onRemoveClick(e: any) {\n\t\te.preventDefault();\n\t\tif (!settings) return;\n\n\t\tvar fontSize = parseFloat(settings.textSettings.bodyFontSize);\n\t\tvar alternateFontSize = parseFloat(settings.textSettings.alternateBodyFontSize);\n\n\t\tfontSize -= 0.1;\n\t\talternateFontSize -= 0.1;\n\t\tif (fontSize < 0.5 || alternateFontSize < 0.5) {\n\t\t\treturn;\n\t\t}\n\n\t\tsettings.textSettings.bodyFontSize = fontSize + fontUnit;\n\t\tsettings.textSettings.alternateBodyFontSize = alternateFontSize + fontUnit;\n\t\tsaveChanges();\n\t}\n\treturn (\n\t\t<Fragment>\n\t\t\t<a href=\"#add\" onClick={onAddClick}>\n\t\t\t\t<img src={AddImage} alt=\"+\" className=\"icon-24 link-image\" />\n\t\t\t\t{/* <i className=\"fas fa-minus-circle fa-lg\"></i> */}\n\t\t\t</a>\n\t\t\t<a href=\"#remove\" onClick={onRemoveClick}>\n\t\t\t\t<img src={RemoveImage} alt=\"-\" className=\"icon-24 link-image\" />\n\t\t\t\t{/* <i className=\"fas fa-plus-circle fa-lg\"></i> */}\n\t\t\t</a>\n\t\t</Fragment>\n\t);\n};\n\nconst mapStateToProps = (store: AppState) => {\n\treturn {\n\t\tsettings: store.settingsState.settings,\n\t\tsettingsLoading: store.settingsState.loading,\n\t};\n};\nconst mapDispatchToProps = (dispatch: ThunkDispatch<any, any, AnyAction>) => {\n\treturn {\n\t\treadSettings: () => dispatch(readSettingsActionCreator()),\n\t\tsaveSettings: (settings: AppSettings) => dispatch(saveSettingsActionCreator(settings)),\n\t};\n};\nexport default connect(mapStateToProps, mapDispatchToProps)(TextZoomButtons);\n","export default __webpack_public_path__ + \"static/media/arrow-up.41a73bdc.svg\";","import { FC } from 'react';\nimport './ScrollTop.scss';\nimport ArrowUpImage from '../../assets-offline/icons/arrow-up.svg';\n\nexport const ScrollTop: FC = () => {\n\tfunction onScrollClick(e: any) {\n\t\tif (e) e.preventDefault();\n\n\t\twindow.scrollTo({ top: 0, behavior: 'smooth' });\n\t}\n\twindow.addEventListener('scroll', function (e) {\n\t\tvar elem = document.getElementById('scroll-back-to-top');\n\t\tif (!elem) return;\n\n\t\tif (window.scrollY > 300) {\n\t\t\t//elem.classList.remove('hidden');\n\t\t\t//elem.classList.remove('opacity-0');\n\t\t\tfadeIn(elem);\n\t\t} else {\n\t\t\t//elem.classList.add('opacity-0');\n\t\t\tfadeOut(elem);\n\n\t\t\t// this.setTimeout(() => {\n\t\t\t// \tif (elem) elem.classList.add('hidden');\n\t\t\t// }, 500);\n\t\t}\n\t});\n\tfunction fadeOut(el: any) {\n\t\tel.style.opacity = 1;\n\n\t\t(function fade() {\n\t\t\tif ((el.style.opacity -= 0.1) < 0) {\n\t\t\t\tel.style.display = 'none';\n\t\t\t} else {\n\t\t\t\trequestAnimationFrame(fade);\n\t\t\t}\n\t\t})();\n\t}\n\tfunction fadeIn(el: any, display: string | undefined = undefined) {\n\t\tel.style.opacity = 0;\n\t\tel.style.display = display || 'block';\n\n\t\t(function fade() {\n\t\t\tvar val = parseFloat(el.style.opacity);\n\t\t\tvar proceed = (val += 0.1) > 1 ? false : true;\n\n\t\t\tif (proceed) {\n\t\t\t\tel.style.opacity = val;\n\t\t\t\trequestAnimationFrame(fade);\n\t\t\t}\n\t\t})();\n\t}\n\n\treturn (\n\t\t<a href=\"#top\" onClick={onScrollClick} id=\"scroll-back-to-top\" style={{ display: 'none' }}>\n\t\t\t<img src={ArrowUpImage} alt=\"⬆\" className=\"icon-28 link-image\" />\n\t\t</a>\n\t);\n};\n","export default __webpack_public_path__ + \"static/media/home.634b2b24.svg\";","export default __webpack_public_path__ + \"static/media/islam-star.e4eeb4f1.svg\";","import './ZekrVoicePlayer.scss';\nimport { ChangeEvent, FC, Fragment, useState } from 'react';\nimport ReactPlayer from 'react-player';\nimport { Zekr } from '../../services/Zekr/models/Zekr';\nimport { AppSettings } from '../../services/Settings/models/AppSettings';\nimport { getZekrVoiceFileUrl } from '../../services/Zekr/ZekrService';\nimport { ZekrVoice } from '../../services/Zekr/models/ZekrVoice';\n\ninterface Props {\n\tzekr: Zekr;\n\tsettings: AppSettings | undefined;\n}\n\nexport const ZekrVoicePlayer: FC<Props> = ({ zekr, settings }) => {\n\tlet [fileUrl, setFileUrl] = useState('');\n\tconst [voiceName, setVoiceName] = useState('');\n\tconst [playPosition, setPlayPosition] = useState(0);\n\tconst [playing, setPlaying] = useState(false);\n\tconst [player, setPlayer] = useState<ReactPlayer | undefined>();\n\tconst [played, setPlayed] = useState<string>('0:00');\n\tconst [duration, setDuration] = useState<string>('0:00');\n\tconst [error, setError] = useState<string>('');\n\tconst [buffering, setBuffering] = useState(false);\n\n\tif (zekr.zekrVoices && zekr.zekrVoices.length) {\n\t\tif (settings && settings.selectedVoices && settings.selectedVoices.length) {\n\t\t\tconst selectedVoice = settings.selectedVoices.find((v) => v.zekrUid === zekr.uid);\n\n\t\t\tif (selectedVoice && selectedVoice.voiceFile) {\n\t\t\t\tlet voice = zekr.zekrVoices.find((v) => v.file === selectedVoice.voiceFile);\n\n\t\t\t\tif (voice) {\n\t\t\t\t\tsetVoice(voice);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\tif (!fileUrl) {\n\t\tif (zekr.zekrVoices && zekr.zekrVoices.length) {\n\t\t\tlet voice = zekr.zekrVoices[0];\n\t\t\tsetVoice(voice);\n\t\t}\n\t}\n\tif (!fileUrl) {\n\t\t// do not render this component\n\t\treturn <Fragment></Fragment>;\n\t}\n\n\tfunction setVoice(voice: ZekrVoice) {\n\t\tif (!voice) return;\n\n\t\tfileUrl = getZekrVoiceFileUrl(voice.file);\n\t\tsetFileUrl(fileUrl);\n\t\tsetVoiceName(voice.name);\n\t}\n\n\tfunction onPLayerError() {\n\t\tif (window.navigator.onLine) {\n\t\t\tsetError('خطای دریافت صوت');\n\t\t} else {\n\t\t\tsetError('مشکل اتصال اینترنت');\n\t\t}\n\t\tsetBuffering(false);\n\t}\n\tfunction onPLayerReady(p: ReactPlayer) {\n\t\tsetPlayer(p);\n\t}\n\tfunction onPLayerDuration(duration: number) {\n\t\tvar seek = document.getElementById('playerSeek') as HTMLInputElement;\n\t\tseek.max = duration.toString();\n\t\tseek.min = '0';\n\t\tseek.value = '0';\n\t\tsetDuration(formatTime(duration));\n\t}\n\tfunction onPLayerStart() {\n\t\tsetPlaying(true);\n\t}\n\tfunction onPLayerPause() {\n\t\tsetPlaying(false);\n\t}\n\tfunction onPLayerEnded() {\n\t\tsetPlaying(false);\n\t}\n\tfunction onPLayerProgress(state: { played: number; playedSeconds: number; loaded: number; loadedSeconds: number }) {\n\t\tsetPlayPosition(state.playedSeconds);\n\t\tsetPlayed(formatTime(state.playedSeconds));\n\t}\n\tfunction playClick(e: React.MouseEvent<HTMLAnchorElement>) {\n\t\te?.preventDefault();\n\t\tsetPlaying(true);\n\t}\n\tfunction pauseClick(e: React.MouseEvent<HTMLAnchorElement>) {\n\t\te?.preventDefault();\n\t\tsetPlaying(false);\n\t}\n\tfunction onPlayChange(e: ChangeEvent<HTMLInputElement>) {\n\t\tlet position = +e.target.value;\n\t\tif (position > 0) {\n\t\t\tsetPlayPosition(position);\n\t\t\tsetPlayed(formatTime(position));\n\t\t\tplayer?.seekTo(position);\n\t\t\tsetPlaying(true);\n\t\t}\n\t}\n\tfunction onBuffering() {\n\t\tsetBuffering(true);\n\t}\n\tfunction onBufferingEnded() {\n\t\tsetBuffering(false);\n\t}\n\n\tfunction formatTime(seconds: number): string {\n\t\tconst h = Math.floor(seconds / 3600);\n\t\tconst m = Math.floor((seconds % 3600) / 60);\n\t\tconst s = Math.round(seconds % 60);\n\t\treturn [h, m > 9 ? m : h ? '0' + m : m || '0', s > 9 ? s : '0' + s].filter(Boolean).join(':');\n\t}\n\n\treturn (\n\t\t<div className=\"zekr-body-play-buttons voice-player\">\n\t\t\t<input\n\t\t\t\tvalue={playPosition}\n\t\t\t\tonChange={onPlayChange}\n\t\t\t\tonTouchStart={(e) => e.stopPropagation()}\n\t\t\t\tonTouchMove={(e) => e.stopPropagation()}\n\t\t\t\tonTouchEnd={(e) => e.stopPropagation()}\n\t\t\t\tonMouseDown={(e) => e.stopPropagation()}\n\t\t\t\ttype=\"range\"\n\t\t\t\tid=\"playerSeek\"\n\t\t\t\tclassName=\"range\"\n\t\t\t\tmax=\"100\"\n\t\t\t\tmin=\"0\"\n\t\t\t/>\n\t\t\t<div className=\"voice-player-times\">\n\t\t\t\t{buffering && <i className=\"fas fa-spinner fa-spin mx-2\"></i>}\n\t\t\t\t{error ? (\n\t\t\t\t\t<span className=\"text-danger\">{error}</span>\n\t\t\t\t) : (\n\t\t\t\t\t<span>\n\t\t\t\t\t\t{duration} / {played}\n\t\t\t\t\t</span>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t\t{voiceName && (\n\t\t\t\t<div className=\"voice-player-voice-name\">\n\t\t\t\t\t<a href=\"#voice\">\n\t\t\t\t\t\t<img src=\"/assets/icons/microphone.svg\" className=\"icon-20 link-image mx-1\" alt=\"🎤\" />\n\t\t\t\t\t\t{voiceName}\n\t\t\t\t\t</a>\n\t\t\t\t</div>\n\t\t\t)}\n\t\t\t<ReactPlayer\n\t\t\t\tonReady={onPLayerReady}\n\t\t\t\tonDuration={onPLayerDuration}\n\t\t\t\tonStart={onPLayerStart}\n\t\t\t\tonPause={onPLayerPause}\n\t\t\t\tonEnded={onPLayerEnded}\n\t\t\t\tonProgress={onPLayerProgress}\n\t\t\t\tonError={onPLayerError}\n\t\t\t\tonBuffer={onBuffering}\n\t\t\t\tonBufferEnd={onBufferingEnded}\n\t\t\t\twidth={0}\n\t\t\t\theight={0}\n\t\t\t\tplaying={playing}\n\t\t\t\turl={fileUrl}\n\t\t\t/>\n\t\t\t{playing && (\n\t\t\t\t<a href=\"#pause\" onClick={pauseClick}>\n\t\t\t\t\t<img src=\"/assets/icons/pause-button.png\" className=\"icon-28 link-image\" alt=\"⏸\" />\n\t\t\t\t</a>\n\t\t\t)}\n\t\t\t{!playing && (\n\t\t\t\t<a href=\"#play\" onClick={playClick}>\n\t\t\t\t\t<img src=\"/assets/icons/play-button.svg\" className=\"icon-28 link-image\" alt=\"▶\" />\n\t\t\t\t</a>\n\t\t\t)}\n\t\t\t{/* <a href=\"#voice\">\n\t\t\t\t<img src=\"/assets/icons/microphone.svg\" className=\"icon-20 link-image\" alt=\"🎤\" />\n\t\t\t</a> */}\n\t\t</div>\n\t);\n};\n","import './ZekrPage.scss';\nimport React, { FC, Fragment, useEffect, useState } from 'react';\nimport { Link, RouteComponentProps } from 'react-router-dom';\nimport { ErrorMessage, retryType } from '../../components/ErrorMessage/ErrorMessage';\nimport { Loading } from '../../components/Loading/Loading';\nimport { Zekr } from '../../services/Zekr/models/Zekr';\nimport { getZekrByUid, getZekrCategoryChainToTopByUid } from '../../services/Zekr/ZekrService';\nimport { ZekrBodyText } from '../../components/ZekrBodyText/ZekrBodyText';\nimport { ZekrCategory } from '../../services/Zekr/models/ZekrCategory';\nimport { AppState } from '../../store/store';\nimport { connect } from 'react-redux';\nimport { ThunkDispatch } from 'redux-thunk';\nimport { AnyAction } from 'redux';\nimport { AppSettings } from '../../services/Settings/models/AppSettings';\nimport { readSettingsActionCreator } from '../../store/Actions/SettingsActions';\nimport { CategoryListSmallIcon } from '../../containers/CategoryList/CategoryListSmallIcon';\nimport { BackButton } from '../../components/BackButton/BackButton';\nimport { detectPositionSticky } from '../../common/helpers/positionSticky';\nimport BookmarkZekrButton from '../../containers/BookmarkZekrButton/BookmarkZekrButton';\nimport { PageMeta } from '../../containers/PageMeta/PageMeta';\nimport { ZekrInlineCounter } from '../../containers/ZekrInlineCounter/ZekrInlineCounter';\nimport TextZoomButtons from '../../containers/TextZoomButtons/TextZoomButtons';\nimport { ScrollTop } from '../../components/ScrollTop/ScrollTop';\nimport HomeImage from '../../assets-offline/icons/home.svg';\nimport IslamStarImage from '../../assets-offline/icons/islam-star.svg';\nimport TasbihImage from '../../assets-offline/icons/tasbih.svg';\nimport { ZekrVoicePlayer } from '../../components/ZekrVoicePlayer/ZekrVoicePlayer';\n\ninterface params {\n\tzekrUid: string;\n}\n\ninterface Props extends RouteComponentProps<params> {\n\tsettings: AppSettings | undefined;\n\tsettingsLoading: boolean;\n\treadSettings: () => void;\n}\n\nconst ZekrPage: FC<Props> = ({ history, match, settings, settingsLoading, readSettings }) => {\n\tconst [zekr, setZekr] = useState<Zekr>();\n\tconst [loading, setLoading] = useState<boolean>(true);\n\tconst [categories, setCategories] = useState<ZekrCategory[] | undefined>();\n\tconst [benefitsOpen, setBenefitsOpen] = useState<any>();\n\tconst [voicePlayerOpen, setVoicePlayerOpen] = useState<boolean>(false);\n\tconst [zekrCounterVisible, setZekrCounterVisible] = useState(false);\n\n\tvar zekrUid = match.params.zekrUid;\n\n\tuseEffect(() => {\n\t\tasync function doGetZekr() {\n\t\t\tsetLoading(true);\n\n\t\t\tvar loadedZkr = await getZekrByUid(zekrUid).catch((err) => {\n\t\t\t\tconsole.warn('Failed to read zekr: ' + zekrUid, err);\n\t\t\t});\n\n\t\t\tif (loadedZkr) {\n\t\t\t\tlet loadedCategoryChain = await getZekrCategoryChainToTopByUid(loadedZkr.category).catch((err) => {\n\t\t\t\t\tconsole.warn('Failed to read ZekrCategory for zekr: ' + zekrUid, err);\n\t\t\t\t});\n\n\t\t\t\tif (loadedCategoryChain) {\n\t\t\t\t\tsetCategories(loadedCategoryChain);\n\t\t\t\t\tsetZekr(loadedZkr);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tsetLoading(false);\n\t\t}\n\t\tif (settings === null) {\n\t\t\treadSettings();\n\t\t}\n\t\tdoGetZekr();\n\n\t\tdetectPositionSticky('.sticky-inline-header');\n\t\tdetectPositionSticky('.zekr-body-play-buttons');\n\n\t\treturn closeZekrBenefits;\n\t}, [zekrUid, settings, readSettings]);\n\n\tfunction onReturnClick() {\n\t\tif (history.length > 2) {\n\t\t\thistory.goBack();\n\t\t} else if (categories && categories.length > 0) {\n\t\t}\n\t}\n\n\tfunction openZekrBenefits() {\n\t\tsetBenefitsOpen(document.getElementById('zekr-benefits-dialog'));\n\t}\n\tfunction closeZekrBenefits() {\n\t\tif (benefitsOpen) {\n\t\t\tbenefitsOpen.modal('hide');\n\t\t}\n\t\tvar backdrop = document.getElementsByClassName('modal-backdrop');\n\t\tfor (let index = 0; index < backdrop.length; index++) {\n\t\t\tbackdrop[index].remove();\n\t\t}\n\t\tvar body = document.getElementsByTagName('body')[0];\n\t\tbody.className = (body.className || '').replace('modal-open', '');\n\t\tbody.setAttribute('style', '');\n\t}\n\n\tfunction onShowZekrCounter(e: React.MouseEvent<HTMLAnchorElement>) {\n\t\te?.preventDefault();\n\t\tsetZekrCounterVisible(true);\n\t}\n\tfunction onCloseZekrCounter() {\n\t\tsetZekrCounterVisible(false);\n\t}\n\tfunction onVoicePlayerOpen(e: React.MouseEvent<HTMLAnchorElement>) {\n\t\te?.preventDefault();\n\t\tsetVoicePlayerOpen(true);\n\t}\n\tfunction onVoicePlayerClose(e: React.MouseEvent<HTMLAnchorElement>) {\n\t\te?.preventDefault();\n\t\tsetVoicePlayerOpen(false);\n\t}\n\n\tlet benefitsCss = {};\n\n\tif (settings) {\n\t\tbenefitsCss = {\n\t\t\tfontSize: settings.textSettings.benefitsFontSize,\n\t\t};\n\t}\n\tvar showZekrCounter = zekr?.showZekrCounter || false;\n\n\tconst zekrBenefitsDialog = () => (\n\t\t<div\n\t\t\tclassName=\"modal fade hide zekr-benefits-container\"\n\t\t\tid=\"zekr-benefits-dialog\"\n\t\t\ttabIndex={-1}\n\t\t\taria-labelledby=\"zekr-benefits-dialog-title\"\n\t\t\taria-hidden=\"true\"\n\t\t>\n\t\t\t<div className=\"modal-dialog modal-lg modal-dialog-centered modal-dialog-scrollable\">\n\t\t\t\t<div className=\"modal-content\">\n\t\t\t\t\t<div className=\"modal-header\">\n\t\t\t\t\t\t<div className=\"modal-title fw-bold\" id=\"zekr-benefits-dialog-title\">\n\t\t\t\t\t\t\t{'فضیلت ' + zekr?.fullName}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<button type=\"button\" className=\"btn-close\" data-bs-dismiss=\"modal\"></button>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"modal-body\">\n\t\t\t\t\t\t<div className=\"zekr-body-container\">\n\t\t\t\t\t\t\t{zekr?.benefits?.map((body, index) => (\n\t\t\t\t\t\t\t\t<ZekrBodyText settings={settings} key={index} body={body} />\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n\n\tfunction getPageTitle(zekr: Zekr): string {\n\t\tif (!zekr) return '';\n\n\t\tvar title = zekr?.metaTitle || zekr?.fullName || '';\n\t\tif (title.length < 60 && zekr.zekrVoices?.length > 0) {\n\t\t\tconst suffix = ' (متنی و صوتی)';\n\t\t\tif (title.length + suffix.length > 60) {\n\t\t\t\ttitle += ` (صوتی)`;\n\t\t\t} else {\n\t\t\t\ttitle += suffix;\n\t\t\t}\n\t\t}\n\t\tif (title.length < 60) {\n\t\t\tif (categories && categories.length > 0) {\n\t\t\t\ttitle += ' - ' + categories[categories.length - 1].title;\n\t\t\t}\n\t\t}\n\n\t\treturn title;\n\t}\n\n\treturn loading || settingsLoading || !zekr ? (\n\t\tloading || settingsLoading ? (\n\t\t\t<Loading />\n\t\t) : (\n\t\t\t<ErrorMessage retry={retryType.reloadPage} />\n\t\t)\n\t) : (\n\t\t<div className=\"zekr-container\">\n\t\t\t<PageMeta\n\t\t\t\ttitle={getPageTitle(zekr)}\n\t\t\t\tdescription={\n\t\t\t\t\tzekr.metaDescription ? zekr.metaDescription + ' - مشاهده ذکر و دعا' : 'مشاهده ذکر و دعا - ' + zekr?.fullName\n\t\t\t\t}\n\t\t\t/>\n\t\t\t<div className=\"sticky-inline-header\">\n\t\t\t\t<div className=\"block-cell\">\n\t\t\t\t\t<div className=\"page-inline-header\">\n\t\t\t\t\t\t<div className=\"inline-breadcrumbs hidden-xs\">\n\t\t\t\t\t\t\t<span className=\"breadcrumbs-list\">\n\t\t\t\t\t\t\t\t<span className=\"breadcrumb-item\">\n\t\t\t\t\t\t\t\t\t<Link to=\"/\" aria-label=\"صفحه اصلی\">\n\t\t\t\t\t\t\t\t\t\t<img src={HomeImage} className=\"icon-20\" alt=\"خانه\" />\n\t\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t{categories?.map((parent) => (\n\t\t\t\t\t\t\t\t\t<span key={parent.uid}>\n\t\t\t\t\t\t\t\t\t\t<span className=\"breadcrumb-separator\">\\</span>\n\t\t\t\t\t\t\t\t\t\t<span className=\"breadcrumb-item\">\n\t\t\t\t\t\t\t\t\t\t\t<Link to={'/zekr-list/' + parent.uid} key={parent.uid}>\n\t\t\t\t\t\t\t\t\t\t\t\t{/* {category.icon && <i className={'fa ' + category.icon}></i>} zekr-benefits-dialog*/}\n\t\t\t\t\t\t\t\t\t\t\t\t<CategoryListSmallIcon category={parent} />\n\t\t\t\t\t\t\t\t\t\t\t\t{parent.title}\n\t\t\t\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<h1 className=\"inline-title\">{zekr.fullName}</h1>\n\t\t\t\t\t\t<div className=\"inline-actions\">\n\t\t\t\t\t\t\t{zekr.benefits && zekr.benefits?.length > 0 && (\n\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\tonClick={openZekrBenefits}\n\t\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\t\ttitle=\"فضیلت\"\n\t\t\t\t\t\t\t\t\tclassName=\"button-simple mx-2\"\n\t\t\t\t\t\t\t\t\tdata-bs-toggle=\"modal\"\n\t\t\t\t\t\t\t\t\tdata-bs-target=\"#zekr-benefits-dialog\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<img src={IslamStarImage} className=\"icon-20\" alt=\"\" />\n\t\t\t\t\t\t\t\t\t<span className=\"hidden-xs-inline\">&nbsp; فضیلت</span>\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t<BackButton />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div>\n\t\t\t\t<div className=\"block-cell\">\n\t\t\t\t\t<div className=\"out-breadcrumbs visible-xs\">\n\t\t\t\t\t\t<span className=\"breadcrumbs-list\">\n\t\t\t\t\t\t\t<span className=\"breadcrumb-item\">\n\t\t\t\t\t\t\t\t<Link to=\"/\" aria-label=\"صفحه اصلی\">\n\t\t\t\t\t\t\t\t\t<img src={HomeImage} className=\"icon-20\" alt=\"خانه\" />\n\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t{categories?.map((parent) => (\n\t\t\t\t\t\t\t\t<span key={parent.uid}>\n\t\t\t\t\t\t\t\t\t<span className=\"breadcrumb-separator\">\\</span>\n\t\t\t\t\t\t\t\t\t<span className=\"breadcrumb-item\">\n\t\t\t\t\t\t\t\t\t\t<Link to={'/zekr-list/' + parent.uid} key={parent.uid}>\n\t\t\t\t\t\t\t\t\t\t\t{/* {category.icon && <i className={'fa ' + category.icon}></i>} */}\n\t\t\t\t\t\t\t\t\t\t\t<CategoryListSmallIcon category={parent} />\n\t\t\t\t\t\t\t\t\t\t\t{parent.title}\n\t\t\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"mb-4\"></div>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div className=\"zekr-body-container\">\n\t\t\t\t{zekr.zekrBody.map((body, index) => (\n\t\t\t\t\t<ZekrBodyText settings={settings} key={index} body={body} />\n\t\t\t\t))}\n\t\t\t</div>\n\t\t\t{zekr.source &&\n\t\t\t\tzekr.source.length > 0 &&\n\t\t\t\tzekr.source.map((src, index) => (\n\t\t\t\t\t<div className=\"zekr-source\" key={index}>\n\t\t\t\t\t\tمنبع:&nbsp;\n\t\t\t\t\t\t<a href={src.url} target=\"_blank\" rel=\"noopener noreferrer nofollow\">\n\t\t\t\t\t\t\t{src.title}\n\t\t\t\t\t\t</a>\n\t\t\t\t\t</div>\n\t\t\t\t))}\n\t\t\t<div className=\"zekr-body-play-buttons\">\n\t\t\t\t{voicePlayerOpen && <ZekrVoicePlayer zekr={zekr} settings={settings} />}\n\t\t\t\t<ScrollTop />\n\t\t\t\t<TextZoomButtons />\n\t\t\t\t{zekr.zekrVoices && zekr.zekrVoices.length > 0 && (\n\t\t\t\t\t<Fragment>\n\t\t\t\t\t\t{voicePlayerOpen && (\n\t\t\t\t\t\t\t<a href=\"#stop\" onClick={onVoicePlayerClose}>\n\t\t\t\t\t\t\t\t<img src=\"/assets/icons/stop.svg\" className=\"icon-28 link-image\" alt=\"⏹\" />\n\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t{!voicePlayerOpen && (\n\t\t\t\t\t\t\t<a href=\"#play\" onClick={onVoicePlayerOpen}>\n\t\t\t\t\t\t\t\t<img src=\"/assets/icons/play-button.svg\" className=\"icon-28 link-image\" alt=\"▶\" />\n\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</Fragment>\n\t\t\t\t)}\n\t\t\t\t<BookmarkZekrButton zekr={zekr} />\n\t\t\t\t{showZekrCounter && (\n\t\t\t\t\t<a href=\"#zekr-counter\" onClick={onShowZekrCounter} title=\"ذکر شمار\">\n\t\t\t\t\t\t<img src={TasbihImage} alt=\".\" className=\"icon-24 link-image\" />\n\t\t\t\t\t</a>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t\t{zekr.benefits && zekr.benefits.length > 0 && zekrBenefitsDialog()}\n\t\t\t{zekrCounterVisible && showZekrCounter && (\n\t\t\t\t<ZekrInlineCounter zekrCounts={zekr.zekrCounts} onCloseRequested={onCloseZekrCounter} />\n\t\t\t)}\n\t\t</div>\n\t);\n};\n\nconst mapStateToProps = (store: AppState) => {\n\treturn {\n\t\tsettings: store.settingsState.settings,\n\t\tsettingsLoading: store.settingsState.loading,\n\t};\n};\nconst mapDispatchToProps = (dispatch: ThunkDispatch<any, any, AnyAction>) => {\n\treturn {\n\t\treadSettings: () => dispatch(readSettingsActionCreator()),\n\t};\n};\nexport default connect(mapStateToProps, mapDispatchToProps)(ZekrPage);\n","import React, { FC } from 'react';\nimport { PageMeta } from '../../containers/PageMeta/PageMeta';\n\nexport const NotFoundPage: FC = () => {\n\treturn (\n\t\t<div>\n\t\t\t<PageMeta title=\"یافت نشد\" description=\"عنوان مورد نظر شما یافت نشد\" />\n\t\t\t<p>404 Not Found!</p>\n\t\t</div>\n\t);\n};\n","import React, { FC, FormEvent, useState } from 'react';\nimport { ZekrIndex } from '../../services/Zekr/models/Zekr';\nimport { searchZekrIndex } from '../../services/Zekr/ZekrSearch';\nimport { ZekrList } from '../ZekrList/ZekrList';\n\ninterface Props {\n\ttextBoxId: string;\n\tzekrList: ZekrIndex[];\n\tsectionTitle: string;\n\tdisplaySearchInputLimit?: number;\n\tdisplayRemoveButton?: boolean;\n\tonRemoveClick?: (zekr: ZekrIndex) => void;\n}\n\nexport const ZekrListSearchable: FC<Props> = ({\n\ttextBoxId,\n\tzekrList,\n\tsectionTitle,\n\tdisplaySearchInputLimit,\n\tdisplayRemoveButton,\n\tonRemoveClick,\n}) => {\n\tconst searchResultLimit: number = 20;\n\tconst [searchText, setSearchText] = useState<string>('');\n\tconst [zekrSearchResult, setZekrSearchResult] = useState<ZekrIndex[] | null>();\n\n\tif (!displaySearchInputLimit) {\n\t\t// default limit to show search box\n\t\tdisplaySearchInputLimit = 15;\n\t}\n\n\tvar searchTimeout: NodeJS.Timeout;\n\tfunction onSearchInput(event: FormEvent<HTMLInputElement>) {\n\t\tevent.preventDefault();\n\n\t\tif (searchTimeout) {\n\t\t\tclearTimeout(searchTimeout);\n\t\t}\n\t\tsearchTimeout = setTimeout(doSearch, 250);\n\t}\n\tfunction onSearchChange() {\n\t\tdoSearch();\n\t}\n\n\tfunction onSearchInputKeyDown(event: React.KeyboardEvent<HTMLInputElement>) {\n\t\tif (event.key == 'Enter') {\n\t\t\tdoSearch();\n\t\t\tdocument.getElementById(textBoxId)?.blur();\n\n\t\t\tvar items = document.getElementsByClassName('item-button');\n\t\t\tif (items.length) {\n\t\t\t\t(items[0] as HTMLInputElement).focus();\n\t\t\t}\n\t\t}\n\t}\n\tfunction onSearchIconClick() {\n\t\tdoSearch();\n\t}\n\tfunction doSearch() {\n\t\tvar val = (document.getElementById(textBoxId) as HTMLInputElement).value;\n\t\tif (!val) {\n\t\t\tsetSearchText(val);\n\t\t\tsetZekrSearchResult(null);\n\t\t\treturn;\n\t\t}\n\n\t\tvar searchResult = searchZekrIndex(zekrList, val, searchResultLimit);\n\t\tsetZekrSearchResult(searchResult);\n\t\tsetSearchText(val);\n\t}\n\n\treturn (\n\t\t<section className=\"main-section\">\n\t\t\t<h3 className=\"main-section-title title-with-tools\">\n\t\t\t\t<span className=\"no-wrap\">{sectionTitle}</span>\n\t\t\t\t{zekrList.length > displaySearchInputLimit && (\n\t\t\t\t\t<div className=\"input-group input-group-sm search-input\">\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\tid={textBoxId}\n\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t\taria-describedby=\"zekrlist-search-input\"\n\t\t\t\t\t\t\tplaceholder=\"جستجو در این اذکار\"\n\t\t\t\t\t\t\tonInput={onSearchInput}\n\t\t\t\t\t\t\tonChange={onSearchChange}\n\t\t\t\t\t\t\tonKeyDown={onSearchInputKeyDown}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\tclassName=\"btn btn-outline-secondary button-icon\"\n\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\tid=\"zekrlist-search-input\"\n\t\t\t\t\t\t\tonClick={onSearchIconClick}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<span role=\"img\">🔍</span>\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\t\t\t</h3>\n\t\t\t<div className=\"\">\n\t\t\t\t{searchText && !zekrSearchResult?.length && (\n\t\t\t\t\t<div className=\"\">متاسفانه نتیجه ای یافت نشد. با کلمات کوتاه تر امتحان کنید.</div>\n\t\t\t\t)}\n\t\t\t\t{!searchText && !zekrList.length && <div>هیچ ذکری یافت نشد</div>}\n\t\t\t\t{(zekrSearchResult?.length || zekrList.length > 0) && (\n\t\t\t\t\t<ZekrList\n\t\t\t\t\t\tdata={zekrSearchResult || zekrList}\n\t\t\t\t\t\tdisplayRemoveButton={displayRemoveButton}\n\t\t\t\t\t\tonRemoveClick={onRemoveClick}\n\t\t\t\t\t/>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t</section>\n\t);\n};\n","import './ZekrCategoryPage.scss';\nimport React, { FC, useEffect, useState } from 'react';\nimport { Link, RouteComponentProps } from 'react-router-dom';\nimport { ErrorMessage, retryType } from '../../components/ErrorMessage/ErrorMessage';\nimport { Loading } from '../../components/Loading/Loading';\nimport { ZekrIndex } from '../../services/Zekr/models/Zekr';\nimport { ZekrCategory } from '../../services/Zekr/models/ZekrCategory';\nimport { getZekrByCategoryUid, getZekrCategoryByUid, getZekrCategoryChildrenByParentUid } from '../../services/Zekr/ZekrService';\nimport { CategoryList } from '../../containers/CategoryList/CategoryList';\nimport { BackButton } from '../../components/BackButton/BackButton';\nimport { CategoryListSmallIcon } from '../../containers/CategoryList/CategoryListSmallIcon';\nimport { ZekrListSearchable } from '../../containers/ZekrListSearchable/ZekrListSearchable';\nimport { PageMeta } from '../../containers/PageMeta/PageMeta';\nimport HomeImage from '../../assets-offline/icons/home.svg';\n\ninterface params {\n\tcategoryUid: string;\n}\nexport const ZekrCategoryPage: FC<RouteComponentProps<params>> = ({ match, history }) => {\n\tconst [zekrList, setZekrList] = useState<ZekrIndex[]>();\n\tconst [loading, setLoading] = useState<boolean>(true);\n\tconst [childrenCategories, setChildrenCategories] = useState<ZekrCategory[]>();\n\tconst [category, setCategory] = useState<ZekrCategory>();\n\tconst [catParents, setCatParents] = useState<ZekrCategory[]>([]);\n\n\tvar categoryUid = match.params.categoryUid;\n\n\tuseEffect(() => {\n\t\tasync function doGetZekrList() {\n\t\t\tsetLoading(true);\n\t\t\tlet categoriesPromise = getZekrCategoryChildrenByParentUid(categoryUid).catch((err) => {\n\t\t\t\tconsole.warn('Failed to read parent categories for: ' + categoryUid, err);\n\t\t\t});\n\t\t\tlet categoryPromise = getZekrCategoryByUid(categoryUid).catch((err) => {\n\t\t\t\tconsole.warn('Failed to read Category: ' + categoryUid, err);\n\t\t\t});\n\n\t\t\tlet loadedZekrList = await getZekrByCategoryUid(categoryUid).catch((err) => {\n\t\t\t\tconsole.warn('Failed to read Zekr list for category:' + categoryUid, err);\n\t\t\t});\n\t\t\tlet categories = await categoriesPromise;\n\t\t\tlet category = await categoryPromise;\n\n\t\t\tlet parents: ZekrCategory[] = [];\n\n\t\t\tif (category && category.parent?.length) {\n\t\t\t\tfor (const parentUid of category.parent) {\n\t\t\t\t\tlet parent = await getZekrCategoryByUid(parentUid).catch(() => {});\n\t\t\t\t\tif (parent) {\n\t\t\t\t\t\tparents.push(parent);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tsetCatParents(parents);\n\t\t\t} else {\n\t\t\t\tsetCatParents([]);\n\t\t\t}\n\n\t\t\tif (loadedZekrList) setZekrList(loadedZekrList);\n\t\t\telse setZekrList(undefined);\n\n\t\t\tif (categories) setChildrenCategories(categories);\n\t\t\telse setChildrenCategories(undefined);\n\n\t\t\tif (category) setCategory(category);\n\t\t\telse setCategory(undefined);\n\n\t\t\tsetLoading(false);\n\t\t}\n\t\tdoGetZekrList();\n\t}, [categoryUid]);\n\n\tfunction categoryClick() {\n\t\thistory.push('/zekr-list/' + category?.uid);\n\t}\n\n\treturn loading || !zekrList ? (\n\t\tloading ? (\n\t\t\t<Loading />\n\t\t) : (\n\t\t\t<ErrorMessage retry={retryType.reloadPage} />\n\t\t)\n\t) : (\n\t\t<div>\n\t\t\t<PageMeta title={category?.title + ' - مشاهده دسته'} description={'مشاهده دسته - ' + category?.title} />\n\t\t\t<div className=\"sticky-inline-header\">\n\t\t\t\t<div className=\"block-cell\">\n\t\t\t\t\t<div className=\"page-inline-header\">\n\t\t\t\t\t\t<div className=\"inline-breadcrumbs hidden-xs\">\n\t\t\t\t\t\t\t{/* ---------- */}\n\t\t\t\t\t\t\t<span className=\"breadcrumbs-list\">\n\t\t\t\t\t\t\t\t<span className=\"breadcrumb-item\">\n\t\t\t\t\t\t\t\t\t<Link to=\"/\" aria-label=\"صفحه اصلی\">\n\t\t\t\t\t\t\t\t\t\t<img src={HomeImage} className=\"icon-20\" alt=\"خانه\" />\n\t\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t{catParents?.map((parent) => (\n\t\t\t\t\t\t\t\t\t<span key={parent.uid}>\n\t\t\t\t\t\t\t\t\t\t<span className=\"breadcrumb-separator\">\\</span>\n\t\t\t\t\t\t\t\t\t\t<span className=\"breadcrumb-item\">\n\t\t\t\t\t\t\t\t\t\t\t<Link to={'/zekr-list/' + parent.uid} key={parent.uid}>\n\t\t\t\t\t\t\t\t\t\t\t\t{/* {category.icon && <i className={'fa ' + category.icon}></i>} */}\n\t\t\t\t\t\t\t\t\t\t\t\t<CategoryListSmallIcon category={parent} />\n\t\t\t\t\t\t\t\t\t\t\t\t{parent.title}\n\t\t\t\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<h1 className=\"inline-title\">\n\t\t\t\t\t\t\t{category && (\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t{/* {category.icon && <i className={'fa ' + category.icon}></i>} */}\n\t\t\t\t\t\t\t\t\t<Link to={'/zekr-list/' + category.uid} key={category.uid}>\n\t\t\t\t\t\t\t\t\t\tمشاهده دسته: {category.title}\n\t\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</h1>\n\t\t\t\t\t\t<div className=\"inline-actions\">\n\t\t\t\t\t\t\t<BackButton />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div>\n\t\t\t\t<div className=\"block-cell\">\n\t\t\t\t\t<div className=\"out-breadcrumbs visible-xs\">\n\t\t\t\t\t\t{/* ---------- */}\n\t\t\t\t\t\t<span className=\"breadcrumbs-list\">\n\t\t\t\t\t\t\t<span className=\"breadcrumb-item\">\n\t\t\t\t\t\t\t\t<Link to=\"/\" aria-label=\"صفحه اصلی\">\n\t\t\t\t\t\t\t\t\t<img src={HomeImage} className=\"icon-20\" alt=\"خانه\" />\n\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t{catParents?.map((parent) => (\n\t\t\t\t\t\t\t\t<span key={parent.uid}>\n\t\t\t\t\t\t\t\t\t<span className=\"breadcrumb-separator\">\\</span>\n\t\t\t\t\t\t\t\t\t<span className=\"breadcrumb-item\">\n\t\t\t\t\t\t\t\t\t\t<Link to={'/zekr-list/' + parent.uid} key={parent.uid}>\n\t\t\t\t\t\t\t\t\t\t\t{/* {category.icon && <i className={'fa ' + category.icon}></i>} */}\n\t\t\t\t\t\t\t\t\t\t\t<CategoryListSmallIcon category={parent} />\n\t\t\t\t\t\t\t\t\t\t\t{parent.title}\n\t\t\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"mb-4\"></div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t{category?.description && (\n\t\t\t\t<div>\n\t\t\t\t\t<main className=\"category-description\">\n\t\t\t\t\t\t<p>{category?.description}</p>\n\t\t\t\t\t</main>\n\t\t\t\t</div>\n\t\t\t)}\n\t\t\t{childrenCategories && (\n\t\t\t\t<section className=\"main-section\">\n\t\t\t\t\t<h3 className=\"main-section-title\">\n\t\t\t\t\t\t<span>⭐</span>\n\t\t\t\t\t\tزیر مجموعه ها\n\t\t\t\t\t</h3>\n\t\t\t\t\t<div className=\"\">\n\t\t\t\t\t\t<CategoryList data={childrenCategories} />\n\t\t\t\t\t</div>\n\t\t\t\t</section>\n\t\t\t)}\n\t\t\t<ZekrListSearchable textBoxId=\"category-page-zekr\" sectionTitle=\"⭐ دعاها\" zekrList={zekrList} />\n\t\t</div>\n\t);\n};\n","import { Reducer } from 'redux';\nimport {\n\tAction_ReadingSettings,\n\tAction_ReadSettings,\n\tAction_SaveSettings,\n\tAction_SavingSettings,\n\tSettingsActions,\n} from '../Actions/SettingsActions';\nimport { SettingsState } from '../store';\n\nconst initialSettingsState: SettingsState = {\n\tloading: false,\n\tsettings: undefined,\n\tuserInformation: undefined,\n};\n\nconst neverReached = (never: never) => {};\n\nexport const settingsReducer: Reducer<SettingsState, SettingsActions> = (state = initialSettingsState, action): any => {\n\tswitch (action.type) {\n\t\tcase Action_ReadingSettings: {\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tsettings: null,\n\t\t\t\tuserInformation: null,\n\t\t\t\tloading: true,\n\t\t\t};\n\t\t}\n\t\tcase Action_ReadSettings: {\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tsettings: action.settings,\n\t\t\t\tuserInformation: action.userInformation,\n\t\t\t\tloading: false,\n\t\t\t};\n\t\t}\n\t\tcase Action_SavingSettings: {\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tloading: true,\n\t\t\t};\n\t\t}\n\t\tcase Action_SaveSettings: {\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tloading: false,\n\t\t\t};\n\t\t}\n\t\tdefault:\n\t\t\tneverReached(action);\n\t}\n\treturn state;\n};\n","import { combineReducers } from 'redux';\nimport { AppState } from '../store';\nimport { settingsReducer } from './SettingsReducer';\n\nexport const rootReducer = combineReducers<AppState>({\n\tsettingsState: settingsReducer,\n});\n","import { ZekrIndex } from './models/Zekr';\nimport { getZekrIndexList, getWebZekrCategoryList } from './ZekrWebService';\n\n/**\n * Get random recommendations based on categories\n * @param count Number of recommendations to return\n */\nexport async function getRandomRecommendations(count: number = 5): Promise<ZekrIndex[]> {\n\ttry {\n\t\tconst zekrList = await getZekrIndexList();\n\t\tconst categoryList = await getWebZekrCategoryList();\n\n\t\tif (!zekrList || !categoryList) {\n\t\t\treturn [];\n\t\t}\n\n\t\t// Get random categories\n\t\tconst randomCategories = getRandomItems(categoryList, 3).map((cat) => cat.uid);\n\n\t\t// Filter zekr based on random categories\n\t\tconst filteredZekr = zekrList.filter((zekr) => randomCategories.includes(zekr.category));\n\n\t\t// Return random selection from filtered results\n\t\treturn getRandomItems(filteredZekr, count);\n\t} catch (error) {\n\t\tconsole.error('Error getting recommendations:', error);\n\t\treturn [];\n\t}\n}\n\n/**\n * Get recommendations based on a specific category\n * @param categoryUid Category UID to base recommendations on\n * @param count Number of recommendations to return\n */\nexport async function getRecommendationsByCategory(categoryUid: string, count: number = 5): Promise<ZekrIndex[]> {\n\ttry {\n\t\tconst zekrList = await getZekrIndexList();\n\t\tif (!zekrList) return [];\n\n\t\tconst filteredZekr = zekrList.filter((zekr) => zekr.category === categoryUid);\n\n\t\treturn getRandomItems(filteredZekr, count);\n\t} catch (error) {\n\t\tconsole.error('Error getting recommendations by category:', error);\n\t\treturn [];\n\t}\n}\n\n/**\n * Get random items from an array\n */\nfunction getRandomItems<T>(array: T[], count: number): T[] {\n\tconst shuffled = [...array].sort(() => 0.5 - Math.random());\n\treturn shuffled.slice(0, Math.min(count, array.length));\n}\n","import { FC, useEffect, useState } from 'react';\nimport { ZekrIndex } from '../../services/Zekr/models/Zekr';\nimport { getRandomRecommendations } from '../../services/Zekr/ZekrRecommendationService';\nimport { ZekrListSummary } from '../../containers/ZekrListSummary/ZekrListSummary';\nimport './ZekrRecommendations.scss';\n\ninterface Props {\n\ttitle?: string;\n\tcount?: number;\n}\n\nexport const ZekrRecommendations: FC<Props> = ({ title = 'پیشنهادات برای شما', count = 5 }) => {\n\tconst [recommendations, setRecommendations] = useState<ZekrIndex[]>([]);\n\tconst [loading, setLoading] = useState(true);\n\n\tconst loadRecommendations = async () => {\n\t\ttry {\n\t\t\tsetLoading(true);\n\t\t\tconst data = await getRandomRecommendations(count);\n\t\t\tsetRecommendations(data);\n\t\t} catch (error) {\n\t\t\tconsole.error('Error loading recommendations:', error);\n\t\t} finally {\n\t\t\tsetLoading(false);\n\t\t}\n\t};\n\n\tuseEffect(() => {\n\t\tloadRecommendations();\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, [count]);\n\n\tconst refreshRecommendations = () => {\n\t\tloadRecommendations();\n\t};\n\n\tif (loading || recommendations.length === 0) {\n\t\treturn <span />;\n\t}\n\n\treturn (\n\t\t<section className=\"main-section zekr-recommendations\">\n\t\t\t<div className=\"\">\n\t\t\t\t<h3 className=\"main-section-title title-with-tools\">\n\t\t\t\t\t{title}\n\t\t\t\t\t<button className=\"button-simple refresh-btn\" onClick={refreshRecommendations} title=\"بروزرسانی پیشنهادات\">\n\t\t\t\t\t\t<i className=\"fas fa-sync-alt\"></i>\n\t\t\t\t\t</button>\n\t\t\t\t</h3>\n\t\t\t</div>\n\t\t\t<div className=\"recommendations-contentXX\">\n\t\t\t\t<ZekrListSummary data={recommendations} />\n\t\t\t</div>\n\t\t</section>\n\t);\n};\n","import { Link } from 'react-router-dom';\nimport { BackButton } from '../../components/BackButton/BackButton';\nimport { PageMeta } from '../../containers/PageMeta/PageMeta';\nimport { ZekrRecommendations } from '../../components/ZekrRecommendations/ZekrRecommendations';\nimport './ZekrCounter.scss';\nimport HomeImage from '../../assets-offline/icons/home.svg';\nimport { ZekrCounterComponent } from '../../components/ZekrCounter/ZekrCounterComponent';\n\nexport const ZekrCounter = () => {\n\treturn (\n\t\t<div className=\"zekr-counter-page\">\n\t\t\t<PageMeta\n\t\t\t\ttitle=\"ذکر شمار - شمارش ذکر و صلوات\"\n\t\t\t\tdescription=\"شمارش ذکر و صلوات با افزایش و کاهنده شمارش. نمایش ذکر های قبلی.\"\n\t\t\t/>\n\t\t\t<div className=\"sticky-inline-header-DISABLED\">\n\t\t\t\t<div className=\"block-cell\">\n\t\t\t\t\t<div className=\"page-inline-header\">\n\t\t\t\t\t\t<div className=\"inline-breadcrumbs hidden-xs\">\n\t\t\t\t\t\t\t<span className=\"breadcrumbs-list\">\n\t\t\t\t\t\t\t\t<span className=\"breadcrumb-item\">\n\t\t\t\t\t\t\t\t\t<Link to=\"/\" aria-label=\"صفحه اصلی\">\n\t\t\t\t\t\t\t\t\t\t<img src={HomeImage} className=\"icon-20 mx-1\" alt=\"خانه\" />\n\t\t\t\t\t\t\t\t\t\tصفحه دعاها\n\t\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<h1 className=\"inline-title\">ذکر شمار</h1>\n\t\t\t\t\t\t<div className=\"inline-actions\">\n\t\t\t\t\t\t\t<BackButton />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<ZekrCounterComponent />\n\n\t\t\t<ZekrRecommendations title=\"پیشنهادات ذکر\" count={4} />\n\t\t</div>\n\t);\n};\n","import './FavoritesPage.scss';\nimport { AnyAction } from 'redux';\nimport React, { FC, useEffect, useState } from 'react';\nimport { Link, RouteComponentProps } from 'react-router-dom';\nimport { ThunkDispatch } from 'redux-thunk';\nimport { AppSettings } from '../../services/Settings/models/AppSettings';\nimport { readSettingsActionCreator, saveSettingsActionCreator } from '../../store/Actions/SettingsActions';\nimport { AppState } from '../../store/store';\nimport { connect } from 'react-redux';\nimport { ZekrListSearchable } from '../../containers/ZekrListSearchable/ZekrListSearchable';\nimport { BackButton } from '../../components/BackButton/BackButton';\nimport { Loading } from '../../components/Loading/Loading';\nimport { ErrorMessage, retryType } from '../../components/ErrorMessage/ErrorMessage';\nimport { getZekrIndexList } from '../../services/Zekr/ZekrWebService';\nimport { ZekrIndex } from '../../services/Zekr/models/Zekr';\nimport { PageMeta } from '../../containers/PageMeta/PageMeta';\nimport HomeImage from '../../assets-offline/icons/home.svg';\n\ninterface Props extends RouteComponentProps {\n\tsettings: AppSettings | undefined;\n\tsettingsLoading: boolean;\n\treadSettings: () => void;\n\tsaveSettings: (settings: AppSettings) => void;\n}\n\nconst FavoritesPage: FC<Props> = ({ settings, settingsLoading, readSettings, saveSettings }) => {\n\tfunction saveChanges() {\n\t\tif (settings) saveSettings(settings);\n\t}\n\n\tconst [loading, setLoading] = useState<boolean>(true);\n\tconst [zekrIndexList, setZekrIndexList] = useState<ZekrIndex[]>([]);\n\tconst [zekrFavorites, setZekrFavorites] = useState<ZekrIndex[]>([]);\n\n\tuseEffect(() => {\n\t\tasync function doGetZekrList() {\n\t\t\tsetLoading(true);\n\t\t\tlet loadedZekrIndexList = await getZekrIndexList();\n\n\t\t\tif (loadedZekrIndexList) {\n\t\t\t\tsetZekrIndexList(loadedZekrIndexList);\n\t\t\t}\n\n\t\t\tsetLoading(false);\n\n\t\t\treloadZekrFavorites();\n\t\t}\n\t\tdoGetZekrList();\n\t}, []);\n\n\tfunction onRemoveClick(zekr: ZekrIndex) {\n\t\tif (!zekr) return;\n\n\t\tif (!settings || !zekrIndexList || !zekrIndexList.length) return;\n\n\t\t// if already removed\n\t\tif (!zekrFavorites.length) return;\n\t\tvar userFavList = settings.userFavorites;\n\n\t\tvar zekrIndex = userFavList.findIndex((z) => z.zekrUid == zekr.uid);\n\t\tif (zekrIndex >= 0) {\n\t\t\tvar confirmed = window.confirm('آیا واقعا مایل به حذف هستید؟');\n\t\t\tif (!confirmed) return;\n\n\t\t\tuserFavList.splice(zekrIndex, 1);\n\n\t\t\tsaveChanges();\n\t\t\treloadZekrFavorites(true);\n\t\t}\n\t}\n\n\tfunction reloadZekrFavorites(forceReload = false) {\n\t\tif (loading || settingsLoading) return;\n\t\tif (!settings || !zekrIndexList || !zekrIndexList.length) return;\n\n\t\t// if already extracted\n\t\tif (zekrFavorites.length && !forceReload) return;\n\n\t\tif (settings.userFavorites) {\n\t\t\tvar foundZekr: ZekrIndex[] = [];\n\n\t\t\tfor (const fav of settings.userFavorites) {\n\t\t\t\tvar zekr = zekrIndexList.find((z) => z.uid == fav.zekrUid);\n\t\t\t\tif (zekr) {\n\t\t\t\t\tfoundZekr.push(zekr);\n\t\t\t\t} else {\n\t\t\t\t\t// TODO: remove the bookmark as it is invalid!\n\t\t\t\t\tconsole.warn('Favourite not found!', fav.zekrUid);\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (foundZekr.length || forceReload) {\n\t\t\t\tsetZekrFavorites(foundZekr);\n\t\t\t}\n\t\t}\n\t}\n\n\t// run at every render\n\treloadZekrFavorites();\n\n\treturn settingsLoading || !settings ? (\n\t\tsettingsLoading ? (\n\t\t\t<Loading />\n\t\t) : (\n\t\t\t<ErrorMessage retry={retryType.reloadPage} />\n\t\t)\n\t) : (\n\t\t<div>\n\t\t\t<PageMeta title=\"لیست علاقه مندی ها\" description=\"مشاهده و مدیریت لیست علاقه مندی های شما\" />\n\t\t\t<div className=\"sticky-inline-header\">\n\t\t\t\t<div className=\"block-cell\">\n\t\t\t\t\t<div className=\"page-inline-header\">\n\t\t\t\t\t\t<div className=\"inline-breadcrumbs hidden-xs\">\n\t\t\t\t\t\t\t{/* ---------- */}\n\t\t\t\t\t\t\t<span className=\"breadcrumbs-list\">\n\t\t\t\t\t\t\t\t<span className=\"breadcrumb-item\">\n\t\t\t\t\t\t\t\t\t<Link to=\"/\" aria-label=\"صفحه اصلی\">\n\t\t\t\t\t\t\t\t\t\t<img src={HomeImage} className=\"icon-20\" alt=\"خانه\" />\n\t\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"inline-title\">\n\t\t\t\t\t\t\t<i className=\"fas fa-heart text-danger\"></i> لیست علاقه مندی ها\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"inline-actions\">\n\t\t\t\t\t\t\t<BackButton />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div>\n\t\t\t\t<div className=\"block-cell\">\n\t\t\t\t\t<div className=\"out-breadcrumbs visible-xs\">\n\t\t\t\t\t\t<span className=\"breadcrumbs-list\">\n\t\t\t\t\t\t\t<span className=\"breadcrumb-item\">\n\t\t\t\t\t\t\t\t<Link to=\"/\" aria-label=\"صفحه اصلی\">\n\t\t\t\t\t\t\t\t\t<img src={HomeImage} className=\"icon-20\" alt=\"خانه\" />\n\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"mb-4\"></div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<ZekrListSearchable\n\t\t\t\ttextBoxId=\"favorites-page-zekr\"\n\t\t\t\tsectionTitle=\"لیست علاقه مندی ها\"\n\t\t\t\tzekrList={zekrFavorites}\n\t\t\t\tdisplayRemoveButton={true}\n\t\t\t\tonRemoveClick={onRemoveClick}\n\t\t\t/>\n\t\t</div>\n\t);\n};\nconst mapStateToProps = (store: AppState) => {\n\treturn {\n\t\tsettings: store.settingsState.settings,\n\t\tsettingsLoading: store.settingsState.loading,\n\t};\n};\nconst mapDispatchToProps = (dispatch: ThunkDispatch<any, any, AnyAction>) => {\n\treturn {\n\t\treadSettings: () => dispatch(readSettingsActionCreator()),\n\t\tsaveSettings: (settings: AppSettings) => dispatch(saveSettingsActionCreator(settings)),\n\t};\n};\nexport default connect(mapStateToProps, mapDispatchToProps)(FavoritesPage);\n","import { useEffect } from 'react';\nimport { BrowserRouter, Route, Switch, Redirect } from 'react-router-dom';\nimport './App.scss';\nimport ReactGA from 'react-ga';\nimport Layout from './containers/Layout/Layout';\nimport { HomePage } from './pages/HomePage/HomePage';\nimport ZekrPage from './pages/ZekrPage/ZekrPage';\nimport { NotFoundPage } from './pages/NotFoundPage/NotFoundPage';\nimport { ZekrCategoryPage } from './pages/ZekrCategoryPage/ZekrCategoryPage';\nimport { configureStore } from './store/store';\nimport { Provider } from 'react-redux';\nimport { ZekrCounter } from './pages/ZekrCounter/ZekrCounter';\nimport FavoritesPage from './pages/FavoritesPage/FavoritesPage';\nimport { createBrowserHistory } from 'history';\n\nfunction App() {\n\tconst store = configureStore();\n\n\tuseEffect(() => {\n\t\taddFontStyleSheets();\n\n\t\tconst history = createBrowserHistory();\n\t\t// Initialize google analytics page view tracking\n\t\tReactGA.initialize('G-9BKCVXCGTY', { testMode: process.env.NODE_ENV === 'test' });\n\t\thistory.listen((location) => {\n\t\t\tReactGA.set({ page: location.pathname }); // Update the user's current page\n\t\t\tReactGA.pageview(location.pathname); // Record a pageview for the given page\n\t\t});\n\t}, []);\n\n\t/**\n\t * Add fonts css to the page dynamically\n\t */\n\tfunction addFontStyleSheets() {\n\t\tvar cssFile = document.createElement('link');\n\t\tcssFile.rel = 'stylesheet';\n\t\tcssFile.href = '/assets/css/fonts.css';\n\t\tcssFile.setAttribute('id', 'fonts-stylesheet');\n\t\tdocument.head.appendChild(cssFile);\n\t}\n\tfunction reAddFontStyleSheets() {\n\t\tvar fontsStylesheet = document.getElementById('fonts-stylesheet');\n\t\tif (fontsStylesheet) {\n\t\t\tfontsStylesheet.remove();\n\t\t\tconsole.log('removed fonts-stylesheet');\n\t\t} else {\n\t\t\tconsole.log('fonts-stylesheet not found!');\n\t\t}\n\t\taddFontStyleSheets();\n\t}\n\twindow.addEventListener('offline', () => {\n\t\t// Update your UI to reflect that there's no connection.\n\t\tconsole.log('Network is offline!');\n\t\treAddFontStyleSheets();\n\t});\n\n\twindow.addEventListener('online', () => {\n\t\t// Update your UI to reflect that the connection is back.\n\t\tconsole.log('Network is online!');\n\t});\n\n\treturn (\n\t\t<Provider store={store}>\n\t\t\t<BrowserRouter basename={process.env.PUBLIC_URL}>\n\t\t\t\t<Layout>\n\t\t\t\t\t<Switch>\n\t\t\t\t\t\t<Redirect path=\"/home\" to=\"/\" />\n\t\t\t\t\t\t<Route exact path=\"/\" component={HomePage} />\n\t\t\t\t\t\t<Route path=\"/zekr/:zekrUid\" component={ZekrPage} />\n\t\t\t\t\t\t<Route path=\"/zekr-list/:categoryUid\" component={ZekrCategoryPage} />\n\t\t\t\t\t\t<Route path=\"/counter\" component={ZekrCounter} />\n\t\t\t\t\t\t<Route path=\"/favorites\" component={FavoritesPage} />\n\t\t\t\t\t\t<Route component={NotFoundPage} />\n\t\t\t\t\t</Switch>\n\t\t\t\t</Layout>\n\t\t\t</BrowserRouter>\n\t\t</Provider>\n\t);\n}\n\nexport default App;\n","import { applyMiddleware, createStore, Store } from 'redux';\nimport thunk from 'redux-thunk';\nimport { AppSettings } from '../services/Settings/models/AppSettings';\nimport { UserInformation } from '../services/Settings/models/UserInformation';\nimport { rootReducer } from './Reducers/rootReducer';\n\nexport interface SettingsState {\n\treadonly loading: boolean;\n\treadonly settings: AppSettings | undefined;\n\treadonly userInformation: UserInformation | undefined;\n}\n\nexport interface AppState {\n\treadonly settingsState: SettingsState;\n}\n\nexport function configureStore(): Store<AppState> {\n\tconst store = createStore(rootReducer, undefined, applyMiddleware(thunk));\n\treturn store;\n}\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://cra.link/PWA\n\nconst isLocalhost = Boolean(\n\twindow.location.hostname === 'localhost' ||\n\t\t// [::1] is the IPv6 localhost address.\n\t\twindow.location.hostname === '[::1]' ||\n\t\t// 127.0.0.0/8 are considered localhost for IPv4.\n\t\twindow.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/),\n);\n\ntype Config = {\n\tonSuccess?: (registration: ServiceWorkerRegistration) => void;\n\tonUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n\tif (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n\t\t// The URL constructor is available in all browsers that support SW.\n\t\tconst publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n\t\tif (publicUrl.origin !== window.location.origin) {\n\t\t\t// Our service worker won't work if PUBLIC_URL is on a different origin\n\t\t\t// from what our page is served on. This might happen if a CDN is used to\n\t\t\t// serve assets; see https://github.com/facebook/create-react-app/issues/2374\n\t\t\treturn;\n\t\t}\n\n\t\twindow.addEventListener('load', () => {\n\t\t\tconst swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n\t\t\tif (isLocalhost) {\n\t\t\t\t// This is running on localhost. Let's check if a service worker still exists or not.\n\t\t\t\tcheckValidServiceWorker(swUrl, config);\n\n\t\t\t\t// Add some additional logging to localhost, pointing developers to the\n\t\t\t\t// service worker/PWA documentation.\n\t\t\t\tnavigator.serviceWorker.ready.then(() => {\n\t\t\t\t\tconsole.log(\n\t\t\t\t\t\t'This web app is being served cache-first by a service ' +\n\t\t\t\t\t\t\t'worker. To learn more, visit https://cra.link/PWA',\n\t\t\t\t\t);\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\t// Is not localhost. Just register service worker\n\t\t\t\tregisterValidSW(swUrl, config);\n\t\t\t}\n\t\t});\n\t}\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n\tnavigator.serviceWorker\n\t\t.register(swUrl)\n\t\t.then((registration) => {\n\t\t\tregistration.onupdatefound = () => {\n\t\t\t\tconst installingWorker = registration.installing;\n\t\t\t\tif (installingWorker == null) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tinstallingWorker.onstatechange = () => {\n\t\t\t\t\tif (installingWorker.state === 'installed') {\n\t\t\t\t\t\tif (navigator.serviceWorker.controller) {\n\t\t\t\t\t\t\t// At this point, the updated precached content has been fetched,\n\t\t\t\t\t\t\t// but the previous service worker will still serve the older\n\t\t\t\t\t\t\t// content until all client tabs are closed.\n\t\t\t\t\t\t\tconsole.log(\n\t\t\t\t\t\t\t\t'New content is available and will be used when all ' +\n\t\t\t\t\t\t\t\t\t'tabs for this page are closed. See https://cra.link/PWA.',\n\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t\t// Execute callback\n\t\t\t\t\t\t\tif (config && config.onUpdate) {\n\t\t\t\t\t\t\t\tconfig.onUpdate(registration);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t// At this point, everything has been precached.\n\t\t\t\t\t\t\t// It's the perfect time to display a\n\t\t\t\t\t\t\t// \"Content is cached for offline use.\" message.\n\t\t\t\t\t\t\tconsole.log('Content is cached for offline use.');\n\n\t\t\t\t\t\t\t// Execute callback\n\t\t\t\t\t\t\tif (config && config.onSuccess) {\n\t\t\t\t\t\t\t\tconfig.onSuccess(registration);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t};\n\t\t})\n\t\t.catch((error) => {\n\t\t\tconsole.error('Error during service worker registration:', error);\n\t\t});\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n\t// Check if the service worker can be found. If it can't reload the page.\n\tfetch(swUrl, {\n\t\theaders: { 'Service-Worker': 'script' },\n\t})\n\t\t.then((response) => {\n\t\t\t// Ensure service worker exists, and that we really are getting a JS file.\n\t\t\tconst contentType = response.headers.get('content-type');\n\t\t\tif (response.status === 404 || (contentType != null && contentType.indexOf('javascript') === -1)) {\n\t\t\t\t// No service worker found. Probably a different app. Reload the page.\n\t\t\t\tnavigator.serviceWorker.ready.then((registration) => {\n\t\t\t\t\tregistration.unregister().then(() => {\n\t\t\t\t\t\twindow.location.reload();\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\t// Service worker found. Proceed as normal.\n\t\t\t\tregisterValidSW(swUrl, config);\n\t\t\t}\n\t\t})\n\t\t.catch(() => {\n\t\t\tconsole.log('No internet connection found. App is running in offline mode.');\n\t\t});\n}\n\nexport function unregister() {\n\tif ('serviceWorker' in navigator) {\n\t\tnavigator.serviceWorker.ready\n\t\t\t.then((registration) => {\n\t\t\t\tregistration.unregister();\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tconsole.error(error.message);\n\t\t\t});\n\t}\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.scss';\nimport App from './App';\nimport * as serviceWorkerRegistration from './serviceWorkerRegistration';\n\nReactDOM.render(\n\t<React.StrictMode>\n\t\t<App />\n\t</React.StrictMode>,\n\tdocument.getElementById('root'),\n);\n\n// https://felixgerschau.com/how-to-make-your-react-app-a-progressive-web-app-pwa/\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://cra.link/PWA\nserviceWorkerRegistration.register();\n"],"sourceRoot":""}